function dk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const fk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),j0=__DEFINES__;Object.keys(j0).forEach(n=>{const e=n.split(".");let t=fk;for(let r=0;r<e.length;r++){const s=e[r];r===e.length-1?t[s]=j0[n]:t=t[s]||(t[s]={})}});class pk{constructor(e,t,r){this.logger=e,this.transport=t,this.importUpdatedModule=r,this.hotModulesMap=new Map,this.disposeMap=new Map,this.pruneMap=new Map,this.dataMap=new Map,this.customListenersMap=new Map,this.ctxToListenersMap=new Map,this.updateQueue=[],this.pendingUpdateQueue=!1}async notifyListeners(e,t){const r=this.customListenersMap.get(e);r&&await Promise.allSettled(r.map(s=>s(t)))}send(e){this.transport.send(e).catch(t=>{this.logger.error(t)})}clear(){this.hotModulesMap.clear(),this.disposeMap.clear(),this.pruneMap.clear(),this.dataMap.clear(),this.customListenersMap.clear(),this.ctxToListenersMap.clear()}async prunePaths(e){await Promise.all(e.map(t=>{const r=this.disposeMap.get(t);if(r)return r(this.dataMap.get(t))})),e.forEach(t=>{const r=this.pruneMap.get(t);r&&r(this.dataMap.get(t))})}warnFailedUpdate(e,t){(!(e instanceof Error)||!e.message.includes("fetch"))&&this.logger.error(e),this.logger.error(`Failed to reload ${t}. This could be due to syntax errors or importing non-existent modules. (see errors above)`)}async queueUpdate(e){if(this.updateQueue.push(this.fetchUpdate(e)),!this.pendingUpdateQueue){this.pendingUpdateQueue=!0,await Promise.resolve(),this.pendingUpdateQueue=!1;const t=[...this.updateQueue];this.updateQueue=[],(await Promise.all(t)).forEach(r=>r&&r())}}async fetchUpdate(e){const{path:t,acceptedPath:r,firstInvalidatedBy:s}=e,a=this.hotModulesMap.get(t);if(!a)return;let l;const h=t===r,f=a.callbacks.filter(({deps:p})=>p.includes(r));if(h||f.length>0){const p=this.disposeMap.get(r);p&&await p(this.dataMap.get(r));try{l=await this.importUpdatedModule(e)}catch(g){this.warnFailedUpdate(g,r)}}return()=>{try{this.currentFirstInvalidatedBy=s;for(const{deps:g,fn:_}of f)_(g.map(E=>E===r?l:void 0));const p=h?t:`${r} via ${t}`;this.logger.debug(`hot updated: ${p}`)}finally{this.currentFirstInvalidatedBy=void 0}}}}let mk="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",gk=(n=21)=>{let e="",t=n|0;for(;t--;)e+=mk[Math.random()*64|0];return e};typeof process<"u"&&process.platform;function yk(){let n,e;return{promise:new Promise((r,s)=>{n=r,e=s}),resolve:n,reject:e}}function U0(n){const e=new Error(n.message||"Unknown invoke error");return Object.assign(e,n,{runnerError:new Error("RunnerError")}),e}const vk=n=>{if(n.invoke)return{...n,async invoke(t,r){const s=await n.invoke({type:"custom",event:"vite:invoke",data:{id:"send",name:t,data:r}});if("error"in s)throw U0(s.error);return s.result}};if(!n.send||!n.connect)throw new Error("transport must implement send and connect when invoke is not implemented");const e=new Map;return{...n,connect({onMessage:t,onDisconnection:r}){return n.connect({onMessage(s){if(s.type==="custom"&&s.event==="vite:invoke"){const a=s.data;if(a.id.startsWith("response:")){const l=a.id.slice(9),h=e.get(l);if(!h)return;h.timeoutId&&clearTimeout(h.timeoutId),e.delete(l);const{error:f,result:p}=a.data;f?h.reject(f):h.resolve(p);return}}t(s)},onDisconnection:r})},disconnect(){var t;return e.forEach(r=>{r.reject(new Error(`transport was disconnected, cannot call ${JSON.stringify(r.name)}`))}),e.clear(),(t=n.disconnect)==null?void 0:t.call(n)},send(t){return n.send(t)},async invoke(t,r){var E;const s=gk(),a={type:"custom",event:"vite:invoke",data:{name:t,id:`send:${s}`,data:r}},l=n.send(a),{promise:h,resolve:f,reject:p}=yk(),g=n.timeout??6e4;let _;g>0&&(_=setTimeout(()=>{e.delete(s),p(new Error(`transport invoke timed out after ${g}ms (data: ${JSON.stringify(a)})`))},g),(E=_==null?void 0:_.unref)==null||E.call(_)),e.set(s,{resolve:f,reject:p,name:t,timeoutId:_}),l&&l.catch(I=>{clearTimeout(_),e.delete(s),p(I)});try{return await h}catch(I){throw U0(I)}}}},_k=n=>{const e=vk(n);let t=!e.connect,r;return{...n,...e.connect?{async connect(s){if(t)return;if(r){await r;return}const a=e.connect({onMessage:s??(()=>{}),onDisconnection(){t=!1}});a&&(r=a,await r,r=void 0),t=!0}}:{},...e.disconnect?{async disconnect(){t&&(r&&await r,t=!1,await e.disconnect())}}:{},async send(s){if(e.send){if(!t)if(r)await r;else throw new Error("send was called before connect");await e.send(s)}},async invoke(s,a){if(!t)if(r)await r;else throw new Error("invoke was called before connect");return e.invoke(s,a)}}},F0=n=>{const e=n.pingInterval??3e4;let t,r;return{async connect({onMessage:s,onDisconnection:a}){const l=n.createConnection();l.addEventListener("message",async({data:f})=>{s(JSON.parse(f))});let h=l.readyState===l.OPEN;h||await new Promise((f,p)=>{l.addEventListener("open",()=>{h=!0,f()},{once:!0}),l.addEventListener("close",async()=>{if(!h){p(new Error("WebSocket closed without opened."));return}s({type:"custom",event:"vite:ws:disconnect",data:{webSocket:l}}),a()})}),s({type:"custom",event:"vite:ws:connect",data:{webSocket:l}}),t=l,r=setInterval(()=>{l.readyState===l.OPEN&&l.send(JSON.stringify({type:"ping"}))},e)},disconnect(){clearInterval(r),t==null||t.close()},send(s){t.send(JSON.stringify(s))}}};function wk(n){const e=new Tk;return t=>e.enqueue(()=>n(t))}class Tk{constructor(){this.queue=[],this.pending=!1}enqueue(e){return new Promise((t,r)=>{this.queue.push({promise:e,resolve:t,reject:r}),this.dequeue()})}dequeue(){if(this.pending)return!1;const e=this.queue.shift();return e?(this.pending=!0,e.promise().then(e.resolve).catch(e.reject).finally(()=>{this.pending=!1,this.dequeue()}),!0):!1}}const Ek=__HMR_CONFIG_NAME__,xk=__BASE__||"/";function vn(n,e={},...t){const r=document.createElement(n);for(const[s,a]of Object.entries(e))r.setAttribute(s,a);return r.append(...t),r}const Ik=`
:host {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 99999;
  --monospace: 'SFMono-Regular', Consolas,
  'Liberation Mono', Menlo, Courier, monospace;
  --red: #ff5555;
  --yellow: #e2aa53;
  --purple: #cfa4ff;
  --cyan: #2dd9da;
  --dim: #c9c9c9;

  --window-background: #181818;
  --window-color: #d8d8d8;
}

.backdrop {
  position: fixed;
  z-index: 99999;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow-y: scroll;
  margin: 0;
  background: rgba(0, 0, 0, 0.66);
}

.window {
  font-family: var(--monospace);
  line-height: 1.5;
  max-width: 80vw;
  color: var(--window-color);
  box-sizing: border-box;
  margin: 30px auto;
  padding: 2.5vh 4vw;
  position: relative;
  background: var(--window-background);
  border-radius: 6px 6px 8px 8px;
  box-shadow: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);
  overflow: hidden;
  border-top: 8px solid var(--red);
  direction: ltr;
  text-align: left;
}

pre {
  font-family: var(--monospace);
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 1em;
  overflow-x: scroll;
  scrollbar-width: none;
}

pre::-webkit-scrollbar {
  display: none;
}

pre.frame::-webkit-scrollbar {
  display: block;
  height: 5px;
}

pre.frame::-webkit-scrollbar-thumb {
  background: #999;
  border-radius: 5px;
}

pre.frame {
  scrollbar-width: thin;
}

.message {
  line-height: 1.3;
  font-weight: 600;
  white-space: pre-wrap;
}

.message-body {
  color: var(--red);
}

.plugin {
  color: var(--purple);
}

.file {
  color: var(--cyan);
  margin-bottom: 0;
  white-space: pre-wrap;
  word-break: break-all;
}

.frame {
  color: var(--yellow);
}

.stack {
  font-size: 13px;
  color: var(--dim);
}

.tip {
  font-size: 13px;
  color: #999;
  border-top: 1px dotted #999;
  padding-top: 13px;
  line-height: 1.8;
}

code {
  font-size: 13px;
  font-family: var(--monospace);
  color: var(--yellow);
}

.file-link {
  text-decoration: underline;
  cursor: pointer;
}

kbd {
  line-height: 1.5;
  font-family: ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.75rem;
  font-weight: 700;
  background-color: rgb(38, 40, 44);
  color: rgb(166, 167, 171);
  padding: 0.15rem 0.3rem;
  border-radius: 0.25rem;
  border-width: 0.0625rem 0.0625rem 0.1875rem;
  border-style: solid;
  border-color: rgb(54, 57, 64);
  border-image: initial;
}
`,Sk=()=>vn("div",{class:"backdrop",part:"backdrop"},vn("div",{class:"window",part:"window"},vn("pre",{class:"message",part:"message"},vn("span",{class:"plugin",part:"plugin"}),vn("span",{class:"message-body",part:"message-body"})),vn("pre",{class:"file",part:"file"}),vn("pre",{class:"frame",part:"frame"}),vn("pre",{class:"stack",part:"stack"}),vn("div",{class:"tip",part:"tip"},"Click outside, press ",vn("kbd",{},"Esc")," key, or fix the code to dismiss.",vn("br"),"You can also disable this overlay by setting ",vn("code",{part:"config-option-name"},"server.hmr.overlay")," to ",vn("code",{part:"config-option-value"},"false")," in ",vn("code",{part:"config-file-name"},Ek),".")),vn("style",{},Ik)),B0=/(?:[a-zA-Z]:\\|\/).*?:\d+:\d+/g,fp=/^(?:>?\s*\d+\s+\|.*|\s+\|\s*\^.*)\r?\n/gm,{HTMLElement:Ak=class{}}=globalThis;class Pk extends Ak{constructor(e,t=!0){var l;super(),this.root=this.attachShadow({mode:"open"}),this.root.appendChild(Sk()),fp.lastIndex=0;const r=e.frame&&fp.test(e.frame),s=r?e.message.replace(fp,""):e.message;e.plugin&&this.text(".plugin",`[plugin:${e.plugin}] `),this.text(".message-body",s.trim());const[a]=(((l=e.loc)==null?void 0:l.file)||e.id||"unknown file").split("?");e.loc?this.text(".file",`${a}:${e.loc.line}:${e.loc.column}`,t):e.id&&this.text(".file",a),r&&this.text(".frame",e.frame.trim()),this.text(".stack",e.stack,t),this.root.querySelector(".window").addEventListener("click",h=>{h.stopPropagation()}),this.addEventListener("click",()=>{this.close()}),this.closeOnEsc=h=>{(h.key==="Escape"||h.code==="Escape")&&this.close()},document.addEventListener("keydown",this.closeOnEsc)}text(e,t,r=!1){const s=this.root.querySelector(e);if(!r)s.textContent=t;else{let a=0,l;for(B0.lastIndex=0;l=B0.exec(t);){const{0:h,index:f}=l,p=t.slice(a,f);s.appendChild(document.createTextNode(p));const g=document.createElement("a");g.textContent=h,g.className="file-link",g.onclick=()=>{fetch(new URL(`${xk}__open-in-editor?file=${encodeURIComponent(h)}`,import.meta.url))},s.appendChild(g),a+=p.length+h.length}}}close(){var e;(e=this.parentNode)==null||e.removeChild(this),document.removeEventListener("keydown",this.closeOnEsc)}}const tu="vite-error-overlay",{customElements:pp}=globalThis;pp&&!pp.get(tu)&&pp.define(tu,Pk);console.debug("[vite] connecting...");const qp=new URL(import.meta.url),kk=__SERVER_HOST__,z0=__HMR_PROTOCOL__||(qp.protocol==="https:"?"wss":"ws"),yE=__HMR_PORT__,$0=`${__HMR_HOSTNAME__||qp.hostname}:${yE||qp.port}${__HMR_BASE__}`,W0=__HMR_DIRECT_TARGET__,Kp=__BASE__||"/",H0=__HMR_TIMEOUT__,q0=__WS_TOKEN__,vE=_k((()=>{let n=F0({createConnection:()=>new WebSocket(`${z0}://${$0}?token=${q0}`,"vite-hmr"),pingInterval:H0});return{async connect(e){try{await n.connect(e)}catch(t){if(!yE){n=F0({createConnection:()=>new WebSocket(`${z0}://${W0}?token=${q0}`,"vite-hmr"),pingInterval:H0});try{await n.connect(e),console.info("[vite] Direct websocket connection fallback. Check out https://vite.dev/config/server-options.html#server-hmr to remove the previous connection error.")}catch(r){if(r instanceof Error&&r.message.includes("WebSocket closed without opened.")){const s=new URL(import.meta.url),a=s.host+s.pathname.replace(/@vite\/client$/,"");console.error(`[vite] failed to connect to websocket.
your current setup:
  (browser) ${a} <--[HTTP]--> ${kk} (server)
  (browser) ${$0} <--[WebSocket (failing)]--> ${W0} (server)
Check out your Vite / network configuration and https://vite.dev/config/server-options.html#server-hmr .`)}}return}throw console.error(`[vite] failed to connect to websocket (${t}). `),t}},async disconnect(){await n.disconnect()},send(e){n.send(e)}}})());let _E=!1;typeof window<"u"&&window.addEventListener("beforeunload",()=>{_E=!0});function K0(n){const e=new URL(n,"http://vite.dev");return e.searchParams.delete("direct"),e.pathname+e.search}let G0=!0;const Q0=new WeakSet,Rk=n=>{let e;return()=>{e&&(clearTimeout(e),e=null),e=setTimeout(()=>{location.reload()},n)}},Gp=Rk(50),rs=new pk({error:n=>console.error("[vite]",n),debug:(...n)=>console.debug("[vite]",...n)},vE,async function({acceptedPath:e,timestamp:t,explicitImportRequired:r,isWithinCircularImport:s}){const[a,l]=e.split("?"),h=import(Kp+a.slice(1)+`?${r?"import&":""}t=${t}${l?`&${l}`:""}`);return s&&h.catch(()=>{console.info(`[hmr] ${e} failed to apply HMR as it's within a circular import. Reloading page to reset the execution order. To debug and break the circular import, you can run \`vite --debug hmr\` to log the circular dependency path if a file change triggered it.`),Gp()}),await h});vE.connect(wk(Ck));async function Ck(n){switch(n.type){case"connected":console.debug("[vite] connected.");break;case"update":if(await rs.notifyListeners("vite:beforeUpdate",n),eh)if(G0&&Nk()){location.reload();return}else X0&&wE(),G0=!1;await Promise.all(n.updates.map(async e=>{if(e.type==="js-update")return rs.queueUpdate(e);const{path:t,timestamp:r}=e,s=K0(t),a=Array.from(document.querySelectorAll("link")).find(h=>!Q0.has(h)&&K0(h.href).includes(s));if(!a)return;const l=`${Kp}${s.slice(1)}${s.includes("?")?"&":"?"}t=${r}`;return new Promise(h=>{const f=a.cloneNode();f.href=new URL(l,a.href).href;const p=()=>{a.remove(),console.debug(`[vite] css hot updated: ${s}`),h()};f.addEventListener("load",p),f.addEventListener("error",p),Q0.add(a),a.after(f)})})),await rs.notifyListeners("vite:afterUpdate",n);break;case"custom":{if(await rs.notifyListeners(n.event,n.data),n.event==="vite:ws:disconnect"&&eh&&!_E){console.log("[vite] server connection lost. Polling for restart...");const e=n.data.webSocket,t=new URL(e.url);t.search="",await Dk(t.href),location.reload()}break}case"full-reload":if(await rs.notifyListeners("vite:beforeFullReload",n),eh)if(n.path&&n.path.endsWith(".html")){const e=decodeURI(location.pathname),t=Kp+n.path.slice(1);(e===t||n.path==="/index.html"||e.endsWith("/")&&e+"index.html"===t)&&Gp();return}else Gp();break;case"prune":await rs.notifyListeners("vite:beforePrune",n),await rs.prunePaths(n.paths);break;case"error":{if(await rs.notifyListeners("vite:error",n),eh){const e=n.err;X0?bk(e):console.error(`[vite] Internal Server Error
${e.message}
${e.stack}`)}break}case"ping":break;default:return n}}const X0=__HMR_ENABLE_OVERLAY__,eh="document"in globalThis;function bk(n){wE();const{customElements:e}=globalThis;if(e){const t=e.get(tu);document.body.appendChild(new t(n))}}function wE(){document.querySelectorAll(tu).forEach(n=>n.close())}function Nk(){return document.querySelectorAll(tu).length}async function Dk(n,e=1e3){async function t(){const r=new WebSocket(n,"vite-ping");return new Promise(s=>{function a(){s(!0),h()}function l(){s(!1),h()}function h(){r.removeEventListener("open",a),r.removeEventListener("error",l),r.close()}r.addEventListener("open",a),r.addEventListener("error",l)})}if(!await t())for(await Y0(e);;)if(document.visibilityState==="visible"){if(await t())break;await Y0(e)}else await Vk()}function Y0(n){return new Promise(e=>setTimeout(e,n))}function Vk(){return new Promise(n=>{const e=async()=>{document.visibilityState==="visible"&&(n(),document.removeEventListener("visibilitychange",e))};document.addEventListener("visibilitychange",e)})}const Lk=new Map;"document"in globalThis&&document.querySelectorAll("style[data-vite-dev-id]").forEach(n=>{Lk.set(n.getAttribute("data-vite-dev-id"),n)});var gE;"document"in globalThis&&((gE=document.querySelector("meta[property=csp-nonce]"))==null||gE.nonce);function TE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mp={exports:{}},Vl={},gp={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function Ok(){if(J0)return Fe;J0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,L={};function C(U,Q,_e){this.props=U,this.context=Q,this.refs=L,this.updater=_e||I}C.prototype.isReactComponent={},C.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},C.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=C.prototype;function G(U,Q,_e){this.props=U,this.context=Q,this.refs=L,this.updater=_e||I}var q=G.prototype=new j;q.constructor=G,N(q,C.prototype),q.isPureReactComponent=!0;var Z=Array.isArray,ee=Object.prototype.hasOwnProperty,se={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function A(U,Q,_e){var be,Le={},Oe=null,J=null;if(Q!=null)for(be in Q.ref!==void 0&&(J=Q.ref),Q.key!==void 0&&(Oe=""+Q.key),Q)ee.call(Q,be)&&!b.hasOwnProperty(be)&&(Le[be]=Q[be]);var ce=arguments.length-2;if(ce===1)Le.children=_e;else if(1<ce){for(var Re=Array(ce),De=0;De<ce;De++)Re[De]=arguments[De+2];Le.children=Re}if(U&&U.defaultProps)for(be in ce=U.defaultProps,ce)Le[be]===void 0&&(Le[be]=ce[be]);return{$$typeof:n,type:U,key:Oe,ref:J,props:Le,_owner:se.current}}function k(U,Q){return{$$typeof:n,type:U.type,key:Q,ref:U.ref,props:U.props,_owner:U._owner}}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function O(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(_e){return Q[_e]})}var B=/\/+/g;function R(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):Q.toString(36)}function Ye(U,Q,_e,be,Le){var Oe=typeof U;(Oe==="undefined"||Oe==="boolean")&&(U=null);var J=!1;if(U===null)J=!0;else switch(Oe){case"string":case"number":J=!0;break;case"object":switch(U.$$typeof){case n:case e:J=!0}}if(J)return J=U,Le=Le(J),U=be===""?"."+R(J,0):be,Z(Le)?(_e="",U!=null&&(_e=U.replace(B,"$&/")+"/"),Ye(Le,Q,_e,"",function(De){return De})):Le!=null&&(D(Le)&&(Le=k(Le,_e+(!Le.key||J&&J.key===Le.key?"":(""+Le.key).replace(B,"$&/")+"/")+U)),Q.push(Le)),1;if(J=0,be=be===""?".":be+":",Z(U))for(var ce=0;ce<U.length;ce++){Oe=U[ce];var Re=be+R(Oe,ce);J+=Ye(Oe,Q,_e,Re,Le)}else if(Re=E(U),typeof Re=="function")for(U=Re.call(U),ce=0;!(Oe=U.next()).done;)Oe=Oe.value,Re=be+R(Oe,ce++),J+=Ye(Oe,Q,_e,Re,Le);else if(Oe==="object")throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return J}function Tt(U,Q,_e){if(U==null)return U;var be=[],Le=0;return Ye(U,be,"","",function(Oe){return Q.call(_e,Oe,Le++)}),be}function st(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(_e){(U._status===0||U._status===-1)&&(U._status=1,U._result=_e)},function(_e){(U._status===0||U._status===-1)&&(U._status=2,U._result=_e)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var Ae={current:null},ie={transition:null},ye={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ie,ReactCurrentOwner:se};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Tt,forEach:function(U,Q,_e){Tt(U,function(){Q.apply(this,arguments)},_e)},count:function(U){var Q=0;return Tt(U,function(){Q++}),Q},toArray:function(U){return Tt(U,function(Q){return Q})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Fe.Component=C,Fe.Fragment=t,Fe.Profiler=s,Fe.PureComponent=G,Fe.StrictMode=r,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Fe.act=ue,Fe.cloneElement=function(U,Q,_e){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var be=N({},U.props),Le=U.key,Oe=U.ref,J=U._owner;if(Q!=null){if(Q.ref!==void 0&&(Oe=Q.ref,J=se.current),Q.key!==void 0&&(Le=""+Q.key),U.type&&U.type.defaultProps)var ce=U.type.defaultProps;for(Re in Q)ee.call(Q,Re)&&!b.hasOwnProperty(Re)&&(be[Re]=Q[Re]===void 0&&ce!==void 0?ce[Re]:Q[Re])}var Re=arguments.length-2;if(Re===1)be.children=_e;else if(1<Re){ce=Array(Re);for(var De=0;De<Re;De++)ce[De]=arguments[De+2];be.children=ce}return{$$typeof:n,type:U.type,key:Le,ref:Oe,props:be,_owner:J}},Fe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Fe.createElement=A,Fe.createFactory=function(U){var Q=A.bind(null,U);return Q.type=U,Q},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(U){return{$$typeof:h,render:U}},Fe.isValidElement=D,Fe.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:st}},Fe.memo=function(U,Q){return{$$typeof:p,type:U,compare:Q===void 0?null:Q}},Fe.startTransition=function(U){var Q=ie.transition;ie.transition={};try{U()}finally{ie.transition=Q}},Fe.unstable_act=ue,Fe.useCallback=function(U,Q){return Ae.current.useCallback(U,Q)},Fe.useContext=function(U){return Ae.current.useContext(U)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(U){return Ae.current.useDeferredValue(U)},Fe.useEffect=function(U,Q){return Ae.current.useEffect(U,Q)},Fe.useId=function(){return Ae.current.useId()},Fe.useImperativeHandle=function(U,Q,_e){return Ae.current.useImperativeHandle(U,Q,_e)},Fe.useInsertionEffect=function(U,Q){return Ae.current.useInsertionEffect(U,Q)},Fe.useLayoutEffect=function(U,Q){return Ae.current.useLayoutEffect(U,Q)},Fe.useMemo=function(U,Q){return Ae.current.useMemo(U,Q)},Fe.useReducer=function(U,Q,_e){return Ae.current.useReducer(U,Q,_e)},Fe.useRef=function(U){return Ae.current.useRef(U)},Fe.useState=function(U){return Ae.current.useState(U)},Fe.useSyncExternalStore=function(U,Q,_e){return Ae.current.useSyncExternalStore(U,Q,_e)},Fe.useTransition=function(){return Ae.current.useTransition()},Fe.version="18.3.1",Fe}var Z0;function qm(){return Z0||(Z0=1,gp.exports=Ok()),gp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function Mk(){if(e_)return Vl;e_=1;var n=qm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var g,_={},E=null,I=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(I=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:h,key:E,ref:I,props:_,_owner:s.current}}return Vl.Fragment=t,Vl.jsx=l,Vl.jsxs=l,Vl}var t_;function jk(){return t_||(t_=1,mp.exports=Mk()),mp.exports}var T=jk(),F=qm();const Ti=TE(F),Uk=dk({__proto__:null,default:Ti},[F]);var th={},yp={exports:{}},kn={},vp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function Fk(){return n_||(n_=1,function(n){function e(ie,ye){var ue=ie.length;ie.push(ye);e:for(;0<ue;){var U=ue-1>>>1,Q=ie[U];if(0<s(Q,ye))ie[U]=ye,ie[ue]=Q,ue=U;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ye=ie[0],ue=ie.pop();if(ue!==ye){ie[0]=ue;e:for(var U=0,Q=ie.length,_e=Q>>>1;U<_e;){var be=2*(U+1)-1,Le=ie[be],Oe=be+1,J=ie[Oe];if(0>s(Le,ue))Oe<Q&&0>s(J,Le)?(ie[U]=J,ie[Oe]=ue,U=Oe):(ie[U]=Le,ie[be]=ue,U=be);else if(Oe<Q&&0>s(J,ue))ie[U]=J,ie[Oe]=ue,U=Oe;else break e}}return ye}function s(ie,ye){var ue=ie.sortIndex-ye.sortIndex;return ue!==0?ue:ie.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();n.unstable_now=function(){return l.now()-h}}var f=[],p=[],g=1,_=null,E=3,I=!1,N=!1,L=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ie){for(var ye=t(p);ye!==null;){if(ye.callback===null)r(p);else if(ye.startTime<=ie)r(p),ye.sortIndex=ye.expirationTime,e(f,ye);else break;ye=t(p)}}function Z(ie){if(L=!1,q(ie),!N)if(t(f)!==null)N=!0,st(ee);else{var ye=t(p);ye!==null&&Ae(Z,ye.startTime-ie)}}function ee(ie,ye){N=!1,L&&(L=!1,j(A),A=-1),I=!0;var ue=E;try{for(q(ye),_=t(f);_!==null&&(!(_.expirationTime>ye)||ie&&!O());){var U=_.callback;if(typeof U=="function"){_.callback=null,E=_.priorityLevel;var Q=U(_.expirationTime<=ye);ye=n.unstable_now(),typeof Q=="function"?_.callback=Q:_===t(f)&&r(f),q(ye)}else r(f);_=t(f)}if(_!==null)var _e=!0;else{var be=t(p);be!==null&&Ae(Z,be.startTime-ye),_e=!1}return _e}finally{_=null,E=ue,I=!1}}var se=!1,b=null,A=-1,k=5,D=-1;function O(){return!(n.unstable_now()-D<k)}function B(){if(b!==null){var ie=n.unstable_now();D=ie;var ye=!0;try{ye=b(!0,ie)}finally{ye?R():(se=!1,b=null)}}else se=!1}var R;if(typeof G=="function")R=function(){G(B)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,Tt=Ye.port2;Ye.port1.onmessage=B,R=function(){Tt.postMessage(null)}}else R=function(){C(B,0)};function st(ie){b=ie,se||(se=!0,R())}function Ae(ie,ye){A=C(function(){ie(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){N||I||(N=!0,st(ee))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var ye=3;break;default:ye=E}var ue=E;E=ye;try{return ie()}finally{E=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=E;E=ie;try{return ye()}finally{E=ue}},n.unstable_scheduleCallback=function(ie,ye,ue){var U=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?U+ue:U):ue=U,ie){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ue+Q,ie={id:g++,callback:ye,priorityLevel:ie,startTime:ue,expirationTime:Q,sortIndex:-1},ue>U?(ie.sortIndex=ue,e(p,ie),t(f)===null&&ie===t(p)&&(L?(j(A),A=-1):L=!0,Ae(Z,ue-U))):(ie.sortIndex=Q,e(f,ie),N||I||(N=!0,st(ee))),ie},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(ie){var ye=E;return function(){var ue=E;E=ye;try{return ie.apply(this,arguments)}finally{E=ue}}}}(_p)),_p}var r_;function Bk(){return r_||(r_=1,vp.exports=Fk()),vp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function zk(){if(i_)return kn;i_=1;var n=qm(),e=Bk();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(i){return f.call(_,i)?!0:f.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function I(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function N(i,o,u,d){if(o===null||typeof o>"u"||I(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function L(i,o,u,d,m,v,x){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=x}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new L(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new L(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new L(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new L(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new L(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new L(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new L(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new L(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new L(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(j,G);C[o]=new L(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(j,G);C[o]=new L(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(j,G);C[o]=new L(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new L(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new L(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,o,u,d){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,u,m,d)&&(u=null),d||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var Z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),se=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ye(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,U;function Q(i){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var _e=!1;function be(i,o){if(!i||_e)return"";_e=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var d=H}Reflect.construct(i,[],o)}else{try{o.call()}catch(H){d=H}i.call(o.prototype)}else{try{throw Error()}catch(H){d=H}i()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),v=d.stack.split(`
`),x=m.length-1,P=v.length-1;1<=x&&0<=P&&m[x]!==v[P];)P--;for(;1<=x&&0<=P;x--,P--)if(m[x]!==v[P]){if(x!==1||P!==1)do if(x--,P--,0>P||m[x]!==v[P]){var V=`
`+m[x].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=x&&0<=P);break}}}finally{_e=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Q(i):""}function Le(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case se:return"Portal";case k:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case Ye:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Tt:return o=i.displayName||null,o!==null?o:Oe(i.type)||"Memo";case st:o=i._payload,i=i._init;try{return Oe(i(o))}catch{}}return null}function J(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ce(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Re(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function De(i){var o=Re(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(x){d=""+x,v.call(this,x)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function mt(i){i._valueTracker||(i._valueTracker=De(i))}function rr(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=Re(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function Wt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function fn(i,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ir(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=ce(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ei(i,o){o=o.checked,o!=null&&q(i,"checked",o,!1)}function ti(i,o){ei(i,o);var u=ce(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?sr(i,o.type,u):o.hasOwnProperty("defaultValue")&&sr(i,o.type,ce(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ci(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function sr(i,o,u){(o!=="number"||Wt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var or=Array.isArray;function ar(i,o,u,d){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&d&&(i[u].defaultSelected=!0)}else{for(u=""+ce(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ls(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function bi(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(or(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ce(u)}}function Ni(i,o){var u=ce(o.value),d=ce(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function kr(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Et(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Et(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var oe,he=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(oe=oe||document.createElement("div"),oe.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=oe.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Me(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(je).forEach(function(i){lt.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),je[o]=je[i]})});function We(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||je.hasOwnProperty(i)&&je[i]?(""+o).trim():o+"px"}function jt(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=We(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,m):i[u]=m}}var It=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(i,o){if(o){if(It[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Rr(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zn=null;function Di(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ro=null,$n=null,Cr=null;function Co(i){if(i=_l(i)){if(typeof Ro!="function")throw Error(t(280));var o=i.stateNode;o&&(o=mc(o),Ro(i.stateNode,i.type,o))}}function br(i){$n?Cr?Cr.push(i):Cr=[i]:$n=i}function Xa(){if($n){var i=$n,o=Cr;if(Cr=$n=null,Co(i),o)for(i=0;i<o.length;i++)Co(o[i])}}function Os(i,o){return i(o)}function Ya(){}var ni=!1;function Ja(i,o,u){if(ni)return i(o,u);ni=!0;try{return Os(i,o,u)}finally{ni=!1,($n!==null||Cr!==null)&&(Ya(),Xa())}}function St(i,o){var u=i.stateNode;if(u===null)return null;var d=mc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var bo=!1;if(h)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){bo=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{bo=!1}function Ms(i,o,u,d,m,v,x,P,V){var H=Array.prototype.slice.call(arguments,3);try{o.apply(u,H)}catch(ne){this.onError(ne)}}var js=!1,No=null,ur=!1,Za=null,Fd={onError:function(i){js=!0,No=i}};function Do(i,o,u,d,m,v,x,P,V){js=!1,No=null,Ms.apply(Fd,arguments)}function Fu(i,o,u,d,m,v,x,P,V){if(Do.apply(this,arguments),js){if(js){var H=No;js=!1,No=null}else throw Error(t(198));ur||(ur=!0,Za=H)}}function cr(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Us(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function hr(i){if(cr(i)!==i)throw Error(t(188))}function Bu(i){var o=i.alternate;if(!o){if(o=cr(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return hr(m),i;if(v===d)return hr(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==d.return)u=m,d=v;else{for(var x=!1,P=m.child;P;){if(P===u){x=!0,u=m,d=v;break}if(P===d){x=!0,d=m,u=v;break}P=P.sibling}if(!x){for(P=v.child;P;){if(P===u){x=!0,u=v,d=m;break}if(P===d){x=!0,d=v,u=m;break}P=P.sibling}if(!x)throw Error(t(189))}}if(u.alternate!==d)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function el(i){return i=Bu(i),i!==null?Vo(i):null}function Vo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Vo(i);if(o!==null)return o;i=i.sibling}return null}var Lo=e.unstable_scheduleCallback,tl=e.unstable_cancelCallback,zu=e.unstable_shouldYield,Bd=e.unstable_requestPaint,Ze=e.unstable_now,$u=e.unstable_getCurrentPriorityLevel,Fs=e.unstable_ImmediatePriority,Vi=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,nl=e.unstable_LowPriority,Wu=e.unstable_IdlePriority,Bs=null,Nn=null;function Hu(i){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Bs,i,void 0,(i.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Ku,rl=Math.log,qu=Math.LN2;function Ku(i){return i>>>=0,i===0?32:31-(rl(i)/qu|0)|0}var Oo=64,Mo=4194304;function Li(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function zs(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,x=u&268435455;if(x!==0){var P=x&~m;P!==0?d=Li(P):(v&=x,v!==0&&(d=Li(v)))}else x=u&~m,x!==0?d=Li(x):v!==0&&(d=Li(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-pn(o),m=1<<u,d|=i[u],o&=~m;return d}function zd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ri(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var x=31-pn(v),P=1<<x,V=m[x];V===-1?((P&u)===0||(P&d)!==0)&&(m[x]=zd(P,o)):V<=o&&(i.expiredLanes|=P),v&=~P}}function Dn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function $s(){var i=Oo;return Oo<<=1,(Oo&4194240)===0&&(Oo=64),i}function Oi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Mi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-pn(o),i[o]=u}function Je(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-pn(u),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,u&=~v}}function ji(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-pn(u),m=1<<d;m&o|i[d]&o&&(i[d]|=o),u&=~m}}var $e=0;function Ui(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Gu,jo,Qu,Xu,Yu,il=!1,Nr=[],Ht=null,dr=null,fr=null,Fi=new Map,Hn=new Map,Dr=[],$d="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ju(i,o){switch(i){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Fi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(o.pointerId)}}function Tn(i,o,u,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=_l(o),o!==null&&jo(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Wd(i,o,u,d,m){switch(o){case"focusin":return Ht=Tn(Ht,i,o,u,d,m),!0;case"dragenter":return dr=Tn(dr,i,o,u,d,m),!0;case"mouseover":return fr=Tn(fr,i,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return Fi.set(v,Tn(Fi.get(v)||null,i,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Hn.set(v,Tn(Hn.get(v)||null,i,o,u,d,m)),!0}return!1}function Zu(i){var o=Gs(i.target);if(o!==null){var u=cr(o);if(u!==null){if(o=u.tag,o===13){if(o=Us(u),o!==null){i.blockedOn=o,Yu(i.priority,function(){Qu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ii(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Uo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);zn=d,u.target.dispatchEvent(d),zn=null}else return o=_l(u),o!==null&&jo(o),i.blockedOn=u,!1;o.shift()}return!0}function Ws(i,o,u){ii(i)&&u.delete(o)}function ec(){il=!1,Ht!==null&&ii(Ht)&&(Ht=null),dr!==null&&ii(dr)&&(dr=null),fr!==null&&ii(fr)&&(fr=null),Fi.forEach(Ws),Hn.forEach(Ws)}function pr(i,o){i.blockedOn===o&&(i.blockedOn=null,il||(il=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ec)))}function mr(i){function o(m){return pr(m,i)}if(0<Nr.length){pr(Nr[0],i);for(var u=1;u<Nr.length;u++){var d=Nr[u];d.blockedOn===i&&(d.blockedOn=null)}}for(Ht!==null&&pr(Ht,i),dr!==null&&pr(dr,i),fr!==null&&pr(fr,i),Fi.forEach(o),Hn.forEach(o),u=0;u<Dr.length;u++)d=Dr[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<Dr.length&&(u=Dr[0],u.blockedOn===null);)Zu(u),u.blockedOn===null&&Dr.shift()}var si=Z.ReactCurrentBatchConfig,Bi=!0;function ot(i,o,u,d){var m=$e,v=si.transition;si.transition=null;try{$e=1,sl(i,o,u,d)}finally{$e=m,si.transition=v}}function Hd(i,o,u,d){var m=$e,v=si.transition;si.transition=null;try{$e=4,sl(i,o,u,d)}finally{$e=m,si.transition=v}}function sl(i,o,u,d){if(Bi){var m=Uo(i,o,u,d);if(m===null)nf(i,o,d,Hs,u),Ju(i,d);else if(Wd(m,i,o,u,d))d.stopPropagation();else if(Ju(i,d),o&4&&-1<$d.indexOf(i)){for(;m!==null;){var v=_l(m);if(v!==null&&Gu(v),v=Uo(i,o,u,d),v===null&&nf(i,o,d,Hs,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else nf(i,o,d,null,u)}}var Hs=null;function Uo(i,o,u,d){if(Hs=null,i=Di(d),i=Gs(i),i!==null)if(o=cr(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Us(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Hs=i,null}function ol(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($u()){case Fs:return 1;case Vi:return 4;case Wn:case nl:return 16;case Wu:return 536870912;default:return 16}default:return 16}}var Vn=null,Fo=null,En=null;function al(){if(En)return En;var i,o=Fo,u=o.length,d,m="value"in Vn?Vn.value:Vn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var x=u-i;for(d=1;d<=x&&o[u-d]===m[v-d];d++);return En=m.slice(i,1<d?1-d:void 0)}function Bo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Vr(){return!0}function ll(){return!1}function qt(i){function o(u,d,m,v,x){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(u=i[P],this[P]=u?u(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Vr:ll,this.isPropagationStopped=ll,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),o}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=qt(gr),Lr=ue({},gr,{view:0,detail:0}),qd=qt(Lr),$o,oi,zi,qs=ue({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zi&&(zi&&i.type==="mousemove"?($o=i.screenX-zi.screenX,oi=i.screenY-zi.screenY):oi=$o=0,zi=i),$o)},movementY:function(i){return"movementY"in i?i.movementY:oi}}),Wo=qt(qs),ul=ue({},qs,{dataTransfer:0}),tc=qt(ul),Ho=ue({},Lr,{relatedTarget:0}),qo=qt(Ho),nc=ue({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),ai=qt(nc),rc=ue({},gr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ic=qt(rc),sc=ue({},gr,{data:0}),cl=qt(sc),Ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ac(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=oc[i])?!!o[i]:!1}function Or(){return ac}var c=ue({},Lr,{key:function(i){if(i.key){var o=Ko[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Bo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(i){return i.type==="keypress"?Bo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=qt(c),w=ue({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=qt(w),z=ue({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),K=qt(z),le=ue({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xe=qt(le),Vt=ue({},qs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),He=qt(Vt),Ut=[9,13,27,32],Rt=h&&"CompositionEvent"in window,qn=null;h&&"documentMode"in document&&(qn=document.documentMode);var Ln=h&&"TextEvent"in window&&!qn,Ks=h&&(!Rt||qn&&8<qn&&11>=qn),Go=" ",Ny=!1;function Dy(i,o){switch(i){case"keyup":return Ut.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qo=!1;function uP(i,o){switch(i){case"compositionend":return Vy(o);case"keypress":return o.which!==32?null:(Ny=!0,Go);case"textInput":return i=o.data,i===Go&&Ny?null:i;default:return null}}function cP(i,o){if(Qo)return i==="compositionend"||!Rt&&Dy(i,o)?(i=al(),En=Fo=Vn=null,Qo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ks&&o.locale!=="ko"?null:o.data;default:return null}}var hP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ly(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!hP[i.type]:o==="textarea"}function Oy(i,o,u,d){br(d),o=dc(o,"onChange"),0<o.length&&(u=new zo("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var hl=null,dl=null;function dP(i){ev(i,0)}function lc(i){var o=ea(i);if(rr(o))return i}function fP(i,o){if(i==="change")return o}var My=!1;if(h){var Kd;if(h){var Gd="oninput"in document;if(!Gd){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),Gd=typeof jy.oninput=="function"}Kd=Gd}else Kd=!1;My=Kd&&(!document.documentMode||9<document.documentMode)}function Uy(){hl&&(hl.detachEvent("onpropertychange",Fy),dl=hl=null)}function Fy(i){if(i.propertyName==="value"&&lc(dl)){var o=[];Oy(o,dl,i,Di(i)),Ja(dP,o)}}function pP(i,o,u){i==="focusin"?(Uy(),hl=o,dl=u,hl.attachEvent("onpropertychange",Fy)):i==="focusout"&&Uy()}function mP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lc(dl)}function gP(i,o){if(i==="click")return lc(o)}function yP(i,o){if(i==="input"||i==="change")return lc(o)}function vP(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var yr=typeof Object.is=="function"?Object.is:vP;function fl(i,o){if(yr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!yr(i[m],o[m]))return!1}return!0}function By(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function zy(i,o){var u=By(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=By(u)}}function $y(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?$y(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Wy(){for(var i=window,o=Wt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Wt(i.document)}return o}function Qd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function _P(i){var o=Wy(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&$y(u.ownerDocument.documentElement,u)){if(d!==null&&Qd(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=zy(u,v);var x=zy(u,d);m&&x&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==x.node||i.focusOffset!==x.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(x.node,x.offset)):(o.setEnd(x.node,x.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var wP=h&&"documentMode"in document&&11>=document.documentMode,Xo=null,Xd=null,pl=null,Yd=!1;function Hy(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Yd||Xo==null||Xo!==Wt(d)||(d=Xo,"selectionStart"in d&&Qd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),pl&&fl(pl,d)||(pl=d,d=dc(Xd,"onSelect"),0<d.length&&(o=new zo("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=Xo)))}function uc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Yo={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Jd={},qy={};h&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function cc(i){if(Jd[i])return Jd[i];if(!Yo[i])return i;var o=Yo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in qy)return Jd[i]=o[u];return i}var Ky=cc("animationend"),Gy=cc("animationiteration"),Qy=cc("animationstart"),Xy=cc("transitionend"),Yy=new Map,Jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(i,o){Yy.set(i,o),a(o,[i])}for(var Zd=0;Zd<Jy.length;Zd++){var ef=Jy[Zd],TP=ef.toLowerCase(),EP=ef[0].toUpperCase()+ef.slice(1);$i(TP,"on"+EP)}$i(Ky,"onAnimationEnd"),$i(Gy,"onAnimationIteration"),$i(Qy,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(Xy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function Zy(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,Fu(d,o,void 0,i),i.currentTarget=null}function ev(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var x=d.length-1;0<=x;x--){var P=d[x],V=P.instance,H=P.currentTarget;if(P=P.listener,V!==v&&m.isPropagationStopped())break e;Zy(m,P,H),v=V}else for(x=0;x<d.length;x++){if(P=d[x],V=P.instance,H=P.currentTarget,P=P.listener,V!==v&&m.isPropagationStopped())break e;Zy(m,P,H),v=V}}}if(ur)throw i=Za,ur=!1,Za=null,i}function nt(i,o){var u=o[uf];u===void 0&&(u=o[uf]=new Set);var d=i+"__bubble";u.has(d)||(tv(o,i,2,!1),u.add(d))}function tf(i,o,u){var d=0;o&&(d|=4),tv(u,i,d,o)}var hc="_reactListening"+Math.random().toString(36).slice(2);function gl(i){if(!i[hc]){i[hc]=!0,r.forEach(function(u){u!=="selectionchange"&&(xP.has(u)||tf(u,!1,i),tf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[hc]||(o[hc]=!0,tf("selectionchange",!1,o))}}function tv(i,o,u,d){switch(ol(o)){case 1:var m=ot;break;case 4:m=Hd;break;default:m=sl}u=m.bind(null,o,u,i),m=void 0,!bo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function nf(i,o,u,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var P=d.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(x===4)for(x=d.return;x!==null;){var V=x.tag;if((V===3||V===4)&&(V=x.stateNode.containerInfo,V===m||V.nodeType===8&&V.parentNode===m))return;x=x.return}for(;P!==null;){if(x=Gs(P),x===null)return;if(V=x.tag,V===5||V===6){d=v=x;continue e}P=P.parentNode}}d=d.return}Ja(function(){var H=v,ne=Di(u),re=[];e:{var te=Yy.get(i);if(te!==void 0){var de=zo,ve=i;switch(i){case"keypress":if(Bo(u)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":ve="focus",de=qo;break;case"focusout":ve="blur",de=qo;break;case"beforeblur":case"afterblur":de=qo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=K;break;case Ky:case Gy:case Qy:de=ai;break;case Xy:de=Xe;break;case"scroll":de=qd;break;case"wheel":de=He;break;case"copy":case"cut":case"paste":de=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=S}var we=(o&4)!==0,At=!we&&i==="scroll",$=we?te!==null?te+"Capture":null:te;we=[];for(var M=H,W;M!==null;){W=M;var ae=W.stateNode;if(W.tag===5&&ae!==null&&(W=ae,$!==null&&(ae=St(M,$),ae!=null&&we.push(yl(M,ae,W)))),At)break;M=M.return}0<we.length&&(te=new de(te,ve,null,u,ne),re.push({event:te,listeners:we}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",te&&u!==zn&&(ve=u.relatedTarget||u.fromElement)&&(Gs(ve)||ve[li]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(ve=u.relatedTarget||u.toElement,de=H,ve=ve?Gs(ve):null,ve!==null&&(At=cr(ve),ve!==At||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(de=null,ve=H),de!==ve)){if(we=Wo,ae="onMouseLeave",$="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(we=S,ae="onPointerLeave",$="onPointerEnter",M="pointer"),At=de==null?te:ea(de),W=ve==null?te:ea(ve),te=new we(ae,M+"leave",de,u,ne),te.target=At,te.relatedTarget=W,ae=null,Gs(ne)===H&&(we=new we($,M+"enter",ve,u,ne),we.target=W,we.relatedTarget=At,ae=we),At=ae,de&&ve)t:{for(we=de,$=ve,M=0,W=we;W;W=Jo(W))M++;for(W=0,ae=$;ae;ae=Jo(ae))W++;for(;0<M-W;)we=Jo(we),M--;for(;0<W-M;)$=Jo($),W--;for(;M--;){if(we===$||$!==null&&we===$.alternate)break t;we=Jo(we),$=Jo($)}we=null}else we=null;de!==null&&nv(re,te,de,we,!1),ve!==null&&At!==null&&nv(re,At,ve,we,!0)}}e:{if(te=H?ea(H):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var Te=fP;else if(Ly(te))if(My)Te=yP;else{Te=mP;var xe=pP}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Te=gP);if(Te&&(Te=Te(i,H))){Oy(re,Te,u,ne);break e}xe&&xe(i,te,H),i==="focusout"&&(xe=te._wrapperState)&&xe.controlled&&te.type==="number"&&sr(te,"number",te.value)}switch(xe=H?ea(H):window,i){case"focusin":(Ly(xe)||xe.contentEditable==="true")&&(Xo=xe,Xd=H,pl=null);break;case"focusout":pl=Xd=Xo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,Hy(re,u,ne);break;case"selectionchange":if(wP)break;case"keydown":case"keyup":Hy(re,u,ne)}var Ie;if(Rt)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Qo?Dy(i,u)&&(Ce="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ce="onCompositionStart");Ce&&(Ks&&u.locale!=="ko"&&(Qo||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Qo&&(Ie=al()):(Vn=ne,Fo="value"in Vn?Vn.value:Vn.textContent,Qo=!0)),xe=dc(H,Ce),0<xe.length&&(Ce=new cl(Ce,i,null,u,ne),re.push({event:Ce,listeners:xe}),Ie?Ce.data=Ie:(Ie=Vy(u),Ie!==null&&(Ce.data=Ie)))),(Ie=Ln?uP(i,u):cP(i,u))&&(H=dc(H,"onBeforeInput"),0<H.length&&(ne=new cl("onBeforeInput","beforeinput",null,u,ne),re.push({event:ne,listeners:H}),ne.data=Ie))}ev(re,o)})}function yl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function dc(i,o){for(var u=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=St(i,u),v!=null&&d.unshift(yl(i,v,m)),v=St(i,o),v!=null&&d.push(yl(i,v,m))),i=i.return}return d}function Jo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function nv(i,o,u,d,m){for(var v=o._reactName,x=[];u!==null&&u!==d;){var P=u,V=P.alternate,H=P.stateNode;if(V!==null&&V===d)break;P.tag===5&&H!==null&&(P=H,m?(V=St(u,v),V!=null&&x.unshift(yl(u,V,P))):m||(V=St(u,v),V!=null&&x.push(yl(u,V,P)))),u=u.return}x.length!==0&&i.push({event:o,listeners:x})}var IP=/\r\n?/g,SP=/\u0000|\uFFFD/g;function rv(i){return(typeof i=="string"?i:""+i).replace(IP,`
`).replace(SP,"")}function fc(i,o,u){if(o=rv(o),rv(i)!==o&&u)throw Error(t(425))}function pc(){}var rf=null,sf=null;function of(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var af=typeof setTimeout=="function"?setTimeout:void 0,AP=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,PP=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(i){return iv.resolve(null).then(i).catch(kP)}:af;function kP(i){setTimeout(function(){throw i})}function lf(i,o){var u=o,d=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){i.removeChild(m),mr(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);mr(o)}function Wi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function sv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),Mr="__reactFiber$"+Zo,vl="__reactProps$"+Zo,li="__reactContainer$"+Zo,uf="__reactEvents$"+Zo,RP="__reactListeners$"+Zo,CP="__reactHandles$"+Zo;function Gs(i){var o=i[Mr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[li]||u[Mr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=sv(i);i!==null;){if(u=i[Mr])return u;i=sv(i)}return o}i=u,u=i.parentNode}return null}function _l(i){return i=i[Mr]||i[li],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ea(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function mc(i){return i[vl]||null}var cf=[],ta=-1;function Hi(i){return{current:i}}function rt(i){0>ta||(i.current=cf[ta],cf[ta]=null,ta--)}function et(i,o){ta++,cf[ta]=i.current,i.current=o}var qi={},tn=Hi(qi),xn=Hi(!1),Qs=qi;function na(i,o){var u=i.type.contextTypes;if(!u)return qi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function In(i){return i=i.childContextTypes,i!=null}function gc(){rt(xn),rt(tn)}function ov(i,o,u){if(tn.current!==qi)throw Error(t(168));et(tn,o),et(xn,u)}function av(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,J(i)||"Unknown",m));return ue({},u,d)}function yc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||qi,Qs=tn.current,et(tn,i),et(xn,xn.current),!0}function lv(i,o,u){var d=i.stateNode;if(!d)throw Error(t(169));u?(i=av(i,o,Qs),d.__reactInternalMemoizedMergedChildContext=i,rt(xn),rt(tn),et(tn,i)):rt(xn),et(xn,u)}var ui=null,vc=!1,hf=!1;function uv(i){ui===null?ui=[i]:ui.push(i)}function bP(i){vc=!0,uv(i)}function Ki(){if(!hf&&ui!==null){hf=!0;var i=0,o=$e;try{var u=ui;for($e=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}ui=null,vc=!1}catch(m){throw ui!==null&&(ui=ui.slice(i+1)),Lo(Fs,Ki),m}finally{$e=o,hf=!1}}return null}var ra=[],ia=0,_c=null,wc=0,Kn=[],Gn=0,Xs=null,ci=1,hi="";function Ys(i,o){ra[ia++]=wc,ra[ia++]=_c,_c=i,wc=o}function cv(i,o,u){Kn[Gn++]=ci,Kn[Gn++]=hi,Kn[Gn++]=Xs,Xs=i;var d=ci;i=hi;var m=32-pn(d)-1;d&=~(1<<m),u+=1;var v=32-pn(o)+m;if(30<v){var x=m-m%5;v=(d&(1<<x)-1).toString(32),d>>=x,m-=x,ci=1<<32-pn(o)+m|u<<m|d,hi=v+i}else ci=1<<v|u<<m|d,hi=i}function df(i){i.return!==null&&(Ys(i,1),cv(i,1,0))}function ff(i){for(;i===_c;)_c=ra[--ia],ra[ia]=null,wc=ra[--ia],ra[ia]=null;for(;i===Xs;)Xs=Kn[--Gn],Kn[Gn]=null,hi=Kn[--Gn],Kn[Gn]=null,ci=Kn[--Gn],Kn[Gn]=null}var On=null,Mn=null,at=!1,vr=null;function hv(i,o){var u=Jn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function dv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,On=i,Mn=Wi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,On=i,Mn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Xs!==null?{id:ci,overflow:hi}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Jn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,On=i,Mn=null,!0):!1;default:return!1}}function pf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function mf(i){if(at){var o=Mn;if(o){var u=o;if(!dv(i,o)){if(pf(i))throw Error(t(418));o=Wi(u.nextSibling);var d=On;o&&dv(i,o)?hv(d,u):(i.flags=i.flags&-4097|2,at=!1,On=i)}}else{if(pf(i))throw Error(t(418));i.flags=i.flags&-4097|2,at=!1,On=i}}}function fv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;On=i}function Tc(i){if(i!==On)return!1;if(!at)return fv(i),at=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!of(i.type,i.memoizedProps)),o&&(o=Mn)){if(pf(i))throw pv(),Error(t(418));for(;o;)hv(i,o),o=Wi(o.nextSibling)}if(fv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Mn=Wi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Mn=null}}else Mn=On?Wi(i.stateNode.nextSibling):null;return!0}function pv(){for(var i=Mn;i;)i=Wi(i.nextSibling)}function sa(){Mn=On=null,at=!1}function gf(i){vr===null?vr=[i]:vr.push(i)}var NP=Z.ReactCurrentBatchConfig;function wl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var d=u.stateNode}if(!d)throw Error(t(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(x){var P=m.refs;x===null?delete P[v]:P[v]=x},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Ec(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function mv(i){var o=i._init;return o(i._payload)}function gv(i){function o($,M){if(i){var W=$.deletions;W===null?($.deletions=[M],$.flags|=16):W.push(M)}}function u($,M){if(!i)return null;for(;M!==null;)o($,M),M=M.sibling;return null}function d($,M){for($=new Map;M!==null;)M.key!==null?$.set(M.key,M):$.set(M.index,M),M=M.sibling;return $}function m($,M){return $=ts($,M),$.index=0,$.sibling=null,$}function v($,M,W){return $.index=W,i?(W=$.alternate,W!==null?(W=W.index,W<M?($.flags|=2,M):W):($.flags|=2,M)):($.flags|=1048576,M)}function x($){return i&&$.alternate===null&&($.flags|=2),$}function P($,M,W,ae){return M===null||M.tag!==6?(M=ap(W,$.mode,ae),M.return=$,M):(M=m(M,W),M.return=$,M)}function V($,M,W,ae){var Te=W.type;return Te===b?ne($,M,W.props.children,ae,W.key):M!==null&&(M.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===st&&mv(Te)===M.type)?(ae=m(M,W.props),ae.ref=wl($,M,W),ae.return=$,ae):(ae=qc(W.type,W.key,W.props,null,$.mode,ae),ae.ref=wl($,M,W),ae.return=$,ae)}function H($,M,W,ae){return M===null||M.tag!==4||M.stateNode.containerInfo!==W.containerInfo||M.stateNode.implementation!==W.implementation?(M=lp(W,$.mode,ae),M.return=$,M):(M=m(M,W.children||[]),M.return=$,M)}function ne($,M,W,ae,Te){return M===null||M.tag!==7?(M=so(W,$.mode,ae,Te),M.return=$,M):(M=m(M,W),M.return=$,M)}function re($,M,W){if(typeof M=="string"&&M!==""||typeof M=="number")return M=ap(""+M,$.mode,W),M.return=$,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ee:return W=qc(M.type,M.key,M.props,null,$.mode,W),W.ref=wl($,null,M),W.return=$,W;case se:return M=lp(M,$.mode,W),M.return=$,M;case st:var ae=M._init;return re($,ae(M._payload),W)}if(or(M)||ye(M))return M=so(M,$.mode,W,null),M.return=$,M;Ec($,M)}return null}function te($,M,W,ae){var Te=M!==null?M.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Te!==null?null:P($,M,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ee:return W.key===Te?V($,M,W,ae):null;case se:return W.key===Te?H($,M,W,ae):null;case st:return Te=W._init,te($,M,Te(W._payload),ae)}if(or(W)||ye(W))return Te!==null?null:ne($,M,W,ae,null);Ec($,W)}return null}function de($,M,W,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return $=$.get(W)||null,P(M,$,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ee:return $=$.get(ae.key===null?W:ae.key)||null,V(M,$,ae,Te);case se:return $=$.get(ae.key===null?W:ae.key)||null,H(M,$,ae,Te);case st:var xe=ae._init;return de($,M,W,xe(ae._payload),Te)}if(or(ae)||ye(ae))return $=$.get(W)||null,ne(M,$,ae,Te,null);Ec(M,ae)}return null}function ve($,M,W,ae){for(var Te=null,xe=null,Ie=M,Ce=M=0,zt=null;Ie!==null&&Ce<W.length;Ce++){Ie.index>Ce?(zt=Ie,Ie=null):zt=Ie.sibling;var Ge=te($,Ie,W[Ce],ae);if(Ge===null){Ie===null&&(Ie=zt);break}i&&Ie&&Ge.alternate===null&&o($,Ie),M=v(Ge,M,Ce),xe===null?Te=Ge:xe.sibling=Ge,xe=Ge,Ie=zt}if(Ce===W.length)return u($,Ie),at&&Ys($,Ce),Te;if(Ie===null){for(;Ce<W.length;Ce++)Ie=re($,W[Ce],ae),Ie!==null&&(M=v(Ie,M,Ce),xe===null?Te=Ie:xe.sibling=Ie,xe=Ie);return at&&Ys($,Ce),Te}for(Ie=d($,Ie);Ce<W.length;Ce++)zt=de(Ie,$,Ce,W[Ce],ae),zt!==null&&(i&&zt.alternate!==null&&Ie.delete(zt.key===null?Ce:zt.key),M=v(zt,M,Ce),xe===null?Te=zt:xe.sibling=zt,xe=zt);return i&&Ie.forEach(function(ns){return o($,ns)}),at&&Ys($,Ce),Te}function we($,M,W,ae){var Te=ye(W);if(typeof Te!="function")throw Error(t(150));if(W=Te.call(W),W==null)throw Error(t(151));for(var xe=Te=null,Ie=M,Ce=M=0,zt=null,Ge=W.next();Ie!==null&&!Ge.done;Ce++,Ge=W.next()){Ie.index>Ce?(zt=Ie,Ie=null):zt=Ie.sibling;var ns=te($,Ie,Ge.value,ae);if(ns===null){Ie===null&&(Ie=zt);break}i&&Ie&&ns.alternate===null&&o($,Ie),M=v(ns,M,Ce),xe===null?Te=ns:xe.sibling=ns,xe=ns,Ie=zt}if(Ge.done)return u($,Ie),at&&Ys($,Ce),Te;if(Ie===null){for(;!Ge.done;Ce++,Ge=W.next())Ge=re($,Ge.value,ae),Ge!==null&&(M=v(Ge,M,Ce),xe===null?Te=Ge:xe.sibling=Ge,xe=Ge);return at&&Ys($,Ce),Te}for(Ie=d($,Ie);!Ge.done;Ce++,Ge=W.next())Ge=de(Ie,$,Ce,Ge.value,ae),Ge!==null&&(i&&Ge.alternate!==null&&Ie.delete(Ge.key===null?Ce:Ge.key),M=v(Ge,M,Ce),xe===null?Te=Ge:xe.sibling=Ge,xe=Ge);return i&&Ie.forEach(function(hk){return o($,hk)}),at&&Ys($,Ce),Te}function At($,M,W,ae){if(typeof W=="object"&&W!==null&&W.type===b&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ee:e:{for(var Te=W.key,xe=M;xe!==null;){if(xe.key===Te){if(Te=W.type,Te===b){if(xe.tag===7){u($,xe.sibling),M=m(xe,W.props.children),M.return=$,$=M;break e}}else if(xe.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===st&&mv(Te)===xe.type){u($,xe.sibling),M=m(xe,W.props),M.ref=wl($,xe,W),M.return=$,$=M;break e}u($,xe);break}else o($,xe);xe=xe.sibling}W.type===b?(M=so(W.props.children,$.mode,ae,W.key),M.return=$,$=M):(ae=qc(W.type,W.key,W.props,null,$.mode,ae),ae.ref=wl($,M,W),ae.return=$,$=ae)}return x($);case se:e:{for(xe=W.key;M!==null;){if(M.key===xe)if(M.tag===4&&M.stateNode.containerInfo===W.containerInfo&&M.stateNode.implementation===W.implementation){u($,M.sibling),M=m(M,W.children||[]),M.return=$,$=M;break e}else{u($,M);break}else o($,M);M=M.sibling}M=lp(W,$.mode,ae),M.return=$,$=M}return x($);case st:return xe=W._init,At($,M,xe(W._payload),ae)}if(or(W))return ve($,M,W,ae);if(ye(W))return we($,M,W,ae);Ec($,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,M!==null&&M.tag===6?(u($,M.sibling),M=m(M,W),M.return=$,$=M):(u($,M),M=ap(W,$.mode,ae),M.return=$,$=M),x($)):u($,M)}return At}var oa=gv(!0),yv=gv(!1),xc=Hi(null),Ic=null,aa=null,yf=null;function vf(){yf=aa=Ic=null}function _f(i){var o=xc.current;rt(xc),i._currentValue=o}function wf(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function la(i,o){Ic=i,yf=aa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Sn=!0),i.firstContext=null)}function Qn(i){var o=i._currentValue;if(yf!==i)if(i={context:i,memoizedValue:o,next:null},aa===null){if(Ic===null)throw Error(t(308));aa=i,Ic.dependencies={lanes:0,firstContext:i}}else aa=aa.next=i;return o}var Js=null;function Tf(i){Js===null?Js=[i]:Js.push(i)}function vv(i,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Tf(o)):(u.next=m.next,m.next=u),o.interleaved=u,di(i,d)}function di(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Gi=!1;function Ef(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _v(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function fi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Qi(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Ke&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,di(i,u)}return m=d.interleaved,m===null?(o.next=o,Tf(d)):(o.next=m.next,m.next=o),d.interleaved=o,di(i,u)}function Sc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,ji(i,u)}}function wv(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var x={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=x:v=v.next=x,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Ac(i,o,u,d){var m=i.updateQueue;Gi=!1;var v=m.firstBaseUpdate,x=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var V=P,H=V.next;V.next=null,x===null?v=H:x.next=H,x=V;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==x&&(P===null?ne.firstBaseUpdate=H:P.next=H,ne.lastBaseUpdate=V))}if(v!==null){var re=m.baseState;x=0,ne=H=V=null,P=v;do{var te=P.lane,de=P.eventTime;if((d&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ve=i,we=P;switch(te=o,de=u,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){re=ve.call(de,re,te);break e}re=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,te=typeof ve=="function"?ve.call(de,re,te):ve,te==null)break e;re=ue({},re,te);break e;case 2:Gi=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[P]:te.push(P))}else de={eventTime:de,lane:te,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(H=ne=de,V=re):ne=ne.next=de,x|=te;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;te=P,P=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(V=re),m.baseState=V,m.firstBaseUpdate=H,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do x|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);to|=x,i.lanes=x,i.memoizedState=re}}function Tv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Tl={},jr=Hi(Tl),El=Hi(Tl),xl=Hi(Tl);function Zs(i){if(i===Tl)throw Error(t(174));return i}function xf(i,o){switch(et(xl,o),et(El,i),et(jr,Tl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:xt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=xt(o,i)}rt(jr),et(jr,o)}function ua(){rt(jr),rt(El),rt(xl)}function Ev(i){Zs(xl.current);var o=Zs(jr.current),u=xt(o,i.type);o!==u&&(et(El,i),et(jr,u))}function If(i){El.current===i&&(rt(jr),rt(El))}var ct=Hi(0);function Pc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Sf=[];function Af(){for(var i=0;i<Sf.length;i++)Sf[i]._workInProgressVersionPrimary=null;Sf.length=0}var kc=Z.ReactCurrentDispatcher,Pf=Z.ReactCurrentBatchConfig,eo=0,ht=null,Lt=null,Ft=null,Rc=!1,Il=!1,Sl=0,DP=0;function nn(){throw Error(t(321))}function kf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!yr(i[u],o[u]))return!1;return!0}function Rf(i,o,u,d,m,v){if(eo=v,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,kc.current=i===null||i.memoizedState===null?MP:jP,i=u(d,m),Il){v=0;do{if(Il=!1,Sl=0,25<=v)throw Error(t(301));v+=1,Ft=Lt=null,o.updateQueue=null,kc.current=UP,i=u(d,m)}while(Il)}if(kc.current=Nc,o=Lt!==null&&Lt.next!==null,eo=0,Ft=Lt=ht=null,Rc=!1,o)throw Error(t(300));return i}function Cf(){var i=Sl!==0;return Sl=0,i}function Ur(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ht.memoizedState=Ft=i:Ft=Ft.next=i,Ft}function Xn(){if(Lt===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var o=Ft===null?ht.memoizedState:Ft.next;if(o!==null)Ft=o,Lt=i;else{if(i===null)throw Error(t(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ft===null?ht.memoizedState=Ft=i:Ft=Ft.next=i}return Ft}function Al(i,o){return typeof o=="function"?o(i):o}function bf(i){var o=Xn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=Lt,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var x=m.next;m.next=v.next,v.next=x}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var P=x=null,V=null,H=v;do{var ne=H.lane;if((eo&ne)===ne)V!==null&&(V=V.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:i(d,H.action);else{var re={lane:ne,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};V===null?(P=V=re,x=d):V=V.next=re,ht.lanes|=ne,to|=ne}H=H.next}while(H!==null&&H!==v);V===null?x=d:V.next=P,yr(d,o.memoizedState)||(Sn=!0),o.memoizedState=d,o.baseState=x,o.baseQueue=V,u.lastRenderedState=d}if(i=u.interleaved,i!==null){m=i;do v=m.lane,ht.lanes|=v,to|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Nf(i){var o=Xn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var x=m=m.next;do v=i(v,x.action),x=x.next;while(x!==m);yr(v,o.memoizedState)||(Sn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function xv(){}function Iv(i,o){var u=ht,d=Xn(),m=o(),v=!yr(d.memoizedState,m);if(v&&(d.memoizedState=m,Sn=!0),d=d.queue,Df(Pv.bind(null,u,d,i),[i]),d.getSnapshot!==o||v||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,Pl(9,Av.bind(null,u,d,m,o),void 0,null),Bt===null)throw Error(t(349));(eo&30)!==0||Sv(u,o,m)}return m}function Sv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Av(i,o,u,d){o.value=u,o.getSnapshot=d,kv(o)&&Rv(i)}function Pv(i,o,u){return u(function(){kv(o)&&Rv(i)})}function kv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!yr(i,u)}catch{return!0}}function Rv(i){var o=di(i,1);o!==null&&Er(o,i,1,-1)}function Cv(i){var o=Ur();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:i},o.queue=i,i=i.dispatch=OP.bind(null,ht,i),[o.memoizedState,i]}function Pl(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function bv(){return Xn().memoizedState}function Cc(i,o,u,d){var m=Ur();ht.flags|=i,m.memoizedState=Pl(1|o,u,void 0,d===void 0?null:d)}function bc(i,o,u,d){var m=Xn();d=d===void 0?null:d;var v=void 0;if(Lt!==null){var x=Lt.memoizedState;if(v=x.destroy,d!==null&&kf(d,x.deps)){m.memoizedState=Pl(o,u,v,d);return}}ht.flags|=i,m.memoizedState=Pl(1|o,u,v,d)}function Nv(i,o){return Cc(8390656,8,i,o)}function Df(i,o){return bc(2048,8,i,o)}function Dv(i,o){return bc(4,2,i,o)}function Vv(i,o){return bc(4,4,i,o)}function Lv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Ov(i,o,u){return u=u!=null?u.concat([i]):null,bc(4,4,Lv.bind(null,o,i),u)}function Vf(){}function Mv(i,o){var u=Xn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&kf(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function jv(i,o){var u=Xn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&kf(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function Uv(i,o,u){return(eo&21)===0?(i.baseState&&(i.baseState=!1,Sn=!0),i.memoizedState=u):(yr(u,o)||(u=$s(),ht.lanes|=u,to|=u,i.baseState=!0),o)}function VP(i,o){var u=$e;$e=u!==0&&4>u?u:4,i(!0);var d=Pf.transition;Pf.transition={};try{i(!1),o()}finally{$e=u,Pf.transition=d}}function Fv(){return Xn().memoizedState}function LP(i,o,u){var d=Zi(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Bv(i))zv(o,u);else if(u=vv(i,o,u,d),u!==null){var m=yn();Er(u,i,d,m),$v(u,o,d)}}function OP(i,o,u){var d=Zi(i),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bv(i))zv(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var x=o.lastRenderedState,P=v(x,u);if(m.hasEagerState=!0,m.eagerState=P,yr(P,x)){var V=o.interleaved;V===null?(m.next=m,Tf(o)):(m.next=V.next,V.next=m),o.interleaved=m;return}}catch{}finally{}u=vv(i,o,m,d),u!==null&&(m=yn(),Er(u,i,d,m),$v(u,o,d))}}function Bv(i){var o=i.alternate;return i===ht||o!==null&&o===ht}function zv(i,o){Il=Rc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function $v(i,o,u){if((u&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,ji(i,u)}}var Nc={readContext:Qn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},MP={readContext:Qn,useCallback:function(i,o){return Ur().memoizedState=[i,o===void 0?null:o],i},useContext:Qn,useEffect:Nv,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Cc(4194308,4,Lv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Cc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Cc(4,2,i,o)},useMemo:function(i,o){var u=Ur();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=Ur();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=LP.bind(null,ht,i),[d.memoizedState,i]},useRef:function(i){var o=Ur();return i={current:i},o.memoizedState=i},useState:Cv,useDebugValue:Vf,useDeferredValue:function(i){return Ur().memoizedState=i},useTransition:function(){var i=Cv(!1),o=i[0];return i=VP.bind(null,i[1]),Ur().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=ht,m=Ur();if(at){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Bt===null)throw Error(t(349));(eo&30)!==0||Sv(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,Nv(Pv.bind(null,d,v,i),[i]),d.flags|=2048,Pl(9,Av.bind(null,d,v,u,o),void 0,null),u},useId:function(){var i=Ur(),o=Bt.identifierPrefix;if(at){var u=hi,d=ci;u=(d&~(1<<32-pn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Sl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=DP++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},jP={readContext:Qn,useCallback:Mv,useContext:Qn,useEffect:Df,useImperativeHandle:Ov,useInsertionEffect:Dv,useLayoutEffect:Vv,useMemo:jv,useReducer:bf,useRef:bv,useState:function(){return bf(Al)},useDebugValue:Vf,useDeferredValue:function(i){var o=Xn();return Uv(o,Lt.memoizedState,i)},useTransition:function(){var i=bf(Al)[0],o=Xn().memoizedState;return[i,o]},useMutableSource:xv,useSyncExternalStore:Iv,useId:Fv,unstable_isNewReconciler:!1},UP={readContext:Qn,useCallback:Mv,useContext:Qn,useEffect:Df,useImperativeHandle:Ov,useInsertionEffect:Dv,useLayoutEffect:Vv,useMemo:jv,useReducer:Nf,useRef:bv,useState:function(){return Nf(Al)},useDebugValue:Vf,useDeferredValue:function(i){var o=Xn();return Lt===null?o.memoizedState=i:Uv(o,Lt.memoizedState,i)},useTransition:function(){var i=Nf(Al)[0],o=Xn().memoizedState;return[i,o]},useMutableSource:xv,useSyncExternalStore:Iv,useId:Fv,unstable_isNewReconciler:!1};function _r(i,o){if(i&&i.defaultProps){o=ue({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Lf(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:ue({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Dc={isMounted:function(i){return(i=i._reactInternals)?cr(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=yn(),m=Zi(i),v=fi(d,m);v.payload=o,u!=null&&(v.callback=u),o=Qi(i,v,m),o!==null&&(Er(o,i,m,d),Sc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=yn(),m=Zi(i),v=fi(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Qi(i,v,m),o!==null&&(Er(o,i,m,d),Sc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=yn(),d=Zi(i),m=fi(u,d);m.tag=2,o!=null&&(m.callback=o),o=Qi(i,m,d),o!==null&&(Er(o,i,d,u),Sc(o,i,d))}};function Wv(i,o,u,d,m,v,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,x):o.prototype&&o.prototype.isPureReactComponent?!fl(u,d)||!fl(m,v):!0}function Hv(i,o,u){var d=!1,m=qi,v=o.contextType;return typeof v=="object"&&v!==null?v=Qn(v):(m=In(o)?Qs:tn.current,d=o.contextTypes,v=(d=d!=null)?na(i,m):qi),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Dc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function qv(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&Dc.enqueueReplaceState(o,o.state,null)}function Of(i,o,u,d){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Ef(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Qn(v):(v=In(o)?Qs:tn.current,m.context=na(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Lf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Dc.enqueueReplaceState(m,m.state,null),Ac(i,u,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ca(i,o){try{var u="",d=o;do u+=Le(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Mf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function jf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var FP=typeof WeakMap=="function"?WeakMap:Map;function Kv(i,o,u){u=fi(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Fc||(Fc=!0,Zf=d),jf(i,o)},u}function Gv(i,o,u){u=fi(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){jf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){jf(i,o),typeof d!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})}),u}function Qv(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new FP;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),i=ek.bind(null,i,o,u),o.then(i,i))}function Xv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Yv(i,o,u,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=fi(-1,1),o.tag=2,Qi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var BP=Z.ReactCurrentOwner,Sn=!1;function gn(i,o,u,d){o.child=i===null?yv(o,null,u,d):oa(o,i.child,u,d)}function Jv(i,o,u,d,m){u=u.render;var v=o.ref;return la(o,m),d=Rf(i,o,u,d,v,m),u=Cf(),i!==null&&!Sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,pi(i,o,m)):(at&&u&&df(o),o.flags|=1,gn(i,o,d,m),o.child)}function Zv(i,o,u,d,m){if(i===null){var v=u.type;return typeof v=="function"&&!op(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,e0(i,o,v,d,m)):(i=qc(u.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var x=v.memoizedProps;if(u=u.compare,u=u!==null?u:fl,u(x,d)&&i.ref===o.ref)return pi(i,o,m)}return o.flags|=1,i=ts(v,d),i.ref=o.ref,i.return=o,o.child=i}function e0(i,o,u,d,m){if(i!==null){var v=i.memoizedProps;if(fl(v,d)&&i.ref===o.ref)if(Sn=!1,o.pendingProps=d=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Sn=!0);else return o.lanes=i.lanes,pi(i,o,m)}return Uf(i,o,u,d,m)}function t0(i,o,u){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(da,jn),jn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,et(da,jn),jn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,et(da,jn),jn|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,et(da,jn),jn|=d;return gn(i,o,m,u),o.child}function n0(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Uf(i,o,u,d,m){var v=In(u)?Qs:tn.current;return v=na(o,v),la(o,m),u=Rf(i,o,u,d,v,m),d=Cf(),i!==null&&!Sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,pi(i,o,m)):(at&&d&&df(o),o.flags|=1,gn(i,o,u,m),o.child)}function r0(i,o,u,d,m){if(In(u)){var v=!0;yc(o)}else v=!1;if(la(o,m),o.stateNode===null)Lc(i,o),Hv(o,u,d),Of(o,u,d,m),d=!0;else if(i===null){var x=o.stateNode,P=o.memoizedProps;x.props=P;var V=x.context,H=u.contextType;typeof H=="object"&&H!==null?H=Qn(H):(H=In(u)?Qs:tn.current,H=na(o,H));var ne=u.getDerivedStateFromProps,re=typeof ne=="function"||typeof x.getSnapshotBeforeUpdate=="function";re||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P!==d||V!==H)&&qv(o,x,d,H),Gi=!1;var te=o.memoizedState;x.state=te,Ac(o,d,x,m),V=o.memoizedState,P!==d||te!==V||xn.current||Gi?(typeof ne=="function"&&(Lf(o,u,ne,d),V=o.memoizedState),(P=Gi||Wv(o,u,P,d,te,V,H))?(re||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=V),x.props=d,x.state=V,x.context=H,d=P):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,_v(i,o),P=o.memoizedProps,H=o.type===o.elementType?P:_r(o.type,P),x.props=H,re=o.pendingProps,te=x.context,V=u.contextType,typeof V=="object"&&V!==null?V=Qn(V):(V=In(u)?Qs:tn.current,V=na(o,V));var de=u.getDerivedStateFromProps;(ne=typeof de=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P!==re||te!==V)&&qv(o,x,d,V),Gi=!1,te=o.memoizedState,x.state=te,Ac(o,d,x,m);var ve=o.memoizedState;P!==re||te!==ve||xn.current||Gi?(typeof de=="function"&&(Lf(o,u,de,d),ve=o.memoizedState),(H=Gi||Wv(o,u,H,d,te,ve,V)||!1)?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ve,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ve,V)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||P===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ve),x.props=d,x.state=ve,x.context=V,d=H):(typeof x.componentDidUpdate!="function"||P===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),d=!1)}return Ff(i,o,u,d,v,m)}function Ff(i,o,u,d,m,v){n0(i,o);var x=(o.flags&128)!==0;if(!d&&!x)return m&&lv(o,u,!1),pi(i,o,v);d=o.stateNode,BP.current=o;var P=x&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&x?(o.child=oa(o,i.child,null,v),o.child=oa(o,null,P,v)):gn(i,o,P,v),o.memoizedState=d.state,m&&lv(o,u,!0),o.child}function i0(i){var o=i.stateNode;o.pendingContext?ov(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ov(i,o.context,!1),xf(i,o.containerInfo)}function s0(i,o,u,d,m){return sa(),gf(m),o.flags|=256,gn(i,o,u,d),o.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function zf(i){return{baseLanes:i,cachePool:null,transitions:null}}function o0(i,o,u){var d=o.pendingProps,m=ct.current,v=!1,x=(o.flags&128)!==0,P;if((P=x)||(P=i!==null&&i.memoizedState===null?!1:(m&2)!==0),P?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),et(ct,m&1),i===null)return mf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(x=d.children,i=d.fallback,v?(d=o.mode,v=o.child,x={mode:"hidden",children:x},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=x):v=Kc(x,d,0,null),i=so(i,d,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=zf(u),o.memoizedState=Bf,i):$f(o,x));if(m=i.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return zP(i,o,x,d,P,m,u);if(v){v=d.fallback,x=o.mode,m=i.child,P=m.sibling;var V={mode:"hidden",children:d.children};return(x&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=V,o.deletions=null):(d=ts(m,V),d.subtreeFlags=m.subtreeFlags&14680064),P!==null?v=ts(P,v):(v=so(v,x,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,x=i.child.memoizedState,x=x===null?zf(u):{baseLanes:x.baseLanes|u,cachePool:null,transitions:x.transitions},v.memoizedState=x,v.childLanes=i.childLanes&~u,o.memoizedState=Bf,d}return v=i.child,i=v.sibling,d=ts(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function $f(i,o){return o=Kc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Vc(i,o,u,d){return d!==null&&gf(d),oa(o,i.child,null,u),i=$f(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function zP(i,o,u,d,m,v,x){if(u)return o.flags&256?(o.flags&=-257,d=Mf(Error(t(422))),Vc(i,o,x,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Kc({mode:"visible",children:d.children},m,0,null),v=so(v,m,x,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&oa(o,i.child,null,x),o.child.memoizedState=zf(x),o.memoizedState=Bf,v);if((o.mode&1)===0)return Vc(i,o,x,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var P=d.dgst;return d=P,v=Error(t(419)),d=Mf(v,d,void 0),Vc(i,o,x,d)}if(P=(x&i.childLanes)!==0,Sn||P){if(d=Bt,d!==null){switch(x&-x){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|x))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,di(i,m),Er(d,i,m,-1))}return sp(),d=Mf(Error(t(421))),Vc(i,o,x,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=tk.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Mn=Wi(m.nextSibling),On=o,at=!0,vr=null,i!==null&&(Kn[Gn++]=ci,Kn[Gn++]=hi,Kn[Gn++]=Xs,ci=i.id,hi=i.overflow,Xs=o),o=$f(o,d.children),o.flags|=4096,o)}function a0(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),wf(i.return,o,u)}function Wf(i,o,u,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function l0(i,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(gn(i,o,d.children,u),d=ct.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&a0(i,u,o);else if(i.tag===19)a0(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(et(ct,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Pc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Wf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Pc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Wf(o,!0,u,null,v);break;case"together":Wf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Lc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function pi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),to|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=ts(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ts(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function $P(i,o,u){switch(o.tag){case 3:i0(o),sa();break;case 5:Ev(o);break;case 1:In(o.type)&&yc(o);break;case 4:xf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;et(xc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(et(ct,ct.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?o0(i,o,u):(et(ct,ct.current&1),i=pi(i,o,u),i!==null?i.sibling:null);et(ct,ct.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(i.flags&128)!==0){if(d)return l0(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(ct,ct.current),d)break;return null;case 22:case 23:return o.lanes=0,t0(i,o,u)}return pi(i,o,u)}var u0,Hf,c0,h0;u0=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Hf=function(){},c0=function(i,o,u,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,Zs(jr.current);var v=null;switch(u){case"input":m=fn(i,m),d=fn(i,d),v=[];break;case"select":m=ue({},m,{value:void 0}),d=ue({},d,{value:void 0}),v=[];break;case"textarea":m=Ls(i,m),d=Ls(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=pc)}ut(u,d);var x;u=null;for(H in m)if(!d.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var P=m[H];for(x in P)P.hasOwnProperty(x)&&(u||(u={}),u[x]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?v||(v=[]):(v=v||[]).push(H,null));for(H in d){var V=d[H];if(P=m!=null?m[H]:void 0,d.hasOwnProperty(H)&&V!==P&&(V!=null||P!=null))if(H==="style")if(P){for(x in P)!P.hasOwnProperty(x)||V&&V.hasOwnProperty(x)||(u||(u={}),u[x]="");for(x in V)V.hasOwnProperty(x)&&P[x]!==V[x]&&(u||(u={}),u[x]=V[x])}else u||(v||(v=[]),v.push(H,u)),u=V;else H==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,P=P?P.__html:void 0,V!=null&&P!==V&&(v=v||[]).push(H,V)):H==="children"?typeof V!="string"&&typeof V!="number"||(v=v||[]).push(H,""+V):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(V!=null&&H==="onScroll"&&nt("scroll",i),v||P===V||(v=[])):(v=v||[]).push(H,V))}u&&(v=v||[]).push("style",u);var H=v;(o.updateQueue=H)&&(o.flags|=4)}},h0=function(i,o,u,d){u!==d&&(o.flags|=4)};function kl(i,o){if(!at)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function rn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function WP(i,o,u){var d=o.pendingProps;switch(ff(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(o),null;case 1:return In(o.type)&&gc(),rn(o),null;case 3:return d=o.stateNode,ua(),rt(xn),rt(tn),Af(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Tc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vr!==null&&(np(vr),vr=null))),Hf(i,o),rn(o),null;case 5:If(o);var m=Zs(xl.current);if(u=o.type,i!==null&&o.stateNode!=null)c0(i,o,u,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return rn(o),null}if(i=Zs(jr.current),Tc(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[Mr]=o,d[vl]=v,i=(o.mode&1)!==0,u){case"dialog":nt("cancel",d),nt("close",d);break;case"iframe":case"object":case"embed":nt("load",d);break;case"video":case"audio":for(m=0;m<ml.length;m++)nt(ml[m],d);break;case"source":nt("error",d);break;case"img":case"image":case"link":nt("error",d),nt("load",d);break;case"details":nt("toggle",d);break;case"input":ir(d,v),nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},nt("invalid",d);break;case"textarea":bi(d,v),nt("invalid",d)}ut(u,v),m=null;for(var x in v)if(v.hasOwnProperty(x)){var P=v[x];x==="children"?typeof P=="string"?d.textContent!==P&&(v.suppressHydrationWarning!==!0&&fc(d.textContent,P,i),m=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(v.suppressHydrationWarning!==!0&&fc(d.textContent,P,i),m=["children",""+P]):s.hasOwnProperty(x)&&P!=null&&x==="onScroll"&&nt("scroll",d)}switch(u){case"input":mt(d),Ci(d,v,!0);break;case"textarea":mt(d),kr(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=pc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{x=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Et(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=x.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=x.createElement(u,{is:d.is}):(i=x.createElement(u),u==="select"&&(x=i,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):i=x.createElementNS(i,u),i[Mr]=o,i[vl]=d,u0(i,o,!1,!1),o.stateNode=i;e:{switch(x=Rr(u,d),u){case"dialog":nt("cancel",i),nt("close",i),m=d;break;case"iframe":case"object":case"embed":nt("load",i),m=d;break;case"video":case"audio":for(m=0;m<ml.length;m++)nt(ml[m],i);m=d;break;case"source":nt("error",i),m=d;break;case"img":case"image":case"link":nt("error",i),nt("load",i),m=d;break;case"details":nt("toggle",i),m=d;break;case"input":ir(i,d),m=fn(i,d),nt("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=ue({},d,{value:void 0}),nt("invalid",i);break;case"textarea":bi(i,d),m=Ls(i,d),nt("invalid",i);break;default:m=d}ut(u,m),P=m;for(v in P)if(P.hasOwnProperty(v)){var V=P[v];v==="style"?jt(i,V):v==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&he(i,V)):v==="children"?typeof V=="string"?(u!=="textarea"||V!=="")&&Me(i,V):typeof V=="number"&&Me(i,""+V):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?V!=null&&v==="onScroll"&&nt("scroll",i):V!=null&&q(i,v,V,x))}switch(u){case"input":mt(i),Ci(i,d,!1);break;case"textarea":mt(i),kr(i);break;case"option":d.value!=null&&i.setAttribute("value",""+ce(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?ar(i,!!d.multiple,v,!1):d.defaultValue!=null&&ar(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=pc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return rn(o),null;case 6:if(i&&o.stateNode!=null)h0(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(u=Zs(xl.current),Zs(jr.current),Tc(o)){if(d=o.stateNode,u=o.memoizedProps,d[Mr]=o,(v=d.nodeValue!==u)&&(i=On,i!==null))switch(i.tag){case 3:fc(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&fc(d.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Mr]=o,o.stateNode=d}return rn(o),null;case 13:if(rt(ct),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(at&&Mn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)pv(),sa(),o.flags|=98560,v=!1;else if(v=Tc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Mr]=o}else sa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;rn(o),v=!1}else vr!==null&&(np(vr),vr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ct.current&1)!==0?Ot===0&&(Ot=3):sp())),o.updateQueue!==null&&(o.flags|=4),rn(o),null);case 4:return ua(),Hf(i,o),i===null&&gl(o.stateNode.containerInfo),rn(o),null;case 10:return _f(o.type._context),rn(o),null;case 17:return In(o.type)&&gc(),rn(o),null;case 19:if(rt(ct),v=o.memoizedState,v===null)return rn(o),null;if(d=(o.flags&128)!==0,x=v.rendering,x===null)if(d)kl(v,!1);else{if(Ot!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(x=Pc(i),x!==null){for(o.flags|=128,kl(v,!1),d=x.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,i=d,v.flags&=14680066,x=v.alternate,x===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=x.childLanes,v.lanes=x.lanes,v.child=x.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=x.memoizedProps,v.memoizedState=x.memoizedState,v.updateQueue=x.updateQueue,v.type=x.type,i=x.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return et(ct,ct.current&1|2),o.child}i=i.sibling}v.tail!==null&&Ze()>fa&&(o.flags|=128,d=!0,kl(v,!1),o.lanes=4194304)}else{if(!d)if(i=Pc(x),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),kl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!at)return rn(o),null}else 2*Ze()-v.renderingStartTime>fa&&u!==1073741824&&(o.flags|=128,d=!0,kl(v,!1),o.lanes=4194304);v.isBackwards?(x.sibling=o.child,o.child=x):(u=v.last,u!==null?u.sibling=x:o.child=x,v.last=x)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ze(),o.sibling=null,u=ct.current,et(ct,d?u&1|2:u&1),o):(rn(o),null);case 22:case 23:return ip(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(jn&1073741824)!==0&&(rn(o),o.subtreeFlags&6&&(o.flags|=8192)):rn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function HP(i,o){switch(ff(o),o.tag){case 1:return In(o.type)&&gc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ua(),rt(xn),rt(tn),Af(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return If(o),null;case 13:if(rt(ct),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));sa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return rt(ct),null;case 4:return ua(),null;case 10:return _f(o.type._context),null;case 22:case 23:return ip(),null;case 24:return null;default:return null}}var Oc=!1,sn=!1,qP=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ha(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){gt(i,o,d)}else u.current=null}function qf(i,o,u){try{u()}catch(d){gt(i,o,d)}}var d0=!1;function KP(i,o){if(rf=Bi,i=Wy(),Qd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var x=0,P=-1,V=-1,H=0,ne=0,re=i,te=null;t:for(;;){for(var de;re!==u||m!==0&&re.nodeType!==3||(P=x+m),re!==v||d!==0&&re.nodeType!==3||(V=x+d),re.nodeType===3&&(x+=re.nodeValue.length),(de=re.firstChild)!==null;)te=re,re=de;for(;;){if(re===i)break t;if(te===u&&++H===m&&(P=x),te===v&&++ne===d&&(V=x),(de=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=de}u=P===-1||V===-1?null:{start:P,end:V}}else u=null}u=u||{start:0,end:0}}else u=null;for(sf={focusedElem:i,selectionRange:u},Bi=!1,ge=o;ge!==null;)if(o=ge,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ge=i;else for(;ge!==null;){o=ge;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,At=ve.memoizedState,$=o.stateNode,M=$.getSnapshotBeforeUpdate(o.elementType===o.type?we:_r(o.type,we),At);$.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){gt(o,o.return,ae)}if(i=o.sibling,i!==null){i.return=o.return,ge=i;break}ge=o.return}return ve=d0,d0=!1,ve}function Rl(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&qf(o,u,v)}m=m.next}while(m!==d)}}function Mc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Kf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function f0(i){var o=i.alternate;o!==null&&(i.alternate=null,f0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Mr],delete o[vl],delete o[uf],delete o[RP],delete o[CP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function p0(i){return i.tag===5||i.tag===3||i.tag===4}function m0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||p0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gf(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=pc));else if(d!==4&&(i=i.child,i!==null))for(Gf(i,o,u),i=i.sibling;i!==null;)Gf(i,o,u),i=i.sibling}function Qf(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Qf(i,o,u),i=i.sibling;i!==null;)Qf(i,o,u),i=i.sibling}var Kt=null,wr=!1;function Xi(i,o,u){for(u=u.child;u!==null;)g0(i,o,u),u=u.sibling}function g0(i,o,u){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Bs,u)}catch{}switch(u.tag){case 5:sn||ha(u,o);case 6:var d=Kt,m=wr;Kt=null,Xi(i,o,u),Kt=d,wr=m,Kt!==null&&(wr?(i=Kt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Kt.removeChild(u.stateNode));break;case 18:Kt!==null&&(wr?(i=Kt,u=u.stateNode,i.nodeType===8?lf(i.parentNode,u):i.nodeType===1&&lf(i,u),mr(i)):lf(Kt,u.stateNode));break;case 4:d=Kt,m=wr,Kt=u.stateNode.containerInfo,wr=!0,Xi(i,o,u),Kt=d,wr=m;break;case 0:case 11:case 14:case 15:if(!sn&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,x=v.destroy;v=v.tag,x!==void 0&&((v&2)!==0||(v&4)!==0)&&qf(u,o,x),m=m.next}while(m!==d)}Xi(i,o,u);break;case 1:if(!sn&&(ha(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(P){gt(u,o,P)}Xi(i,o,u);break;case 21:Xi(i,o,u);break;case 22:u.mode&1?(sn=(d=sn)||u.memoizedState!==null,Xi(i,o,u),sn=d):Xi(i,o,u);break;default:Xi(i,o,u)}}function y0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new qP),o.forEach(function(d){var m=nk.bind(null,i,d);u.has(d)||(u.add(d),d.then(m,m))})}}function Tr(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=i,x=o,P=x;e:for(;P!==null;){switch(P.tag){case 5:Kt=P.stateNode,wr=!1;break e;case 3:Kt=P.stateNode.containerInfo,wr=!0;break e;case 4:Kt=P.stateNode.containerInfo,wr=!0;break e}P=P.return}if(Kt===null)throw Error(t(160));g0(v,x,m),Kt=null,wr=!1;var V=m.alternate;V!==null&&(V.return=null),m.return=null}catch(H){gt(m,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)v0(o,i),o=o.sibling}function v0(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Tr(o,i),Fr(i),d&4){try{Rl(3,i,i.return),Mc(3,i)}catch(we){gt(i,i.return,we)}try{Rl(5,i,i.return)}catch(we){gt(i,i.return,we)}}break;case 1:Tr(o,i),Fr(i),d&512&&u!==null&&ha(u,u.return);break;case 5:if(Tr(o,i),Fr(i),d&512&&u!==null&&ha(u,u.return),i.flags&32){var m=i.stateNode;try{Me(m,"")}catch(we){gt(i,i.return,we)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,x=u!==null?u.memoizedProps:v,P=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{P==="input"&&v.type==="radio"&&v.name!=null&&ei(m,v),Rr(P,x);var H=Rr(P,v);for(x=0;x<V.length;x+=2){var ne=V[x],re=V[x+1];ne==="style"?jt(m,re):ne==="dangerouslySetInnerHTML"?he(m,re):ne==="children"?Me(m,re):q(m,ne,re,H)}switch(P){case"input":ti(m,v);break;case"textarea":Ni(m,v);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?ar(m,!!v.multiple,de,!1):te!==!!v.multiple&&(v.defaultValue!=null?ar(m,!!v.multiple,v.defaultValue,!0):ar(m,!!v.multiple,v.multiple?[]:"",!1))}m[vl]=v}catch(we){gt(i,i.return,we)}}break;case 6:if(Tr(o,i),Fr(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(we){gt(i,i.return,we)}}break;case 3:if(Tr(o,i),Fr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{mr(o.containerInfo)}catch(we){gt(i,i.return,we)}break;case 4:Tr(o,i),Fr(i);break;case 13:Tr(o,i),Fr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Jf=Ze())),d&4&&y0(i);break;case 22:if(ne=u!==null&&u.memoizedState!==null,i.mode&1?(sn=(H=sn)||ne,Tr(o,i),sn=H):Tr(o,i),Fr(i),d&8192){if(H=i.memoizedState!==null,(i.stateNode.isHidden=H)&&!ne&&(i.mode&1)!==0)for(ge=i,ne=i.child;ne!==null;){for(re=ge=ne;ge!==null;){switch(te=ge,de=te.child,te.tag){case 0:case 11:case 14:case 15:Rl(4,te,te.return);break;case 1:ha(te,te.return);var ve=te.stateNode;if(typeof ve.componentWillUnmount=="function"){d=te,u=te.return;try{o=d,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(we){gt(d,u,we)}}break;case 5:ha(te,te.return);break;case 22:if(te.memoizedState!==null){T0(re);continue}}de!==null?(de.return=te,ge=de):T0(re)}ne=ne.sibling}e:for(ne=null,re=i;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,H?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(P=re.stateNode,V=re.memoizedProps.style,x=V!=null&&V.hasOwnProperty("display")?V.display:null,P.style.display=We("display",x))}catch(we){gt(i,i.return,we)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=H?"":re.memoizedProps}catch(we){gt(i,i.return,we)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Tr(o,i),Fr(i),d&4&&y0(i);break;case 21:break;default:Tr(o,i),Fr(i)}}function Fr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(p0(u)){var d=u;break e}u=u.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Me(m,""),d.flags&=-33);var v=m0(i);Qf(i,v,m);break;case 3:case 4:var x=d.stateNode.containerInfo,P=m0(i);Gf(i,P,x);break;default:throw Error(t(161))}}catch(V){gt(i,i.return,V)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function GP(i,o,u){ge=i,_0(i)}function _0(i,o,u){for(var d=(i.mode&1)!==0;ge!==null;){var m=ge,v=m.child;if(m.tag===22&&d){var x=m.memoizedState!==null||Oc;if(!x){var P=m.alternate,V=P!==null&&P.memoizedState!==null||sn;P=Oc;var H=sn;if(Oc=x,(sn=V)&&!H)for(ge=m;ge!==null;)x=ge,V=x.child,x.tag===22&&x.memoizedState!==null?E0(m):V!==null?(V.return=x,ge=V):E0(m);for(;v!==null;)ge=v,_0(v),v=v.sibling;ge=m,Oc=P,sn=H}w0(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,ge=v):w0(i)}}function w0(i){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:sn||Mc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!sn)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:_r(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Tv(o,v,d);break;case 3:var x=o.updateQueue;if(x!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Tv(o,x,u)}break;case 5:var P=o.stateNode;if(u===null&&o.flags&4){u=P;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&u.focus();break;case"img":V.src&&(u.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var ne=H.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&mr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sn||o.flags&512&&Kf(o)}catch(te){gt(o,o.return,te)}}if(o===i){ge=null;break}if(u=o.sibling,u!==null){u.return=o.return,ge=u;break}ge=o.return}}function T0(i){for(;ge!==null;){var o=ge;if(o===i){ge=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ge=u;break}ge=o.return}}function E0(i){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Mc(4,o)}catch(V){gt(o,u,V)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(V){gt(o,m,V)}}var v=o.return;try{Kf(o)}catch(V){gt(o,v,V)}break;case 5:var x=o.return;try{Kf(o)}catch(V){gt(o,x,V)}}}catch(V){gt(o,o.return,V)}if(o===i){ge=null;break}var P=o.sibling;if(P!==null){P.return=o.return,ge=P;break}ge=o.return}}var QP=Math.ceil,jc=Z.ReactCurrentDispatcher,Xf=Z.ReactCurrentOwner,Yn=Z.ReactCurrentBatchConfig,Ke=0,Bt=null,Ct=null,Gt=0,jn=0,da=Hi(0),Ot=0,Cl=null,to=0,Uc=0,Yf=0,bl=null,An=null,Jf=0,fa=1/0,mi=null,Fc=!1,Zf=null,Yi=null,Bc=!1,Ji=null,zc=0,Nl=0,ep=null,$c=-1,Wc=0;function yn(){return(Ke&6)!==0?Ze():$c!==-1?$c:$c=Ze()}function Zi(i){return(i.mode&1)===0?1:(Ke&2)!==0&&Gt!==0?Gt&-Gt:NP.transition!==null?(Wc===0&&(Wc=$s()),Wc):(i=$e,i!==0||(i=window.event,i=i===void 0?16:ol(i.type)),i)}function Er(i,o,u,d){if(50<Nl)throw Nl=0,ep=null,Error(t(185));Mi(i,u,d),((Ke&2)===0||i!==Bt)&&(i===Bt&&((Ke&2)===0&&(Uc|=u),Ot===4&&es(i,Gt)),Pn(i,d),u===1&&Ke===0&&(o.mode&1)===0&&(fa=Ze()+500,vc&&Ki()))}function Pn(i,o){var u=i.callbackNode;ri(i,o);var d=zs(i,i===Bt?Gt:0);if(d===0)u!==null&&tl(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&tl(u),o===1)i.tag===0?bP(I0.bind(null,i)):uv(I0.bind(null,i)),PP(function(){(Ke&6)===0&&Ki()}),u=null;else{switch(Ui(d)){case 1:u=Fs;break;case 4:u=Vi;break;case 16:u=Wn;break;case 536870912:u=Wu;break;default:u=Wn}u=N0(u,x0.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function x0(i,o){if($c=-1,Wc=0,(Ke&6)!==0)throw Error(t(327));var u=i.callbackNode;if(pa()&&i.callbackNode!==u)return null;var d=zs(i,i===Bt?Gt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Hc(i,d);else{o=d;var m=Ke;Ke|=2;var v=A0();(Bt!==i||Gt!==o)&&(mi=null,fa=Ze()+500,ro(i,o));do try{JP();break}catch(P){S0(i,P)}while(!0);vf(),jc.current=v,Ke=m,Ct!==null?o=0:(Bt=null,Gt=0,o=Ot)}if(o!==0){if(o===2&&(m=Dn(i),m!==0&&(d=m,o=tp(i,m))),o===1)throw u=Cl,ro(i,0),es(i,d),Pn(i,Ze()),u;if(o===6)es(i,d);else{if(m=i.current.alternate,(d&30)===0&&!XP(m)&&(o=Hc(i,d),o===2&&(v=Dn(i),v!==0&&(d=v,o=tp(i,v))),o===1))throw u=Cl,ro(i,0),es(i,d),Pn(i,Ze()),u;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:io(i,An,mi);break;case 3:if(es(i,d),(d&130023424)===d&&(o=Jf+500-Ze(),10<o)){if(zs(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){yn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=af(io.bind(null,i,An,mi),o);break}io(i,An,mi);break;case 4:if(es(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var x=31-pn(d);v=1<<x,x=o[x],x>m&&(m=x),d&=~v}if(d=m,d=Ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*QP(d/1960))-d,10<d){i.timeoutHandle=af(io.bind(null,i,An,mi),d);break}io(i,An,mi);break;case 5:io(i,An,mi);break;default:throw Error(t(329))}}}return Pn(i,Ze()),i.callbackNode===u?x0.bind(null,i):null}function tp(i,o){var u=bl;return i.current.memoizedState.isDehydrated&&(ro(i,o).flags|=256),i=Hc(i,o),i!==2&&(o=An,An=u,o!==null&&np(o)),i}function np(i){An===null?An=i:An.push.apply(An,i)}function XP(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!yr(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function es(i,o){for(o&=~Yf,o&=~Uc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-pn(o),d=1<<u;i[u]=-1,o&=~d}}function I0(i){if((Ke&6)!==0)throw Error(t(327));pa();var o=zs(i,0);if((o&1)===0)return Pn(i,Ze()),null;var u=Hc(i,o);if(i.tag!==0&&u===2){var d=Dn(i);d!==0&&(o=d,u=tp(i,d))}if(u===1)throw u=Cl,ro(i,0),es(i,o),Pn(i,Ze()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,io(i,An,mi),Pn(i,Ze()),null}function rp(i,o){var u=Ke;Ke|=1;try{return i(o)}finally{Ke=u,Ke===0&&(fa=Ze()+500,vc&&Ki())}}function no(i){Ji!==null&&Ji.tag===0&&(Ke&6)===0&&pa();var o=Ke;Ke|=1;var u=Yn.transition,d=$e;try{if(Yn.transition=null,$e=1,i)return i()}finally{$e=d,Yn.transition=u,Ke=o,(Ke&6)===0&&Ki()}}function ip(){jn=da.current,rt(da)}function ro(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,AP(u)),Ct!==null)for(u=Ct.return;u!==null;){var d=u;switch(ff(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&gc();break;case 3:ua(),rt(xn),rt(tn),Af();break;case 5:If(d);break;case 4:ua();break;case 13:rt(ct);break;case 19:rt(ct);break;case 10:_f(d.type._context);break;case 22:case 23:ip()}u=u.return}if(Bt=i,Ct=i=ts(i.current,null),Gt=jn=o,Ot=0,Cl=null,Yf=Uc=to=0,An=bl=null,Js!==null){for(o=0;o<Js.length;o++)if(u=Js[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var x=v.next;v.next=m,d.next=x}u.pending=d}Js=null}return i}function S0(i,o){do{var u=Ct;try{if(vf(),kc.current=Nc,Rc){for(var d=ht.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Rc=!1}if(eo=0,Ft=Lt=ht=null,Il=!1,Sl=0,Xf.current=null,u===null||u.return===null){Ot=1,Cl=o,Ct=null;break}e:{var v=i,x=u.return,P=u,V=o;if(o=Gt,P.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var H=V,ne=P,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=Xv(x);if(de!==null){de.flags&=-257,Yv(de,x,P,v,o),de.mode&1&&Qv(v,H,o),o=de,V=H;var ve=o.updateQueue;if(ve===null){var we=new Set;we.add(V),o.updateQueue=we}else ve.add(V);break e}else{if((o&1)===0){Qv(v,H,o),sp();break e}V=Error(t(426))}}else if(at&&P.mode&1){var At=Xv(x);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),Yv(At,x,P,v,o),gf(ca(V,P));break e}}v=V=ca(V,P),Ot!==4&&(Ot=2),bl===null?bl=[v]:bl.push(v),v=x;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var $=Kv(v,V,o);wv(v,$);break e;case 1:P=V;var M=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Yi===null||!Yi.has(W)))){v.flags|=65536,o&=-o,v.lanes|=o;var ae=Gv(v,P,o);wv(v,ae);break e}}v=v.return}while(v!==null)}k0(u)}catch(Te){o=Te,Ct===u&&u!==null&&(Ct=u=u.return);continue}break}while(!0)}function A0(){var i=jc.current;return jc.current=Nc,i===null?Nc:i}function sp(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Bt===null||(to&268435455)===0&&(Uc&268435455)===0||es(Bt,Gt)}function Hc(i,o){var u=Ke;Ke|=2;var d=A0();(Bt!==i||Gt!==o)&&(mi=null,ro(i,o));do try{YP();break}catch(m){S0(i,m)}while(!0);if(vf(),Ke=u,jc.current=d,Ct!==null)throw Error(t(261));return Bt=null,Gt=0,Ot}function YP(){for(;Ct!==null;)P0(Ct)}function JP(){for(;Ct!==null&&!zu();)P0(Ct)}function P0(i){var o=b0(i.alternate,i,jn);i.memoizedProps=i.pendingProps,o===null?k0(i):Ct=o,Xf.current=null}function k0(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=WP(u,o,jn),u!==null){Ct=u;return}}else{if(u=HP(u,o),u!==null){u.flags&=32767,Ct=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ot=6,Ct=null;return}}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=i}while(o!==null);Ot===0&&(Ot=5)}function io(i,o,u){var d=$e,m=Yn.transition;try{Yn.transition=null,$e=1,ZP(i,o,u,d)}finally{Yn.transition=m,$e=d}return null}function ZP(i,o,u,d){do pa();while(Ji!==null);if((Ke&6)!==0)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Je(i,v),i===Bt&&(Ct=Bt=null,Gt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Bc||(Bc=!0,N0(Wn,function(){return pa(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Yn.transition,Yn.transition=null;var x=$e;$e=1;var P=Ke;Ke|=4,Xf.current=null,KP(i,u),v0(u,i),_P(sf),Bi=!!rf,sf=rf=null,i.current=u,GP(u),Bd(),Ke=P,$e=x,Yn.transition=v}else i.current=u;if(Bc&&(Bc=!1,Ji=i,zc=m),v=i.pendingLanes,v===0&&(Yi=null),Hu(u.stateNode),Pn(i,Ze()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(Fc)throw Fc=!1,i=Zf,Zf=null,i;return(zc&1)!==0&&i.tag!==0&&pa(),v=i.pendingLanes,(v&1)!==0?i===ep?Nl++:(Nl=0,ep=i):Nl=0,Ki(),null}function pa(){if(Ji!==null){var i=Ui(zc),o=Yn.transition,u=$e;try{if(Yn.transition=null,$e=16>i?16:i,Ji===null)var d=!1;else{if(i=Ji,Ji=null,zc=0,(Ke&6)!==0)throw Error(t(331));var m=Ke;for(Ke|=4,ge=i.current;ge!==null;){var v=ge,x=v.child;if((ge.flags&16)!==0){var P=v.deletions;if(P!==null){for(var V=0;V<P.length;V++){var H=P[V];for(ge=H;ge!==null;){var ne=ge;switch(ne.tag){case 0:case 11:case 15:Rl(8,ne,v)}var re=ne.child;if(re!==null)re.return=ne,ge=re;else for(;ge!==null;){ne=ge;var te=ne.sibling,de=ne.return;if(f0(ne),ne===H){ge=null;break}if(te!==null){te.return=de,ge=te;break}ge=de}}}var ve=v.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var At=we.sibling;we.sibling=null,we=At}while(we!==null)}}ge=v}}if((v.subtreeFlags&2064)!==0&&x!==null)x.return=v,ge=x;else e:for(;ge!==null;){if(v=ge,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Rl(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,ge=$;break e}ge=v.return}}var M=i.current;for(ge=M;ge!==null;){x=ge;var W=x.child;if((x.subtreeFlags&2064)!==0&&W!==null)W.return=x,ge=W;else e:for(x=M;ge!==null;){if(P=ge,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Mc(9,P)}}catch(Te){gt(P,P.return,Te)}if(P===x){ge=null;break e}var ae=P.sibling;if(ae!==null){ae.return=P.return,ge=ae;break e}ge=P.return}}if(Ke=m,Ki(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Bs,i)}catch{}d=!0}return d}finally{$e=u,Yn.transition=o}}return!1}function R0(i,o,u){o=ca(u,o),o=Kv(i,o,1),i=Qi(i,o,1),o=yn(),i!==null&&(Mi(i,1,o),Pn(i,o))}function gt(i,o,u){if(i.tag===3)R0(i,i,u);else for(;o!==null;){if(o.tag===3){R0(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Yi===null||!Yi.has(d))){i=ca(u,i),i=Gv(o,i,1),o=Qi(o,i,1),i=yn(),o!==null&&(Mi(o,1,i),Pn(o,i));break}}o=o.return}}function ek(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=yn(),i.pingedLanes|=i.suspendedLanes&u,Bt===i&&(Gt&u)===u&&(Ot===4||Ot===3&&(Gt&130023424)===Gt&&500>Ze()-Jf?ro(i,0):Yf|=u),Pn(i,o)}function C0(i,o){o===0&&((i.mode&1)===0?o=1:(o=Mo,Mo<<=1,(Mo&130023424)===0&&(Mo=4194304)));var u=yn();i=di(i,o),i!==null&&(Mi(i,o,u),Pn(i,u))}function tk(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),C0(i,u)}function nk(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),C0(i,u)}var b0;b0=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||xn.current)Sn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return Sn=!1,$P(i,o,u);Sn=(i.flags&131072)!==0}else Sn=!1,at&&(o.flags&1048576)!==0&&cv(o,wc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Lc(i,o),i=o.pendingProps;var m=na(o,tn.current);la(o,u),m=Rf(null,o,d,i,m,u);var v=Cf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,In(d)?(v=!0,yc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ef(o),m.updater=Dc,o.stateNode=m,m._reactInternals=o,Of(o,d,i,u),o=Ff(null,o,d,!0,v,u)):(o.tag=0,at&&v&&df(o),gn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Lc(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=ik(d),i=_r(d,i),m){case 0:o=Uf(null,o,d,i,u);break e;case 1:o=r0(null,o,d,i,u);break e;case 11:o=Jv(null,o,d,i,u);break e;case 14:o=Zv(null,o,d,_r(d.type,i),u);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:_r(d,m),Uf(i,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:_r(d,m),r0(i,o,d,m,u);case 3:e:{if(i0(o),i===null)throw Error(t(387));d=o.pendingProps,v=o.memoizedState,m=v.element,_v(i,o),Ac(o,d,null,u);var x=o.memoizedState;if(d=x.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ca(Error(t(423)),o),o=s0(i,o,d,u,m);break e}else if(d!==m){m=ca(Error(t(424)),o),o=s0(i,o,d,u,m);break e}else for(Mn=Wi(o.stateNode.containerInfo.firstChild),On=o,at=!0,vr=null,u=yv(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(sa(),d===m){o=pi(i,o,u);break e}gn(i,o,d,u)}o=o.child}return o;case 5:return Ev(o),i===null&&mf(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,x=m.children,of(d,m)?x=null:v!==null&&of(d,v)&&(o.flags|=32),n0(i,o),gn(i,o,x,u),o.child;case 6:return i===null&&mf(o),null;case 13:return o0(i,o,u);case 4:return xf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=oa(o,null,d,u):gn(i,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:_r(d,m),Jv(i,o,d,m,u);case 7:return gn(i,o,o.pendingProps,u),o.child;case 8:return gn(i,o,o.pendingProps.children,u),o.child;case 12:return gn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,x=m.value,et(xc,d._currentValue),d._currentValue=x,v!==null)if(yr(v.value,x)){if(v.children===m.children&&!xn.current){o=pi(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var P=v.dependencies;if(P!==null){x=v.child;for(var V=P.firstContext;V!==null;){if(V.context===d){if(v.tag===1){V=fi(-1,u&-u),V.tag=2;var H=v.updateQueue;if(H!==null){H=H.shared;var ne=H.pending;ne===null?V.next=V:(V.next=ne.next,ne.next=V),H.pending=V}}v.lanes|=u,V=v.alternate,V!==null&&(V.lanes|=u),wf(v.return,u,o),P.lanes|=u;break}V=V.next}}else if(v.tag===10)x=v.type===o.type?null:v.child;else if(v.tag===18){if(x=v.return,x===null)throw Error(t(341));x.lanes|=u,P=x.alternate,P!==null&&(P.lanes|=u),wf(x,u,o),x=v.sibling}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===o){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}gn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,la(o,u),m=Qn(m),d=d(m),o.flags|=1,gn(i,o,d,u),o.child;case 14:return d=o.type,m=_r(d,o.pendingProps),m=_r(d.type,m),Zv(i,o,d,m,u);case 15:return e0(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:_r(d,m),Lc(i,o),o.tag=1,In(d)?(i=!0,yc(o)):i=!1,la(o,u),Hv(o,d,m),Of(o,d,m,u),Ff(null,o,d,!0,i,u);case 19:return l0(i,o,u);case 22:return t0(i,o,u)}throw Error(t(156,o.tag))};function N0(i,o){return Lo(i,o)}function rk(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(i,o,u,d){return new rk(i,o,u,d)}function op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ik(i){if(typeof i=="function")return op(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===Tt)return 14}return 2}function ts(i,o){var u=i.alternate;return u===null?(u=Jn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function qc(i,o,u,d,m,v){var x=2;if(d=i,typeof i=="function")op(i)&&(x=1);else if(typeof i=="string")x=5;else e:switch(i){case b:return so(u.children,m,v,o);case A:x=8,m|=8;break;case k:return i=Jn(12,u,o,m|2),i.elementType=k,i.lanes=v,i;case R:return i=Jn(13,u,o,m),i.elementType=R,i.lanes=v,i;case Ye:return i=Jn(19,u,o,m),i.elementType=Ye,i.lanes=v,i;case Ae:return Kc(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:x=10;break e;case O:x=9;break e;case B:x=11;break e;case Tt:x=14;break e;case st:x=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Jn(x,u,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function so(i,o,u,d){return i=Jn(7,i,d,o),i.lanes=u,i}function Kc(i,o,u,d){return i=Jn(22,i,d,o),i.elementType=Ae,i.lanes=u,i.stateNode={isHidden:!1},i}function ap(i,o,u){return i=Jn(6,i,null,o),i.lanes=u,i}function lp(i,o,u){return o=Jn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function sk(i,o,u,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function up(i,o,u,d,m,v,x,P,V){return i=new sk(i,o,u,P,V),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Jn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(v),i}function ok(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function D0(i){if(!i)return qi;i=i._reactInternals;e:{if(cr(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(In(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(In(u))return av(i,u,o)}return o}function V0(i,o,u,d,m,v,x,P,V){return i=up(u,d,!0,i,m,v,x,P,V),i.context=D0(null),u=i.current,d=yn(),m=Zi(u),v=fi(d,m),v.callback=o??null,Qi(u,v,m),i.current.lanes=m,Mi(i,m,d),Pn(i,d),i}function Gc(i,o,u,d){var m=o.current,v=yn(),x=Zi(m);return u=D0(u),o.context===null?o.context=u:o.pendingContext=u,o=fi(v,x),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Qi(m,o,x),i!==null&&(Er(i,m,x,v),Sc(i,m,x)),x}function Qc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function L0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function cp(i,o){L0(i,o),(i=i.alternate)&&L0(i,o)}function ak(){return null}var O0=typeof reportError=="function"?reportError:function(i){console.error(i)};function hp(i){this._internalRoot=i}Xc.prototype.render=hp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Gc(i,o,null,null)},Xc.prototype.unmount=hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;no(function(){Gc(null,i,null,null)}),o[li]=null}};function Xc(i){this._internalRoot=i}Xc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Xu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Dr.length&&o!==0&&o<Dr[u].priority;u++);Dr.splice(u,0,i),u===0&&Zu(i)}};function dp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Yc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function M0(){}function lk(i,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var H=Qc(x);v.call(H)}}var x=V0(o,d,i,0,null,!1,!1,"",M0);return i._reactRootContainer=x,i[li]=x.current,gl(i.nodeType===8?i.parentNode:i),no(),x}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var P=d;d=function(){var H=Qc(V);P.call(H)}}var V=up(i,0,!1,null,null,!1,!1,"",M0);return i._reactRootContainer=V,i[li]=V.current,gl(i.nodeType===8?i.parentNode:i),no(function(){Gc(o,V,u,d)}),V}function Jc(i,o,u,d,m){var v=u._reactRootContainer;if(v){var x=v;if(typeof m=="function"){var P=m;m=function(){var V=Qc(x);P.call(V)}}Gc(o,x,i,m)}else x=lk(u,o,i,m,d);return Qc(x)}Gu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Li(o.pendingLanes);u!==0&&(ji(o,u|1),Pn(o,Ze()),(Ke&6)===0&&(fa=Ze()+500,Ki()))}break;case 13:no(function(){var d=di(i,1);if(d!==null){var m=yn();Er(d,i,1,m)}}),cp(i,1)}},jo=function(i){if(i.tag===13){var o=di(i,134217728);if(o!==null){var u=yn();Er(o,i,134217728,u)}cp(i,134217728)}},Qu=function(i){if(i.tag===13){var o=Zi(i),u=di(i,o);if(u!==null){var d=yn();Er(u,i,o,d)}cp(i,o)}},Xu=function(){return $e},Yu=function(i,o){var u=$e;try{return $e=i,o()}finally{$e=u}},Ro=function(i,o,u){switch(o){case"input":if(ti(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var m=mc(d);if(!m)throw Error(t(90));rr(d),ti(d,m)}}}break;case"textarea":Ni(i,u);break;case"select":o=u.value,o!=null&&ar(i,!!u.multiple,o,!1)}},Os=rp,Ya=no;var uk={usingClientEntryPoint:!1,Events:[_l,ea,mc,br,Xa,rp]},Dl={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ck={bundleType:Dl.bundleType,version:Dl.version,rendererPackageName:Dl.rendererPackageName,rendererConfig:Dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=el(i),i===null?null:i.stateNode},findFiberByHostInstance:Dl.findFiberByHostInstance||ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Bs=Zc.inject(ck),Nn=Zc}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk,kn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dp(o))throw Error(t(200));return ok(i,o,null,u)},kn.createRoot=function(i,o){if(!dp(i))throw Error(t(299));var u=!1,d="",m=O0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=up(i,1,!1,null,null,u,!1,d,m),i[li]=o.current,gl(i.nodeType===8?i.parentNode:i),new hp(o)},kn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=el(o),i=i===null?null:i.stateNode,i},kn.flushSync=function(i){return no(i)},kn.hydrate=function(i,o,u){if(!Yc(o))throw Error(t(200));return Jc(null,i,o,!0,u)},kn.hydrateRoot=function(i,o,u){if(!dp(i))throw Error(t(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",x=O0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(x=u.onRecoverableError)),o=V0(o,null,i,1,u??null,m,!1,v,x),i[li]=o.current,gl(i),d)for(i=0;i<d.length;i++)u=d[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Xc(o)},kn.render=function(i,o,u){if(!Yc(o))throw Error(t(200));return Jc(null,i,o,!1,u)},kn.unmountComponentAtNode=function(i){if(!Yc(i))throw Error(t(40));return i._reactRootContainer?(no(function(){Jc(null,null,i,!1,function(){i._reactRootContainer=null,i[li]=null})}),!0):!1},kn.unstable_batchedUpdates=rp,kn.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!Yc(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Jc(i,o,u,!1,d)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var s_;function EE(){if(s_)return yp.exports;s_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yp.exports=zk(),yp.exports}var o_;function $k(){if(o_)return th;o_=1;var n=EE();return th.createRoot=n.createRoot,th.hydrateRoot=n.hydrateRoot,th}var Wk=$k();const Hk=TE(Wk);EE();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},nu.apply(this,arguments)}var ds;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ds||(ds={}));const a_="popstate";function qk(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:l,hash:h}=r.location;return Qp("",{pathname:a,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Rh(s)}return Gk(e,t,null,n)}function Dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xE(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kk(){return Math.random().toString(36).substr(2,8)}function l_(n,e){return{usr:n.state,key:n.key,idx:e}}function Qp(n,e,t,r){return t===void 0&&(t=null),nu({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ba(e):e,{state:t,key:e&&e.key||r||Kk()})}function Rh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ba(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Gk(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,h=ds.Pop,f=null,p=g();p==null&&(p=0,l.replaceState(nu({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function _(){h=ds.Pop;let C=g(),j=C==null?null:C-p;p=C,f&&f({action:h,location:L.location,delta:j})}function E(C,j){h=ds.Push;let G=Qp(L.location,C,j);p=g()+1;let q=l_(G,p),Z=L.createHref(G);try{l.pushState(q,"",Z)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;s.location.assign(Z)}a&&f&&f({action:h,location:L.location,delta:1})}function I(C,j){h=ds.Replace;let G=Qp(L.location,C,j);p=g();let q=l_(G,p),Z=L.createHref(G);l.replaceState(q,"",Z),a&&f&&f({action:h,location:L.location,delta:0})}function N(C){let j=s.location.origin!=="null"?s.location.origin:s.location.href,G=typeof C=="string"?C:Rh(C);return G=G.replace(/ $/,"%20"),Dt(j,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,j)}let L={get action(){return h},get location(){return n(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(a_,_),f=C,()=>{s.removeEventListener(a_,_),f=null}},createHref(C){return e(s,C)},createURL:N,encodeLocation(C){let j=N(C);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:I,go(C){return l.go(C)}};return L}var u_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(u_||(u_={}));function Qk(n,e,t){return t===void 0&&(t="/"),Xk(n,e,t)}function Xk(n,e,t,r){let s=typeof e=="string"?Ba(e):e,a=Km(s.pathname||"/",t);if(a==null)return null;let l=IE(n);Yk(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=u1(a);h=o1(l[f],p)}return h}function IE(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(Dt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=ms([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(Dt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),IE(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:i1(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,l);else for(let f of SE(a.path))s(a,l,f)}),e}function SE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=SE(r.join("/")),h=[];return h.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...l),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function Yk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:s1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Jk=/^:[\w-]+$/,Zk=3,e1=2,t1=1,n1=10,r1=-2,c_=n=>n==="*";function i1(n,e){let t=n.split("/"),r=t.length;return t.some(c_)&&(r+=r1),e&&(r+=e1),t.filter(s=>!c_(s)).reduce((s,a)=>s+(Jk.test(a)?Zk:a===""?t1:n1),r)}function s1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function o1(n,e,t){let{routesMeta:r}=n,s={},a="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=a1({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:ms([a,_.pathname]),pathnameBase:f1(ms([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=ms([a,_.pathnameBase]))}return l}function a1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=l1(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,g,_)=>{let{paramName:E,isOptional:I}=g;if(E==="*"){let L=h[_]||"";l=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const N=h[_];return I&&!N?p[E]=void 0:p[E]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function l1(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),xE(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function u1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xE(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Km(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function c1(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ba(n):n;return{pathname:t?t.startsWith("/")?t:h1(t,e):e,search:p1(r),hash:m1(s)}}function h1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function wp(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function AE(n,e){let t=d1(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function PE(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=Ba(n):(s=nu({},n),Dt(!s.pathname||!s.pathname.includes("?"),wp("?","pathname","search",s)),Dt(!s.pathname||!s.pathname.includes("#"),wp("#","pathname","hash",s)),Dt(!s.search||!s.search.includes("#"),wp("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,h;if(l==null)h=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=c1(s,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const ms=n=>n.join("/").replace(/\/\/+/g,"/"),f1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),p1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,m1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function g1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const kE=["post","put","patch","delete"];new Set(kE);const y1=["get",...kE];new Set(y1);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ru(){return ru=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ru.apply(this,arguments)}const Gm=F.createContext(null),v1=F.createContext(null),Eo=F.createContext(null),sd=F.createContext(null),xo=F.createContext({outlet:null,matches:[],isDataRoute:!1}),RE=F.createContext(null);function _1(n,e){let{relative:t}=e===void 0?{}:e;Iu()||Dt(!1);let{basename:r,navigator:s}=F.useContext(Eo),{hash:a,pathname:l,search:h}=bE(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:ms([r,l])),s.createHref({pathname:f,search:h,hash:a})}function Iu(){return F.useContext(sd)!=null}function od(){return Iu()||Dt(!1),F.useContext(sd).location}function CE(n){F.useContext(Eo).static||F.useLayoutEffect(n)}function ad(){let{isDataRoute:n}=F.useContext(xo);return n?N1():w1()}function w1(){Iu()||Dt(!1);let n=F.useContext(Gm),{basename:e,future:t,navigator:r}=F.useContext(Eo),{matches:s}=F.useContext(xo),{pathname:a}=od(),l=JSON.stringify(AE(s,t.v7_relativeSplatPath)),h=F.useRef(!1);return CE(()=>{h.current=!0}),F.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let _=PE(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ms([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,l,a,n])}function bE(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=F.useContext(Eo),{matches:s}=F.useContext(xo),{pathname:a}=od(),l=JSON.stringify(AE(s,r.v7_relativeSplatPath));return F.useMemo(()=>PE(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function T1(n,e){return E1(n,e)}function E1(n,e,t,r){Iu()||Dt(!1);let{navigator:s,static:a}=F.useContext(Eo),{matches:l}=F.useContext(xo),h=l[l.length-1],f=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let g=od(),_;if(e){var E;let j=typeof e=="string"?Ba(e):e;p==="/"||(E=j.pathname)!=null&&E.startsWith(p)||Dt(!1),_=j}else _=g;let I=_.pathname||"/",N=I;if(p!=="/"){let j=p.replace(/^\//,"").split("/");N="/"+I.replace(/^\//,"").split("/").slice(j.length).join("/")}let L=Qk(n,{pathname:N}),C=P1(L&&L.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:ms([p,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:ms([p,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,t,r);return e&&C?F.createElement(sd.Provider,{value:{location:ru({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:ds.Pop}},C):C}function x1(){let n=b1(),e=g1(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:s},t):null,null)}const I1=F.createElement(x1,null);class S1 extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(xo.Provider,{value:this.props.routeContext},F.createElement(RE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A1(n){let{routeContext:e,match:t,children:r}=n,s=F.useContext(Gm);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(xo.Provider,{value:e},r)}function P1(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,h=(s=t)==null?void 0:s.errors;if(h!=null){let g=l.findIndex(_=>_.route.id&&(h==null?void 0:h[_.route.id])!==void 0);g>=0||Dt(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:E,errors:I}=t,N=_.route.loader&&E[_.route.id]===void 0&&(!I||I[_.route.id]===void 0);if(_.route.lazy||N){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,E)=>{let I,N=!1,L=null,C=null;t&&(I=h&&_.route.id?h[_.route.id]:void 0,L=_.route.errorElement||I1,f&&(p<0&&E===0?(D1("route-fallback"),N=!0,C=null):p===E&&(N=!0,C=_.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,E+1)),G=()=>{let q;return I?q=L:N?q=C:_.route.Component?q=F.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=g,F.createElement(A1,{match:_,routeContext:{outlet:g,matches:j,isDataRoute:t!=null},children:q})};return t&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?F.createElement(S1,{location:t.location,revalidation:t.revalidation,component:L,error:I,children:G(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):G()},null)}var NE=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(NE||{}),DE=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(DE||{});function k1(n){let e=F.useContext(Gm);return e||Dt(!1),e}function R1(n){let e=F.useContext(v1);return e||Dt(!1),e}function C1(n){let e=F.useContext(xo);return e||Dt(!1),e}function VE(n){let e=C1(),t=e.matches[e.matches.length-1];return t.route.id||Dt(!1),t.route.id}function b1(){var n;let e=F.useContext(RE),t=R1(),r=VE();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function N1(){let{router:n}=k1(NE.UseNavigateStable),e=VE(DE.UseNavigateStable),t=F.useRef(!1);return CE(()=>{t.current=!0}),F.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,ru({fromRouteId:e},a)))},[n,e])}const h_={};function D1(n,e,t){h_[n]||(h_[n]=!0)}function V1(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function ma(n){Dt(!1)}function L1(n){let{basename:e="/",children:t=null,location:r,navigationType:s=ds.Pop,navigator:a,static:l=!1,future:h}=n;Iu()&&Dt(!1);let f=e.replace(/^\/*/,"/"),p=F.useMemo(()=>({basename:f,navigator:a,static:l,future:ru({v7_relativeSplatPath:!1},h)}),[f,h,a,l]);typeof r=="string"&&(r=Ba(r));let{pathname:g="/",search:_="",hash:E="",state:I=null,key:N="default"}=r,L=F.useMemo(()=>{let C=Km(g,f);return C==null?null:{location:{pathname:C,search:_,hash:E,state:I,key:N},navigationType:s}},[f,g,_,E,I,N,s]);return L==null?null:F.createElement(Eo.Provider,{value:p},F.createElement(sd.Provider,{children:t,value:L}))}function O1(n){let{children:e,location:t}=n;return T1(Xp(e),t)}new Promise(()=>{});function Xp(n,e){e===void 0&&(e=[]);let t=[];return F.Children.forEach(n,(r,s)=>{if(!F.isValidElement(r))return;let a=[...e,s];if(r.type===F.Fragment){t.push.apply(t,Xp(r.props.children,a));return}r.type!==ma&&Dt(!1),!r.props.index||!r.props.children||Dt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Xp(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yp.apply(this,arguments)}function M1(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function j1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function U1(n,e){return n.button===0&&(!e||e==="_self")&&!j1(n)}const F1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],B1="6";try{window.__reactRouterVersion=B1}catch{}const z1="startTransition",d_=Uk[z1];function $1(n){let{basename:e,children:t,future:r,window:s}=n,a=F.useRef();a.current==null&&(a.current=qk({window:s,v5Compat:!0}));let l=a.current,[h,f]=F.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},g=F.useCallback(_=>{p&&d_?d_(()=>f(_)):f(_)},[f,p]);return F.useLayoutEffect(()=>l.listen(g),[l,g]),F.useEffect(()=>V1(r),[r]),F.createElement(L1,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:l,future:r})}const W1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q1=F.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:h,target:f,to:p,preventScrollReset:g,viewTransition:_}=e,E=M1(e,F1),{basename:I}=F.useContext(Eo),N,L=!1;if(typeof p=="string"&&H1.test(p)&&(N=p,W1))try{let q=new URL(window.location.href),Z=p.startsWith("//")?new URL(q.protocol+p):new URL(p),ee=Km(Z.pathname,I);Z.origin===q.origin&&ee!=null?p=ee+Z.search+Z.hash:L=!0}catch{}let C=_1(p,{relative:s}),j=K1(p,{replace:l,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:_});function G(q){r&&r(q),q.defaultPrevented||j(q)}return F.createElement("a",Yp({},E,{href:N||C,onClick:L||a?r:G,ref:t,target:f}))});var f_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(f_||(f_={}));var p_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(p_||(p_={}));function K1(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:h}=e===void 0?{}:e,f=ad(),p=od(),g=bE(n,{relative:l});return F.useCallback(_=>{if(U1(_,t)){_.preventDefault();let E=r!==void 0?r:Rh(p)===Rh(g);f(n,{replace:E,state:s,preventScrollReset:a,relative:l,viewTransition:h})}},[p,f,g,r,s,t,n,a,l,h])}const G1=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Q1=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,h=l?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,I=p&63;f||(I=64,l||(E=64)),r.push(t[g],t[_],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(LE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Q1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new X1;const E=a<<2|h>>4;if(r.push(E),p!==64){const I=h<<4&240|p>>2;if(r.push(I),_!==64){const N=p<<6&192|_;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class X1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y1=function(n){const e=LE(n);return OE.encodeByteArray(e,!0)},Ch=function(n){return Y1(n).replace(/\./g,"")},ME=function(n){try{return OE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=()=>J1().__FIREBASE_DEFAULTS__,eR=()=>{if(typeof process>"u"||typeof m_>"u")return;const n=m_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ME(n[1]);return e&&JSON.parse(e)},ld=()=>{try{return G1()||Z1()||eR()||tR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jE=n=>{var e,t;return(t=(e=ld())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},UE=n=>{const e=jE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},FE=()=>{var n;return(n=ld())===null||n===void 0?void 0:n.config},BE=n=>{var e;return(e=ld())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ch(JSON.stringify(t)),Ch(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function iR(){var n;const e=(n=ld())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lR(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uR(){return!iR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cR(){try{return typeof indexedDB=="object"}catch{return!1}}function hR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="FirebaseError";class Zr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=dR,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?fR(a,r):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new Zr(s,h,r)}}function fR(n,e){return n.replace(pR,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const pR=/\{\$([^}]+)}/g;function mR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(g_(a)&&g_(l)){if(!mo(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function g_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ml(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function jl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gR(n,e){const t=new yR(n,e);return t.subscribe.bind(t)}class yR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");vR(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Tp),s.error===void 0&&(s.error=Tp),s.complete===void 0&&(s.complete=Tp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Tp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(n){return n&&n._delegate?n._delegate:n}class ws{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new nR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TR(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wR(n){return n===ao?void 0:n}function TR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _R(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const xR={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},IR=Be.INFO,SR={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},AR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=SR[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=IR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const PR=(n,e)=>e.some(t=>n instanceof t);let y_,v_;function kR(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RR(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $E=new WeakMap,Jp=new WeakMap,WE=new WeakMap,Ep=new WeakMap,Xm=new WeakMap;function CR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(gs(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&$E.set(t,n)}).catch(()=>{}),Xm.set(e,n),e}function bR(n){if(Jp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Jp.set(n,e)}let Zp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NR(n){Zp=n(Zp)}function DR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(xp(this),e,...t);return WE.set(r,e.sort?e.sort():[e]),gs(r)}:RR().includes(n)?function(...e){return n.apply(xp(this),e),gs($E.get(this))}:function(...e){return gs(n.apply(xp(this),e))}}function VR(n){return typeof n=="function"?DR(n):(n instanceof IDBTransaction&&bR(n),PR(n,kR())?new Proxy(n,Zp):n)}function gs(n){if(n instanceof IDBRequest)return CR(n);if(Ep.has(n))return Ep.get(n);const e=VR(n);return e!==n&&(Ep.set(n,e),Xm.set(e,n)),e}const xp=n=>Xm.get(n);function LR(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),h=gs(l);return r&&l.addEventListener("upgradeneeded",f=>{r(gs(l.result),f.oldVersion,f.newVersion,gs(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const OR=["get","getKey","getAll","getAllKeys","count"],MR=["put","add","delete","clear"],Ip=new Map;function __(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ip.get(e))return Ip.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=MR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||OR.includes(t)))return;const a=async function(l,...h){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return Ip.set(e,a),a}NR(n=>({...n,get:(e,t,r)=>__(e,t)||n.get(e,t,r),has:(e,t)=>!!__(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function UR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const em="@firebase/app",w_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Qm("@firebase/app"),FR="@firebase/app-compat",BR="@firebase/analytics-compat",zR="@firebase/analytics",$R="@firebase/app-check-compat",WR="@firebase/app-check",HR="@firebase/auth",qR="@firebase/auth-compat",KR="@firebase/database",GR="@firebase/data-connect",QR="@firebase/database-compat",XR="@firebase/functions",YR="@firebase/functions-compat",JR="@firebase/installations",ZR="@firebase/installations-compat",eC="@firebase/messaging",tC="@firebase/messaging-compat",nC="@firebase/performance",rC="@firebase/performance-compat",iC="@firebase/remote-config",sC="@firebase/remote-config-compat",oC="@firebase/storage",aC="@firebase/storage-compat",lC="@firebase/firestore",uC="@firebase/vertexai",cC="@firebase/firestore-compat",hC="firebase",dC="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]",fC={[em]:"fire-core",[FR]:"fire-core-compat",[zR]:"fire-analytics",[BR]:"fire-analytics-compat",[WR]:"fire-app-check",[$R]:"fire-app-check-compat",[HR]:"fire-auth",[qR]:"fire-auth-compat",[KR]:"fire-rtdb",[GR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[XR]:"fire-fn",[YR]:"fire-fn-compat",[JR]:"fire-iid",[ZR]:"fire-iid-compat",[eC]:"fire-fcm",[tC]:"fire-fcm-compat",[nC]:"fire-perf",[rC]:"fire-perf-compat",[iC]:"fire-rc",[sC]:"fire-rc-compat",[oC]:"fire-gcs",[aC]:"fire-gcs-compat",[lC]:"fire-fst",[cC]:"fire-fst-compat",[uC]:"fire-vertex","fire-js":"fire-js",[hC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,pC=new Map,nm=new Map;function T_(n,e){try{n.container.addComponent(e)}catch(t){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function go(n){const e=n.name;if(nm.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,n);for(const t of bh.values())T_(t,n);for(const t of pC.values())T_(t,n);return!0}function ud(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Un(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Su("app","Firebase",mC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=dC;function HE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ys.create("bad-app-name",{appName:String(s)});if(t||(t=FE()),!t)throw ys.create("no-options");const a=bh.get(s);if(a){if(mo(t,a.options)&&mo(r,a.config))return a;throw ys.create("duplicate-app",{appName:s})}const l=new ER(s);for(const f of nm.values())l.addComponent(f);const h=new gC(t,r,l);return bh.set(s,h),h}function Ym(n=tm){const e=bh.get(n);if(!e&&n===tm&&FE())return HE();if(!e)throw ys.create("no-app",{appName:n});return e}function $r(n,e,t){var r;let s=(r=fC[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(h.join(" "));return}go(new ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebase-heartbeat-database",vC=1,iu="firebase-heartbeat-store";let Sp=null;function qE(){return Sp||(Sp=LR(yC,vC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(iu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ys.create("idb-open",{originalErrorMessage:n.message})})),Sp}async function _C(n){try{const t=(await qE()).transaction(iu),r=await t.objectStore(iu).get(KE(n));return await t.done,r}catch(e){if(e instanceof Zr)Ii.warn(e.message);else{const t=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(t.message)}}}async function E_(n,e){try{const r=(await qE()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,KE(n)),await r.done}catch(t){if(t instanceof Zr)Ii.warn(t.message);else{const r=ys.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(r.message)}}}function KE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1024,TC=30;class EC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=x_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>TC){const l=SC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=x_(),{heartbeatsToSend:r,unsentEntries:s}=xC(this._heartbeatsCache.heartbeats),a=Ch(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ii.warn(t),""}}}function x_(){return new Date().toISOString().substring(0,10)}function xC(n,e=wC){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),I_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),I_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class IC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cR()?hR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _C(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return E_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return E_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function I_(n){return Ch(JSON.stringify({version:2,heartbeats:n})).length}function SC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){go(new ws("platform-logger",e=>new jR(e),"PRIVATE")),go(new ws("heartbeat",e=>new EC(e),"PRIVATE")),$r(em,w_,n),$r(em,w_,"esm2017"),$r("fire-js","")}AC("");var PC="firebase",kC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(PC,kC,"app");function Jm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RC=GE,QE=new Su("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Qm("@firebase/auth");function CC(n,...e){Nh.logLevel<=Be.WARN&&Nh.warn(`Auth (${Io}): ${n}`,...e)}function mh(n,...e){Nh.logLevel<=Be.ERROR&&Nh.error(`Auth (${Io}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n,...e){throw Zm(n,...e)}function Wr(n,...e){return Zm(n,...e)}function XE(n,e,t){const r=Object.assign(Object.assign({},RC()),{[e]:t});return new Su("auth","Firebase",r).create(e,{appName:n.name})}function Ei(n){return XE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return QE.create(n,...e)}function Pe(n,e,...t){if(!n)throw Zm(e,...t)}function _i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mh(e),new Error(e)}function Si(n,e){n||_i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function bC(){return S_()==="http:"||S_()==="https:"}function S_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bC()||oR()||"connection"in navigator)?navigator.onLine:!0}function DC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Si(t>e,"Short delay should be less than long delay!"),this.isMobile=rR()||aR()}get(){return NC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(n,e){Si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OC=new Pu(3e4,6e4);function Rs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Cs(n,e,t,r,s={}){return JE(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Au(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return sR()||(p.referrerPolicy="no-referrer"),YE.fetch()(await ZE(n,n.config.apiHost,t,h),p)})}async function JE(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},VC),e);try{const s=new jC(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw nh(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw nh(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw nh(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw XE(n,g,p);Ar(n,g)}}catch(s){if(s instanceof Zr)throw s;Ar(n,"network-request-failed",{message:String(s)})}}async function ku(n,e,t,r,s={}){const a=await Cs(n,e,t,r,s);return"mfaPendingCredential"in a&&Ar(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function ZE(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?eg(n.config,s):`${n.config.apiScheme}://${s}`;return LC.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function MC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),OC.get())})}}function nh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Wr(n,e,r);return s.customData._tokenResponse=t,s}function A_(n){return n!==void 0&&n.enterprise!==void 0}class UC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return MC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FC(n,e){return Cs(n,"GET","/v2/recaptchaConfig",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(n,e){return Cs(n,"POST","/v1/accounts:delete",e)}async function Dh(n,e){return Cs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zC(n,e=!1){const t=ft(n),r=await t.getIdToken(e),s=tg(r);Pe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Hl(Ap(s.auth_time)),issuedAtTime:Hl(Ap(s.iat)),expirationTime:Hl(Ap(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ap(n){return Number(n)*1e3}function tg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const s=ME(t);return s?JSON.parse(s):(mh("Failed to decode base64 JWT payload"),null)}catch(s){return mh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function P_(n){const e=tg(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Zr&&$C(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function $C({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await su(n,Dh(t,{idToken:r}));Pe(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ex(a.providerUserInfo):[],h=qC(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new im(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function HC(n){const e=ft(n);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qC(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ex(n){return n.map(e=>{var{providerId:t}=e,r=Jm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(n,e){const t=await JE(n,{},async()=>{const r=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await ZE(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",YE.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GC(n,e){return Cs(n,"POST","/v2/accounts:revokeToken",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=P_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await KC(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new Pa;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Pe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Pe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Sr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new im(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await su(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zC(this,e)}reload(){return HC(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await su(this,BC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,l,h,f,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,N=(l=t.photoURL)!==null&&l!==void 0?l:void 0,L=(h=t.tenantId)!==null&&h!==void 0?h:void 0,C=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,j=(p=t.createdAt)!==null&&p!==void 0?p:void 0,G=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:q,emailVerified:Z,isAnonymous:ee,providerData:se,stsTokenManager:b}=t;Pe(q&&b,e,"internal-error");const A=Pa.fromJSON(this.name,b);Pe(typeof q=="string",e,"internal-error"),is(_,e.name),is(E,e.name),Pe(typeof Z=="boolean",e,"internal-error"),Pe(typeof ee=="boolean",e,"internal-error"),is(I,e.name),is(N,e.name),is(L,e.name),is(C,e.name),is(j,e.name),is(G,e.name);const k=new Sr({uid:q,auth:e,email:E,emailVerified:Z,displayName:_,isAnonymous:ee,photoURL:N,phoneNumber:I,tenantId:L,stsTokenManager:A,createdAt:j,lastLoginAt:G});return se&&Array.isArray(se)&&(k.providerData=se.map(D=>Object.assign({},D))),C&&(k._redirectEventId=C),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new Pa;s.updateFromServerResponse(t);const a=new Sr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Vh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Pe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?ex(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new Pa;h.updateFromIdToken(r);const f=new Sr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new im(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function wi(n){Si(n instanceof Function,"Expected a class definition");let e=k_.get(n);return e?(Si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,k_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tx.type="NONE";const R_=tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(n,e,t){return`firebase:${n}:${e}:${t}`}class ka{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=gh(this.userKey,s.apiKey,a),this.fullPersistenceKey=gh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Dh(this.auth,{idToken:e}).catch(()=>{});return t?Sr._fromGetAccountInfoResponse(this.auth,t,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ka(wi(R_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||wi(R_);const l=gh(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const g=await p._get(l);if(g){let _;if(typeof g=="string"){const E=await Dh(e,{idToken:g}).catch(()=>{});if(!E)break;_=await Sr._fromGetAccountInfoResponse(e,E,g)}else _=Sr._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ka(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ka(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ax(e))return"Blackberry";if(lx(e))return"Webos";if(rx(e))return"Safari";if((e.includes("chrome/")||ix(e))&&!e.includes("edge/"))return"Chrome";if(ox(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nx(n=dn()){return/firefox\//i.test(n)}function rx(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ix(n=dn()){return/crios\//i.test(n)}function sx(n=dn()){return/iemobile/i.test(n)}function ox(n=dn()){return/android/i.test(n)}function ax(n=dn()){return/blackberry/i.test(n)}function lx(n=dn()){return/webos/i.test(n)}function ng(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QC(n=dn()){var e;return ng(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XC(){return lR()&&document.documentMode===10}function ux(n=dn()){return ng(n)||ox(n)||lx(n)||ax(n)||/windows phone/i.test(n)||sx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n,e=[]){let t;switch(n){case"Browser":t=C_(dn());break;case"Worker":t=`${C_(dn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(n,e={}){return Cs(n,"GET","/v2/passwordPolicy",Rs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=6;class eb{constructor(e){var t,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:ZC,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,l,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new YC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wi(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Dh(this,{idToken:e}),r=await Sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Un(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Ei(this));const t=e?ft(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JC(this),t=new eb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await GC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wi(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&CC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function So(n){return ft(n)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=gR(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nb(n){cd=n}function hx(n){return cd.loadJS(n)}function rb(){return cd.recaptchaEnterpriseScript}function ib(){return cd.gapiScript}function sb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ob{constructor(){this.enterprise=new ab}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ab{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lb="recaptcha-enterprise",dx="NO_RECAPTCHA";class ub{constructor(e){this.type=lb,this.auth=So(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{FC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new UC(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,l,h){const f=window.grecaptcha;A_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(dx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ob().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!t&&A_(window.grecaptcha))s(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=rb();f.length!==0&&(f+=h),hx(f).then(()=>{s(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function N_(n,e,t,r=!1,s=!1){const a=new ub(n);let l;if(s)l=dx;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function sm(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await N_(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await N_(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n,e){const t=ud(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(mo(a,e??{}))return s;Ar(s,"already-initialized")}return t.initialize({options:e})}function hb(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(wi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function db(n,e,t){const r=So(n);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=fx(e),{host:l,port:h}=fb(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(mo(p,r.config.emulator)&&mo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,pb()}function fx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fb(n){const e=fx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:D_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:D_(l)}}}function D_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pb(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,t){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function mb(n,e){return Cs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(n,e){return ku(n,"POST","/v1/accounts:signInWithPassword",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(n,e){return ku(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}async function vb(n,e){return ku(n,"POST","/v1/accounts:signInWithEmailLink",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends rg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ou(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ou(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,t,"signInWithPassword",gb);case"emailLink":return yb(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,r,"signUpPassword",mb);case"emailLink":return vb(e,{idToken:t,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(n,e){return ku(n,"POST","/v1/accounts:signInWithIdp",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="http://localhost";class yo extends rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Jm(t,["providerId","signInMethod"]);if(!r||!s)return null;const l=new yo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ra(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ra(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ra(e,t)}buildRequest(){const e={requestUri:_b,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tb(n){const e=Ml(jl(n)).link,t=e?Ml(jl(e)).deep_link_id:null,r=Ml(jl(n)).deep_link_id;return(r?Ml(jl(r)).link:null)||r||t||e||n}class ig{constructor(e){var t,r,s,a,l,h;const f=Ml(jl(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=wb((s=f.mode)!==null&&s!==void 0?s:null);Pe(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=Tb(e);try{return new ig(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.providerId=za.PROVIDER_ID}static credential(e,t){return ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ig.parseLink(t);return Pe(r,"argument-error"),ou._fromEmailAndCode(e,r.code,r.tenantId)}}za.PROVIDER_ID="password";za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends px{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Ru{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yo._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return as.credential(t,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Ru{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Ru{constructor(){super("twitter.com")}static credential(e,t){return yo._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return us.credential(t,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(n,e){return ku(n,"POST","/v1/accounts:signUp",Rs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Sr._fromIdTokenResponse(e,r,s),l=V_(r);return new vo({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=V_(r);return new vo({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function V_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Zr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Lh(e,t,r,s)}}function mx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(n,a,e,r):a})}async function xb(n,e,t=!1){const r=await su(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return vo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(n,e,t=!1){const{auth:r}=n;if(Un(r.app))return Promise.reject(Ei(r));const s="reauthenticate";try{const a=await su(n,mx(r,s,e,n),t);Pe(a.idToken,r,"internal-error");const l=tg(a.idToken);Pe(l,r,"internal-error");const{sub:h}=l;return Pe(n.uid===h,r,"user-mismatch"),vo._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(n,e,t=!1){if(Un(n.app))return Promise.reject(Ei(n));const r="signIn",s=await mx(n,r,e),a=await vo._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function Sb(n,e){return gx(So(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(n){const e=So(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ab(n,e,t){if(Un(n.app))return Promise.reject(Ei(n));const r=So(n),l=await sm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Eb).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&yx(n),f}),h=await vo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(h.user),h}function Pb(n,e,t){return Un(n.app)?Promise.reject(Ei(n)):Sb(ft(n),za.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yx(n),r})}function kb(n,e,t,r){return ft(n).onIdTokenChanged(e,t,r)}function Rb(n,e,t){return ft(n).beforeAuthStateChanged(e,t)}function vx(n,e,t,r){return ft(n).onAuthStateChanged(e,t,r)}function _x(n){return ft(n).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=1e3,bb=10;class Tx extends wx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ux(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);XC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bb):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Cb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tx.type="LOCAL";const Nb=Tx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex extends wx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ex.type="SESSION";const xx=Ex;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(l).map(async p=>p(t.origin,a)),f=await Db(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=sg("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function Lb(n){Hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function Ob(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mb(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jb(){return Ix()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firebaseLocalStorageDb",Ub=1,Mh="firebaseLocalStorage",Ax="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dd(n,e){return n.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function Fb(){const n=indexedDB.deleteDatabase(Sx);return new Cu(n).toPromise()}function om(){const n=indexedDB.open(Sx,Ub);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Mh,{keyPath:Ax})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await Fb(),e(await om()))})})}async function L_(n,e,t){const r=dd(n,!0).put({[Ax]:e,value:t});return new Cu(r).toPromise()}async function Bb(n,e){const t=dd(n,!1).get(e),r=await new Cu(t).toPromise();return r===void 0?null:r.value}function O_(n,e){const t=dd(n,!0).delete(e);return new Cu(t).toPromise()}const zb=800,$b=3;class Px{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>$b)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ix()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(jb()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Ob(),!this.activeServiceWorker)return;this.sender=new Vb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Mb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await L_(e,Oh,"1"),await O_(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>L_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Bb(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>O_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=dd(s,!1).getAll();return new Cu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Px.type="LOCAL";const Wb=Px;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(n,e){return e?wi(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qb(n){return gx(n.auth,new og(n),n.bypassAuthState)}function Kb(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),Ib(t,new og(n),n.bypassAuthState)}async function Gb(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),xb(t,new og(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qb;case"linkViaPopup":case"linkViaRedirect":return Gb;case"reauthViaPopup":case"reauthViaRedirect":return Kb;default:Ar(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Pu(2e3,1e4);class wa extends kx{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Qb.get())};e()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="pendingRedirect",yh=new Map;class Yb extends kx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const r=await Jb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jb(n,e){const t=tN(e),r=eN(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Zb(n,e){yh.set(n._key(),e)}function eN(n){return wi(n._redirectPersistence)}function tN(n){return gh(Xb,n.config.apiKey,n.name)}async function nN(n,e,t=!1){if(Un(n.app))return Promise.reject(Ei(n));const r=So(n),s=Hb(r,e),l=await new Yb(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=10*60*1e3;class iN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Rx(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Wr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rN&&this.cachedEventUids.clear(),this.cachedEventUids.has(M_(e))}saveEventToCache(e){this.cachedEventUids.add(M_(e)),this.lastProcessedEventTime=Date.now()}}function M_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Rx({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(n,e={}){return Cs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lN=/^https?/;async function uN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await oN(n);for(const t of e)try{if(cN(t))return}catch{}Ar(n,"unauthorized-domain")}function cN(n){const e=rm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!lN.test(t))return!1;if(aN.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new Pu(3e4,6e4);function j_(){const n=Hr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function dN(n){return new Promise((e,t)=>{var r,s,a;function l(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),t(Wr(n,"network-request-failed"))},timeout:hN.get()})}if(!((s=(r=Hr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Hr().gapi)===null||a===void 0)&&a.load)l();else{const h=sb("iframefcb");return Hr()[h]=()=>{gapi.load?l():t(Wr(n,"network-request-failed"))},hx(`${ib()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw vh=null,e})}let vh=null;function fN(n){return vh=vh||dN(n),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Pu(5e3,15e3),mN="__/auth/iframe",gN="emulator/auth/iframe",yN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _N(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?eg(e,gN):`https://${n.config.authDomain}/${mN}`,r={apiKey:e.apiKey,appName:n.name,v:Io},s=vN.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Au(r).slice(1)}`}async function wN(n){const e=await fN(n),t=Hr().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:_N(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yN,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Wr(n,"network-request-failed"),h=Hr().setTimeout(()=>{a(l)},pN.get());function f(){Hr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EN=500,xN=600,IN="_blank",SN="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AN(n,e,t,r=EN,s=xN){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},TN),{width:r.toString(),height:s.toString(),top:a,left:l}),p=dn().toLowerCase();t&&(h=ix(p)?IN:t),nx(p)&&(e=e||SN,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[I,N])=>`${E}${I}=${N},`,"");if(QC(p)&&h!=="_self")return PN(e||"",h),new U_(null);const _=window.open(e||"",h,g);Pe(_,n,"popup-blocked");try{_.focus()}catch{}return new U_(_)}function PN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="__/auth/handler",RN="emulator/auth/handler",CN=encodeURIComponent("fac");async function F_(n,e,t,r,s,a){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Io,eventId:s};if(e instanceof px){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",mR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Ru){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),p=f?`#${CN}=${encodeURIComponent(f)}`:"";return`${bN(n)}?${Au(h).slice(1)}${p}`}function bN({config:n}){return n.emulator?eg(n,RN):`https://${n.authDomain}/${kN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class NN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xx,this._completeRedirectFn=nN,this._overrideRedirectResult=Zb}async _openPopup(e,t,r,s){var a;Si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await F_(e,t,r,rm(),s);return AN(e,l,sg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await F_(e,t,r,rm(),s);return Lb(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Si(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await wN(e),r=new iN(e);return t.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pp,{type:Pp},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Pp];l!==void 0&&t(!!l),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ux()||rx()||ng()}}const DN=NN;var B_="@firebase/auth",z_="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ON(n){go(new ws("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cx(n)},p=new tb(r,s,a,f);return hb(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),go(new ws("auth-internal",e=>{const t=So(e.getProvider("auth").getImmediate());return(r=>new VN(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(B_,z_,LN(n)),$r(B_,z_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=5*60,jN=BE("authIdTokenMaxAge")||MN;let $_=null;const UN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>jN)return;const s=t==null?void 0:t.token;$_!==s&&($_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function FN(n=Ym()){const e=ud(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cb(n,{popupRedirectResolver:DN,persistence:[Wb,Nb,xx]}),r=BE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=UN(a.toString());Rb(t,l,()=>l(t.currentUser)),kb(t,h=>l(h))}}const s=jE("auth");return s&&db(t,`http://${s}`),t}function BN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nb({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Wr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",BN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ON("Browser");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,Cx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,A){function k(){}k.prototype=A.prototype,b.D=A.prototype,b.prototype=new k,b.prototype.constructor=b,b.C=function(D,O,B){for(var R=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)R[Ye-2]=arguments[Ye];return A.prototype[O].apply(D,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,A,k){k||(k=0);var D=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)D[O]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(O=0;16>O;++O)D[O]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=b.g[0],k=b.g[1],O=b.g[2];var B=b.g[3],R=A+(B^k&(O^B))+D[0]+3614090360&4294967295;A=k+(R<<7&4294967295|R>>>25),R=B+(O^A&(k^O))+D[1]+3905402710&4294967295,B=A+(R<<12&4294967295|R>>>20),R=O+(k^B&(A^k))+D[2]+606105819&4294967295,O=B+(R<<17&4294967295|R>>>15),R=k+(A^O&(B^A))+D[3]+3250441966&4294967295,k=O+(R<<22&4294967295|R>>>10),R=A+(B^k&(O^B))+D[4]+4118548399&4294967295,A=k+(R<<7&4294967295|R>>>25),R=B+(O^A&(k^O))+D[5]+1200080426&4294967295,B=A+(R<<12&4294967295|R>>>20),R=O+(k^B&(A^k))+D[6]+2821735955&4294967295,O=B+(R<<17&4294967295|R>>>15),R=k+(A^O&(B^A))+D[7]+4249261313&4294967295,k=O+(R<<22&4294967295|R>>>10),R=A+(B^k&(O^B))+D[8]+1770035416&4294967295,A=k+(R<<7&4294967295|R>>>25),R=B+(O^A&(k^O))+D[9]+2336552879&4294967295,B=A+(R<<12&4294967295|R>>>20),R=O+(k^B&(A^k))+D[10]+4294925233&4294967295,O=B+(R<<17&4294967295|R>>>15),R=k+(A^O&(B^A))+D[11]+2304563134&4294967295,k=O+(R<<22&4294967295|R>>>10),R=A+(B^k&(O^B))+D[12]+1804603682&4294967295,A=k+(R<<7&4294967295|R>>>25),R=B+(O^A&(k^O))+D[13]+4254626195&4294967295,B=A+(R<<12&4294967295|R>>>20),R=O+(k^B&(A^k))+D[14]+2792965006&4294967295,O=B+(R<<17&4294967295|R>>>15),R=k+(A^O&(B^A))+D[15]+1236535329&4294967295,k=O+(R<<22&4294967295|R>>>10),R=A+(O^B&(k^O))+D[1]+4129170786&4294967295,A=k+(R<<5&4294967295|R>>>27),R=B+(k^O&(A^k))+D[6]+3225465664&4294967295,B=A+(R<<9&4294967295|R>>>23),R=O+(A^k&(B^A))+D[11]+643717713&4294967295,O=B+(R<<14&4294967295|R>>>18),R=k+(B^A&(O^B))+D[0]+3921069994&4294967295,k=O+(R<<20&4294967295|R>>>12),R=A+(O^B&(k^O))+D[5]+3593408605&4294967295,A=k+(R<<5&4294967295|R>>>27),R=B+(k^O&(A^k))+D[10]+38016083&4294967295,B=A+(R<<9&4294967295|R>>>23),R=O+(A^k&(B^A))+D[15]+3634488961&4294967295,O=B+(R<<14&4294967295|R>>>18),R=k+(B^A&(O^B))+D[4]+3889429448&4294967295,k=O+(R<<20&4294967295|R>>>12),R=A+(O^B&(k^O))+D[9]+568446438&4294967295,A=k+(R<<5&4294967295|R>>>27),R=B+(k^O&(A^k))+D[14]+3275163606&4294967295,B=A+(R<<9&4294967295|R>>>23),R=O+(A^k&(B^A))+D[3]+4107603335&4294967295,O=B+(R<<14&4294967295|R>>>18),R=k+(B^A&(O^B))+D[8]+1163531501&4294967295,k=O+(R<<20&4294967295|R>>>12),R=A+(O^B&(k^O))+D[13]+2850285829&4294967295,A=k+(R<<5&4294967295|R>>>27),R=B+(k^O&(A^k))+D[2]+4243563512&4294967295,B=A+(R<<9&4294967295|R>>>23),R=O+(A^k&(B^A))+D[7]+1735328473&4294967295,O=B+(R<<14&4294967295|R>>>18),R=k+(B^A&(O^B))+D[12]+2368359562&4294967295,k=O+(R<<20&4294967295|R>>>12),R=A+(k^O^B)+D[5]+4294588738&4294967295,A=k+(R<<4&4294967295|R>>>28),R=B+(A^k^O)+D[8]+2272392833&4294967295,B=A+(R<<11&4294967295|R>>>21),R=O+(B^A^k)+D[11]+1839030562&4294967295,O=B+(R<<16&4294967295|R>>>16),R=k+(O^B^A)+D[14]+4259657740&4294967295,k=O+(R<<23&4294967295|R>>>9),R=A+(k^O^B)+D[1]+2763975236&4294967295,A=k+(R<<4&4294967295|R>>>28),R=B+(A^k^O)+D[4]+1272893353&4294967295,B=A+(R<<11&4294967295|R>>>21),R=O+(B^A^k)+D[7]+4139469664&4294967295,O=B+(R<<16&4294967295|R>>>16),R=k+(O^B^A)+D[10]+3200236656&4294967295,k=O+(R<<23&4294967295|R>>>9),R=A+(k^O^B)+D[13]+681279174&4294967295,A=k+(R<<4&4294967295|R>>>28),R=B+(A^k^O)+D[0]+3936430074&4294967295,B=A+(R<<11&4294967295|R>>>21),R=O+(B^A^k)+D[3]+3572445317&4294967295,O=B+(R<<16&4294967295|R>>>16),R=k+(O^B^A)+D[6]+76029189&4294967295,k=O+(R<<23&4294967295|R>>>9),R=A+(k^O^B)+D[9]+3654602809&4294967295,A=k+(R<<4&4294967295|R>>>28),R=B+(A^k^O)+D[12]+3873151461&4294967295,B=A+(R<<11&4294967295|R>>>21),R=O+(B^A^k)+D[15]+530742520&4294967295,O=B+(R<<16&4294967295|R>>>16),R=k+(O^B^A)+D[2]+3299628645&4294967295,k=O+(R<<23&4294967295|R>>>9),R=A+(O^(k|~B))+D[0]+4096336452&4294967295,A=k+(R<<6&4294967295|R>>>26),R=B+(k^(A|~O))+D[7]+1126891415&4294967295,B=A+(R<<10&4294967295|R>>>22),R=O+(A^(B|~k))+D[14]+2878612391&4294967295,O=B+(R<<15&4294967295|R>>>17),R=k+(B^(O|~A))+D[5]+4237533241&4294967295,k=O+(R<<21&4294967295|R>>>11),R=A+(O^(k|~B))+D[12]+1700485571&4294967295,A=k+(R<<6&4294967295|R>>>26),R=B+(k^(A|~O))+D[3]+2399980690&4294967295,B=A+(R<<10&4294967295|R>>>22),R=O+(A^(B|~k))+D[10]+4293915773&4294967295,O=B+(R<<15&4294967295|R>>>17),R=k+(B^(O|~A))+D[1]+2240044497&4294967295,k=O+(R<<21&4294967295|R>>>11),R=A+(O^(k|~B))+D[8]+1873313359&4294967295,A=k+(R<<6&4294967295|R>>>26),R=B+(k^(A|~O))+D[15]+4264355552&4294967295,B=A+(R<<10&4294967295|R>>>22),R=O+(A^(B|~k))+D[6]+2734768916&4294967295,O=B+(R<<15&4294967295|R>>>17),R=k+(B^(O|~A))+D[13]+1309151649&4294967295,k=O+(R<<21&4294967295|R>>>11),R=A+(O^(k|~B))+D[4]+4149444226&4294967295,A=k+(R<<6&4294967295|R>>>26),R=B+(k^(A|~O))+D[11]+3174756917&4294967295,B=A+(R<<10&4294967295|R>>>22),R=O+(A^(B|~k))+D[2]+718787259&4294967295,O=B+(R<<15&4294967295|R>>>17),R=k+(B^(O|~A))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+A&4294967295,b.g[1]=b.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+O&4294967295,b.g[3]=b.g[3]+B&4294967295}r.prototype.u=function(b,A){A===void 0&&(A=b.length);for(var k=A-this.blockSize,D=this.B,O=this.h,B=0;B<A;){if(O==0)for(;B<=k;)s(this,b,B),B+=this.blockSize;if(typeof b=="string"){for(;B<A;)if(D[O++]=b.charCodeAt(B++),O==this.blockSize){s(this,D),O=0;break}}else for(;B<A;)if(D[O++]=b[B++],O==this.blockSize){s(this,D),O=0;break}}this.h=O,this.o+=A},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var A=1;A<b.length-8;++A)b[A]=0;var k=8*this.o;for(A=b.length-8;A<b.length;++A)b[A]=k&255,k/=256;for(this.u(b),b=Array(16),A=k=0;4>A;++A)for(var D=0;32>D;D+=8)b[k++]=this.g[A]>>>D&255;return b};function a(b,A){var k=h;return Object.prototype.hasOwnProperty.call(k,b)?k[b]:k[b]=A(b)}function l(b,A){this.h=A;for(var k=[],D=!0,O=b.length-1;0<=O;O--){var B=b[O]|0;D&&B==A||(k[O]=B,D=!1)}this.g=k}var h={};function f(b){return-128<=b&&128>b?a(b,function(A){return new l([A|0],0>A?-1:0)}):new l([b|0],0>b?-1:0)}function p(b){if(isNaN(b)||!isFinite(b))return _;if(0>b)return C(p(-b));for(var A=[],k=1,D=0;b>=k;D++)A[D]=b/k|0,k*=4294967296;return new l(A,0)}function g(b,A){if(b.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b.charAt(0)=="-")return C(g(b.substring(1),A));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(A,8)),D=_,O=0;O<b.length;O+=8){var B=Math.min(8,b.length-O),R=parseInt(b.substring(O,O+B),A);8>B?(B=p(Math.pow(A,B)),D=D.j(B).add(p(R))):(D=D.j(k),D=D.add(p(R)))}return D}var _=f(0),E=f(1),I=f(16777216);n=l.prototype,n.m=function(){if(L(this))return-C(this).m();for(var b=0,A=1,k=0;k<this.g.length;k++){var D=this.i(k);b+=(0<=D?D:4294967296+D)*A,A*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N(this))return"0";if(L(this))return"-"+C(this).toString(b);for(var A=p(Math.pow(b,6)),k=this,D="";;){var O=Z(k,A).g;k=j(k,O.j(A));var B=((0<k.g.length?k.g[0]:k.h)>>>0).toString(b);if(k=O,N(k))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function N(b){if(b.h!=0)return!1;for(var A=0;A<b.g.length;A++)if(b.g[A]!=0)return!1;return!0}function L(b){return b.h==-1}n.l=function(b){return b=j(this,b),L(b)?-1:N(b)?0:1};function C(b){for(var A=b.g.length,k=[],D=0;D<A;D++)k[D]=~b.g[D];return new l(k,~b.h).add(E)}n.abs=function(){return L(this)?C(this):this},n.add=function(b){for(var A=Math.max(this.g.length,b.g.length),k=[],D=0,O=0;O<=A;O++){var B=D+(this.i(O)&65535)+(b.i(O)&65535),R=(B>>>16)+(this.i(O)>>>16)+(b.i(O)>>>16);D=R>>>16,B&=65535,R&=65535,k[O]=R<<16|B}return new l(k,k[k.length-1]&-2147483648?-1:0)};function j(b,A){return b.add(C(A))}n.j=function(b){if(N(this)||N(b))return _;if(L(this))return L(b)?C(this).j(C(b)):C(C(this).j(b));if(L(b))return C(this.j(C(b)));if(0>this.l(I)&&0>b.l(I))return p(this.m()*b.m());for(var A=this.g.length+b.g.length,k=[],D=0;D<2*A;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<b.g.length;O++){var B=this.i(D)>>>16,R=this.i(D)&65535,Ye=b.i(O)>>>16,Tt=b.i(O)&65535;k[2*D+2*O]+=R*Tt,G(k,2*D+2*O),k[2*D+2*O+1]+=B*Tt,G(k,2*D+2*O+1),k[2*D+2*O+1]+=R*Ye,G(k,2*D+2*O+1),k[2*D+2*O+2]+=B*Ye,G(k,2*D+2*O+2)}for(D=0;D<A;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=A;D<2*A;D++)k[D]=0;return new l(k,0)};function G(b,A){for(;(b[A]&65535)!=b[A];)b[A+1]+=b[A]>>>16,b[A]&=65535,A++}function q(b,A){this.g=b,this.h=A}function Z(b,A){if(N(A))throw Error("division by zero");if(N(b))return new q(_,_);if(L(b))return A=Z(C(b),A),new q(C(A.g),C(A.h));if(L(A))return A=Z(b,C(A)),new q(C(A.g),A.h);if(30<b.g.length){if(L(b)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var k=E,D=A;0>=D.l(b);)k=ee(k),D=ee(D);var O=se(k,1),B=se(D,1);for(D=se(D,2),k=se(k,2);!N(D);){var R=B.add(D);0>=R.l(b)&&(O=O.add(k),B=R),D=se(D,1),k=se(k,1)}return A=j(b,O.j(A)),new q(O,A)}for(O=_;0<=b.l(A);){for(k=Math.max(1,Math.floor(b.m()/A.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=p(k),R=B.j(A);L(R)||0<R.l(b);)k-=D,B=p(k),R=B.j(A);N(B)&&(B=E),O=O.add(B),b=j(b,R)}return new q(O,b)}n.A=function(b){return Z(this,b).h},n.and=function(b){for(var A=Math.max(this.g.length,b.g.length),k=[],D=0;D<A;D++)k[D]=this.i(D)&b.i(D);return new l(k,this.h&b.h)},n.or=function(b){for(var A=Math.max(this.g.length,b.g.length),k=[],D=0;D<A;D++)k[D]=this.i(D)|b.i(D);return new l(k,this.h|b.h)},n.xor=function(b){for(var A=Math.max(this.g.length,b.g.length),k=[],D=0;D<A;D++)k[D]=this.i(D)^b.i(D);return new l(k,this.h^b.h)};function ee(b){for(var A=b.g.length+1,k=[],D=0;D<A;D++)k[D]=b.i(D)<<1|b.i(D-1)>>>31;return new l(k,b.h)}function se(b,A){var k=A>>5;A%=32;for(var D=b.g.length-k,O=[],B=0;B<D;B++)O[B]=0<A?b.i(B+k)>>>A|b.i(B+k+1)<<32-A:b.i(B+k);return new l(O,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Cx=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,vs=l}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bx,Ul,Nx,_h,am,Dx,Vx,Lx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in w))break e;w=w[z]}c=c[c.length-1],S=w[c],y=y(S),y!=S&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,S=!1,z={next:function(){if(!S&&w<c.length){var K=w++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function I(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,z,K){for(var le=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)le[Xe-2]=arguments[Xe];return y.prototype[z].apply(S,le)}}function L(c){const y=c.length;if(0<y){const w=Array(y);for(let S=0;S<y;S++)w[S]=c[S];return w}return[]}function C(c,y){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const z=c.length||0,K=S.length||0;c.length=z+K;for(let le=0;le<K;le++)c[z+le]=S[le]}else c.push(S)}}class j{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var ee=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function se(c,y,w){for(const S in c)y.call(w,c[S],S,c)}function b(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function A(c){const y={};for(const w in c)y[w]=c[w];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let w,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(w in S)c[w]=S[w];for(let K=0;K<k.length;K++)w=k[K],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function O(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function B(c){h.setTimeout(()=>{throw c},0)}function R(){var c=ye;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ye{constructor(){this.h=this.g=null}add(y,w){const S=Tt.get();S.set(y,w),this.h?this.h.next=S:this.g=S,this.h=S}}var Tt=new j(()=>new st,c=>c.reset());class st{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ie=!1,ye=new Ye,ue=()=>{const c=h.Promise.resolve(void 0);Ae=()=>{c.then(U)}};var U=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(w){B(w)}var y=Tt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ie=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function Le(c,y){if(_e.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ee){e:{try{Z(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Le.aa.h.call(this)}}N(Le,_e);var Oe={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),ce=0;function Re(c,y,w,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!S,this.ha=z,this.key=++ce,this.da=this.fa=!1}function De(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mt(c){this.src=c,this.g={},this.h=0}mt.prototype.add=function(c,y,w,S,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var le=Wt(c,y,S,z);return-1<le?(y=c[le],w||(y.fa=!1)):(y=new Re(y,this.src,K,!!S,z),y.fa=w,c.push(y)),y};function rr(c,y){var w=y.type;if(w in c.g){var S=c.g[w],z=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(S,z,1),K&&(De(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Wt(c,y,w,S){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!w&&K.ha==S)return z}return-1}var fn="closure_lm_"+(1e6*Math.random()|0),ir={};function ei(c,y,w,S,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)ei(c,y[K],w,S,z);return null}return w=kr(w),c&&c[J]?c.K(y,w,p(S)?!!S.capture:!1,z):ti(c,y,w,!1,S,z)}function ti(c,y,w,S,z,K){if(!y)throw Error("Invalid event type");var le=p(z)?!!z.capture:!!z,Xe=bi(c);if(Xe||(c[fn]=Xe=new mt(c)),w=Xe.add(y,w,S,le,K),w.proxy)return w;if(S=Ci(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)be||(z=le),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(ar(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ci(){function c(w){return y.call(c.src,c.listener,w)}const y=Ls;return c}function sr(c,y,w,S,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)sr(c,y[K],w,S,z);else S=p(S)?!!S.capture:!!S,w=kr(w),c&&c[J]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],w=Wt(K,w,S,z),-1<w&&(De(K[w]),Array.prototype.splice.call(K,w,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=bi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Wt(y,w,S,z)),(w=-1<c?y[c]:null)&&or(w))}function or(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[J])rr(y.i,c);else{var w=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(w,S,c.capture):y.detachEvent?y.detachEvent(ar(w),S):y.addListener&&y.removeListener&&y.removeListener(S),(w=bi(y))?(rr(w,c),w.h==0&&(w.src=null,y[fn]=null)):De(c)}}}function ar(c){return c in ir?ir[c]:ir[c]="on"+c}function Ls(c,y){if(c.da)c=!0;else{y=new Le(y,this);var w=c.listener,S=c.ha||c.src;c.fa&&or(c),c=w.call(S,y)}return c}function bi(c){return c=c[fn],c instanceof mt?c:null}var Ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function kr(c){return typeof c=="function"?c:(c[Ni]||(c[Ni]=function(y){return c.handleEvent(y)}),c[Ni])}function Et(){Q.call(this),this.i=new mt(this),this.M=this,this.F=null}N(Et,Q),Et.prototype[J]=!0,Et.prototype.removeEventListener=function(c,y,w,S){sr(this,c,y,w,S)};function xt(c,y){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new _e(y,c);else if(y instanceof _e)y.target=y.target||c;else{var z=y;y=new _e(S,c),D(y,z)}if(z=!0,w)for(var K=w.length-1;0<=K;K--){var le=y.g=w[K];z=oe(le,S,!0,y)&&z}if(le=y.g=c,z=oe(le,S,!0,y)&&z,z=oe(le,S,!1,y)&&z,w)for(K=0;K<w.length;K++)le=y.g=w[K],z=oe(le,S,!1,y)&&z}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],S=0;S<w.length;S++)De(w[S]);delete c.g[y],c.h--}}this.F=null},Et.prototype.K=function(c,y,w,S){return this.i.add(String(c),y,!1,w,S)},Et.prototype.L=function(c,y,w,S){return this.i.add(String(c),y,!0,w,S)};function oe(c,y,w,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var le=y[K];if(le&&!le.da&&le.capture==w){var Xe=le.listener,Vt=le.ha||le.src;le.fa&&rr(c.i,le),z=Xe.call(Vt,S)!==!1&&z}}return z&&!S.defaultPrevented}function he(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function Me(c){c.g=he(()=>{c.g=null,c.i&&(c.i=!1,Me(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class je extends Q{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Me(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(c){Q.call(this),this.h=c,this.g={}}N(lt,Q);var We=[];function jt(c){se(c.g,function(y,w){this.g.hasOwnProperty(w)&&or(y)},c),c.g={}}lt.prototype.N=function(){lt.aa.N.call(this),jt(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var It=h.JSON.stringify,ut=h.JSON.parse,Rr=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function zn(){}zn.prototype.h=null;function Di(c){return c.h||(c.h=c.i())}function Ro(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){_e.call(this,"d")}N(Cr,_e);function Co(){_e.call(this,"c")}N(Co,_e);var br={},Xa=null;function Os(){return Xa=Xa||new Et}br.La="serverreachability";function Ya(c){_e.call(this,br.La,c)}N(Ya,_e);function ni(c){const y=Os();xt(y,new Ya(y))}br.STAT_EVENT="statevent";function Ja(c,y){_e.call(this,br.STAT_EVENT,c),this.stat=y}N(Ja,_e);function St(c){const y=Os();xt(y,new Ja(y,c))}br.Ma="timingevent";function bo(c,y){_e.call(this,br.Ma,c),this.size=y}N(bo,_e);function lr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Ms(){this.g=!0}Ms.prototype.xa=function(){this.g=!1};function js(c,y,w,S,z,K){c.info(function(){if(c.g)if(K)for(var le="",Xe=K.split("&"),Vt=0;Vt<Xe.length;Vt++){var He=Xe[Vt].split("=");if(1<He.length){var Ut=He[0];He=He[1];var Rt=Ut.split("_");le=2<=Rt.length&&Rt[1]=="type"?le+(Ut+"="+He+"&"):le+(Ut+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+w+`
`+le})}function No(c,y,w,S,z,K,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+w+`
`+K+" "+le})}function ur(c,y,w,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Fd(c,w)+(S?" "+S:"")})}function Za(c,y){c.info(function(){return"TIMEOUT: "+y})}Ms.prototype.info=function(){};function Fd(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return It(w)}catch{return y}}var Do={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function Us(){}N(Us,zn),Us.prototype.g=function(){return new XMLHttpRequest},Us.prototype.i=function(){return{}},cr=new Us;function hr(c,y,w,S){this.j=c,this.i=y,this.l=w,this.R=S||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bu}function Bu(){this.i=null,this.g="",this.h=!1}var el={},Vo={};function Lo(c,y,w){c.L=1,c.v=ji(Dn(y)),c.m=w,c.P=!0,tl(c,null)}function tl(c,y){c.F=Date.now(),Ze(c),c.A=Dn(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Fi(w.i,"t",S),c.C=0,w=c.j.J,c.h=new Bu,c.g=sc(c.j,w?y:null,!c.m),0<c.O&&(c.M=new je(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(We[0]=z.toString()),z=We);for(var K=0;K<z.length;K++){var le=ei(w,z[K],S||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ni(),js(c.i,c.u,c.A,c.l,c.R,c.m)}hr.prototype.ca=function(c){c=c.target;const y=this.M;y&&En(c)==3?y.j():this.Y(c)},hr.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=En(this.g);var y=this.g.Ba();const qn=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||al(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=qn?ni(3):ni(2)),Fs(this);var w=this.g.Z();this.X=w;t:if(zu(this)){var S=al(this.g);c="";var z=S.length,K=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),Vi(this);var le="";break t}this.h.i=new h.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=w==200,No(this.i,this.u,this.A,this.l,this.R,Rt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Vt=this.g;if((Xe=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Xe)){var He=Xe;break t}}He=null}if(w=He)ur(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nl(this,w);else{this.o=!1,this.s=3,St(12),Wn(this),Vi(this);break e}}if(this.P){w=!0;let Ln;for(;!this.J&&this.C<le.length;)if(Ln=Bd(this,le),Ln==Vo){Rt==4&&(this.s=4,St(14),w=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==el){this.s=4,St(15),ur(this.i,this.l,le,"[Invalid Chunk]"),w=!1;break}else ur(this.i,this.l,Ln,null),nl(this,Ln);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||le.length!=0||this.h.h||(this.s=1,St(16),w=!1),this.o=this.o&&w,!w)ur(this.i,this.l,le,"[Invalid Chunked Response]"),Wn(this),Vi(this);else if(0<le.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ul(Ut),Ut.M=!0,St(11))}}else ur(this.i,this.l,le,null),nl(this,le);Rt==4&&Wn(this),this.o&&!this.J&&(Rt==4?qo(this.j,this):(this.o=!1,Ze(this)))}else Bo(this.g),w==400&&0<le.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Wn(this),Vi(this)}}}catch{}finally{}};function zu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bd(c,y){var w=c.C,S=y.indexOf(`
`,w);return S==-1?Vo:(w=Number(y.substring(w,S)),isNaN(w)?el:(S+=1,S+w>y.length?Vo:(y=y.slice(S,S+w),c.C=S+w,y)))}hr.prototype.cancel=function(){this.J=!0,Wn(this)};function Ze(c){c.S=Date.now()+c.I,$u(c,c.I)}function $u(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=lr(E(c.ba,c),y)}function Fs(c){c.B&&(h.clearTimeout(c.B),c.B=null)}hr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Za(this.i,this.A),this.L!=2&&(ni(),St(17)),Wn(this),this.s=2,Vi(this)):$u(this,this.S-c)};function Vi(c){c.j.G==0||c.J||qo(c.j,c)}function Wn(c){Fs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,jt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function nl(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||pn(w.h,c))){if(!c.K&&pn(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Ho(w),gr(w);else break e;Wo(w),St(18)}}else w.za=z[1],0<w.za-w.T&&37500>z[2]&&w.F&&w.v==0&&!w.C&&(w.C=lr(E(w.Za,w),6e3));if(1>=Hu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ai(w,11)}else if((c.K||w.g==c)&&Ho(w),!G(y))for(z=w.Da.g.parse(y),y=0;y<z.length;y++){let He=z[y];if(w.T=He[0],He=He[1],w.G==2)if(He[0]=="c"){w.K=He[1],w.ia=He[2];const Ut=He[3];Ut!=null&&(w.la=Ut,w.j.info("VER="+w.la));const Rt=He[4];Rt!=null&&(w.Aa=Rt,w.j.info("SVER="+w.Aa));const qn=He[5];qn!=null&&typeof qn=="number"&&0<qn&&(S=1.5*qn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const Ln=c.g;if(Ln){const Ks=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var K=S.h;K.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(rl(K,K.h),K.h=null))}if(S.D){const Go=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(S.ya=Go,Je(S.I,S.D,Go))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var le=c;if(S.qa=ic(S,S.J?S.ia:null,S.W),le.K){qu(S.h,le);var Xe=le,Vt=S.L;Vt&&(Xe.I=Vt),Xe.B&&(Fs(Xe),Ze(Xe)),S.g=le}else qs(S);0<w.i.length&&Lr(w)}else He[0]!="stop"&&He[0]!="close"||ai(w,7);else w.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ai(w,7):qt(w):He[0]!="noop"&&w.l&&w.l.ta(He),w.v=0)}}ni(4)}catch{}}var Wu=class{constructor(c,y){this.g=c,this.map=y}};function Bs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hu(c){return c.h?1:c.g?c.g.size:0}function pn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function rl(c,y){c.g?c.g.add(y):c.h=y}function qu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Bs.prototype.cancel=function(){if(this.i=Ku(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ku(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return L(c.i)}function Oo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,S=0;S<w;S++)y.push(c[S]);return y}y=[],w=0;for(S in c)y[w++]=c[S];return y}function Mo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const S in c)y[w++]=S;return y}}}function Li(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=Mo(c),S=Oo(c),z=S.length,K=0;K<z;K++)y.call(void 0,S[K],w&&w[K],c)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zd(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),z=null;if(0<=S){var K=c[w].substring(0,S);z=c[w].substring(S+1)}else K=c[w];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ri){this.h=c.h,$s(this,c.j),this.o=c.o,this.g=c.g,Oi(this,c.s),this.l=c.l;var y=c.i,w=new Nr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Mi(this,w),this.m=c.m}else c&&(y=String(c).match(zs))?(this.h=!1,$s(this,y[1]||"",!0),this.o=$e(y[2]||""),this.g=$e(y[3]||"",!0),Oi(this,y[4]),this.l=$e(y[5]||"",!0),Mi(this,y[6]||"",!0),this.m=$e(y[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}ri.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ui(y,jo,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ui(y,jo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Ui(w,w.charAt(0)=="/"?Xu:Qu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Ui(w,il)),c.join("")};function Dn(c){return new ri(c)}function $s(c,y,w){c.j=w?$e(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Oi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Mi(c,y,w){y instanceof Nr?(c.i=y,Dr(c.i,c.h)):(w||(y=Ui(y,Yu)),c.i=new Nr(y,c.h))}function Je(c,y,w){c.i.set(y,w)}function ji(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $e(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ui(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,Gu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jo=/[#\/\?@]/g,Qu=/[#\?:]/g,Xu=/[#\?]/g,Yu=/[#\?@]/g,il=/#/g;function Nr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ht(c){c.g||(c.g=new Map,c.h=0,c.i&&zd(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=Nr.prototype,n.add=function(c,y){Ht(this),this.i=null,c=Hn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function dr(c,y){Ht(c),y=Hn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function fr(c,y){return Ht(c),y=Hn(c,y),c.g.has(y)}n.forEach=function(c,y){Ht(this),this.g.forEach(function(w,S){w.forEach(function(z){c.call(y,z,S,this)},this)},this)},n.na=function(){Ht(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let S=0;S<y.length;S++){const z=c[S];for(let K=0;K<z.length;K++)w.push(y[S])}return w},n.V=function(c){Ht(this);let y=[];if(typeof c=="string")fr(this,c)&&(y=y.concat(this.g.get(Hn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},n.set=function(c,y){return Ht(this),this.i=null,c=Hn(this,c),fr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Fi(c,y,w){dr(c,y),0<w.length&&(c.i=null,c.g.set(Hn(c,y),L(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var S=y[w];const K=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var z=K;le[S]!==""&&(z+="="+encodeURIComponent(String(le[S]))),c.push(z)}}return this.i=c.join("&")};function Hn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Dr(c,y){y&&!c.j&&(Ht(c),c.i=null,c.g.forEach(function(w,S){var z=S.toLowerCase();S!=z&&(dr(this,S),Fi(this,z,w))},c)),c.j=y}function $d(c,y){const w=new Ms;if(h.Image){const S=new Image;S.onload=I(Tn,w,"TestLoadImage: loaded",!0,y,S),S.onerror=I(Tn,w,"TestLoadImage: error",!1,y,S),S.onabort=I(Tn,w,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(Tn,w,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ju(c,y){const w=new Ms,S=new AbortController,z=setTimeout(()=>{S.abort(),Tn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(z),K.ok?Tn(w,"TestPingServer: ok",!0,y):Tn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Tn(w,"TestPingServer: error",!1,y)})}function Tn(c,y,w,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(w)}catch{}}function Wd(){this.g=new Rr}function Zu(c,y,w){const S=w||"";try{Li(c,function(z,K){let le=z;p(z)&&(le=It(z)),y.push(S+K+"="+encodeURIComponent(le))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function ii(c){this.l=c.Ub||null,this.j=c.eb||!1}N(ii,zn),ii.prototype.g=function(){return new Ws(this.l,this.j)},ii.prototype.i=function(c){return function(){return c}}({});function Ws(c,y){Et.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Ws,Et),n=Ws.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,mr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ec(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ec(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?pr(this):mr(this),this.readyState==3&&ec(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,pr(this))},n.Qa=function(c){this.g&&(this.response=c,pr(this))},n.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mr(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function mr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function si(c){let y="";return se(c,function(w,S){y+=S,y+=":",y+=w,y+=`\r
`}),y}function Bi(c,y,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=si(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Je(c,y,w))}function ot(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(ot,Et);var Hd=/^https?$/i,sl=["POST","PUT"];n=ot.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?Di(this.o):Di(cr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Hs(this,K);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)w.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())w.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(K=>K.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(sl,y,void 0))||S||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of w)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fo(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Hs(this,K)}};function Hs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Uo(c),Vn(c)}function Uo(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),Vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ol(this):this.bb())},n.bb=function(){ol(this)};function ol(c){if(c.h&&typeof l<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)he(c.Ea,0,c);else if(xt(c,"readystatechange"),En(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var S;if(S=le===0){var z=String(c.D).match(zs)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),S=!Hd.test(z?z.toLowerCase():"")}w=S}if(w)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var K=2<En(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Uo(c)}}finally{Vn(c)}}}}function Vn(c,y){if(c.g){Fo(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{w.onreadystatechange=S}catch{}}}function Fo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ut(y)}};function al(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bo(c){const y={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(G(c[S]))continue;var w=O(c[S]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const K=y[z]||[];y[z]=K,K.push(w)}b(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function ll(c){this.Aa=0,this.i=[],this.j=new Ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vr("baseRetryDelayMs",5e3,c),this.cb=Vr("retryDelaySeedMs",1e4,c),this.Wa=Vr("forwardChannelMaxRetries",2,c),this.wa=Vr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bs(c&&c.concurrentRequestLimit),this.Da=new Wd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ll.prototype,n.la=8,n.G=1,n.connect=function(c,y,w,S){St(0),this.W=c,this.H=y||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=ic(this,null,this.W),Lr(this)};function qt(c){if(zo(c),c.G==3){var y=c.U++,w=Dn(c.I);if(Je(w,"SID",c.K),Je(w,"RID",y),Je(w,"TYPE","terminate"),oi(c,w),y=new hr(c,c.j,y),y.L=2,y.v=ji(Dn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=sc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ze(y)}rc(c)}function gr(c){c.g&&(ul(c),c.g.cancel(),c.g=null)}function zo(c){gr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Ho(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Lr(c){if(!Nn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ae||ue(),ie||(Ae(),ie=!0),ye.add(y,c),c.B=0}}function qd(c,y){return Hu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=lr(E(c.Ga,c,y),nc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new hr(this,this.j,c);let K=this.o;if(this.S&&(K?(K=A(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=zi(this,z,y),w=Dn(this.I),Je(w,"RID",c),Je(w,"CVER",22),this.D&&Je(w,"X-HTTP-Session-Id",this.D),oi(this,w),K&&(this.O?y="headers="+encodeURIComponent(String(si(K)))+"&"+y:this.m&&Bi(w,this.m,K)),rl(this.h,z),this.Ua&&Je(w,"TYPE","init"),this.P?(Je(w,"$req",y),Je(w,"SID","null"),z.T=!0,Lo(z,w,null)):Lo(z,w,y),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||Nn(this.h)||$o(this))};function $o(c,y){var w;y?w=y.l:w=c.U++;const S=Dn(c.I);Je(S,"SID",c.K),Je(S,"RID",w),Je(S,"AID",c.T),oi(c,S),c.m&&c.o&&Bi(S,c.m,c.o),w=new hr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=zi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),rl(c.h,w),Lo(w,S,y)}function oi(c,y){c.H&&se(c.H,function(w,S){Je(y,S,w)}),c.l&&Li({},function(w,S){Je(y,S,w)})}function zi(c,y,w){w=Math.min(c.i.length,w);var S=c.l?E(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const le=["count="+w];K==-1?0<w?(K=z[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let Xe=!0;for(let Vt=0;Vt<w;Vt++){let He=z[Vt].g;const Ut=z[Vt].map;if(He-=K,0>He)K=Math.max(0,z[Vt].g-100),Xe=!1;else try{Zu(Ut,le,"req"+He+"_")}catch{S&&S(Ut)}}if(Xe){S=le.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,S}function qs(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ae||ue(),ie||(Ae(),ie=!0),ye.add(y,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=lr(E(c.Fa,c),nc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=lr(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),gr(this),tc(this))};function ul(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function tc(c){c.g=new hr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Dn(c.qa);Je(y,"RID","rpc"),Je(y,"SID",c.K),Je(y,"AID",c.T),Je(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(y,"TO",c.ja),Je(y,"TYPE","xmlhttp"),oi(c,y),c.m&&c.o&&Bi(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=ji(Dn(y)),w.m=null,w.P=!0,tl(w,c)}n.Za=function(){this.C!=null&&(this.C=null,gr(this),Wo(this),St(19))};function Ho(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function qo(c,y){var w=null;if(c.g==y){Ho(c),ul(c),c.g=null;var S=2}else if(pn(c.h,y))w=y.D,qu(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=Os(),xt(S,new bo(S,w)),Lr(c)}else qs(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&qd(c,y)||S==2&&Wo(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),z){case 1:ai(c,5);break;case 4:ai(c,10);break;case 3:ai(c,6);break;default:ai(c,2)}}}function nc(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function ai(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),S=c.Xa;const z=!S;S=new ri(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||$s(S,"https"),ji(S),z?$d(S.toString(),w):Ju(S.toString(),w)}else St(2);c.G=0,c.l&&c.l.sa(y),rc(c),zo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function rc(c){if(c.G=0,c.ka=[],c.l){const y=Ku(c.h);(y.length!=0||c.i.length!=0)&&(C(c.ka,y),C(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function ic(c,y,w){var S=w instanceof ri?Dn(w):new ri(w);if(S.g!="")y&&(S.g=y+"."+S.g),Oi(S,S.s);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new ri(null);S&&$s(K,S),y&&(K.g=y),z&&Oi(K,z),w&&(K.l=w),S=K}return w=c.D,y=c.ya,w&&y&&Je(S,w,y),Je(S,"VER",c.la),oi(c,S),S}function sc(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ot(new ii({eb:w})):new ot(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cl(){}n=cl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ko(){}Ko.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){Et.call(this),this.g=new ll(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!G(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Or(this)}N(mn,Et),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){qt(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=It(c),c=w);y.i.push(new Wu(y.Ya++,c)),y.G==3&&Lr(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,mn.aa.N.call(this)};function oc(c){Cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(oc,Cr);function ac(){Co.call(this),this.status=1}N(ac,Co);function Or(c){this.g=c}N(Or,cl),Or.prototype.ua=function(){xt(this.g,"a")},Or.prototype.ta=function(c){xt(this.g,new oc(c))},Or.prototype.sa=function(c){xt(this.g,new ac)},Or.prototype.ra=function(){xt(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Lx=function(){return new Ko},Vx=function(){return Os()},Dx=br,am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Do.NO_ERROR=0,Do.TIMEOUT=8,Do.HTTP_ERROR=6,_h=Do,Fu.COMPLETE="complete",Nx=Fu,Ro.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Ul=Ro,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,bx=ot}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",q_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new Qm("@firebase/firestore");function ga(){return _o.logLevel}function pe(n,...e){if(_o.logLevel<=Be.DEBUG){const t=e.map(ag);_o.debug(`Firestore (${$a}): ${n}`,...t)}}function Ai(n,...e){if(_o.logLevel<=Be.ERROR){const t=e.map(ag);_o.error(`Firestore (${$a}): ${n}`,...t)}}function Na(n,...e){if(_o.logLevel<=Be.WARN){const t=e.map(ag);_o.warn(`Firestore (${$a}): ${n}`,...t)}}function ag(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+n;throw Ai(e),new Error(e)}function Qe(n,e){n||ke()}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class $N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WN{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new Ox(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new ln(e)}}class HN{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qN{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new HN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new K_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new K_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=GN(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function lm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ue(r,s);{const a=Mx(),l=QN(a.encode(G_(n,t)),a.encode(G_(e,t)));return l!==0?l:Ue(r,s)}}t+=r>65535?2:1}return Ue(n.length,e.length)}function G_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function QN(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ue(n[t],e[t]);return Ue(n.length,e.length)}function Da(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,X_=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*X_);return new vt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q_)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new vt(0,0))}static max(){return new Ne(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class Br{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(),r===void 0?r=e.length-t:r>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Br.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Ue(e.length,t.length)}static compareSegments(e,t){const r=Br.isNumericId(e),s=Br.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Br.extractNumericId(e).compare(Br.extractNumericId(t)):lm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class it extends Br{construct(e,t,r){return new it(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new it(t)}static emptyPath(){return new it([])}}const XN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Br{construct(e,t,r){return new Jt(e,t,r)}static isValidIdentifier(e){return XN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new Jt([Y_])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new me(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new me(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(r+=h,s++):(a(),s++)}if(a(),l)throw new me(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(it.fromString(e))}static fromName(e){return new Ee(it.fromString(e).popFirst(5))}static empty(){return new Ee(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function YN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new vt(t+1,0):new vt(t,r));return new Ts(s,Ee.empty(),e)}function JN(n){return new Ts(n.readTime,n.key,au)}class Ts{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ts(Ne.min(),Ee.empty(),au)}static max(){return new Ts(Ne.max(),Ee.empty(),au)}}function ZN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==eD)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,r)=>{t(e)})}static reject(e){return new Y((t,r)=>{r(e)})}static waitFor(e){return new Y((t,r)=>{let s=0,a=0,l=!1;e.forEach(h=>{++s,h.next(()=>{++a,l&&a===s&&t()},f=>r(f))}),l=!0,a===s&&t()})}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next(s=>s?Y.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Y((r,s)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{l[p]=g,++h,h===a&&r(l)},g=>s(g))}})}static doWhile(e,t){return new Y((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function nD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ha(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}fd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function pd(n){return n==null}function jh(n){return n===0&&1/n==-1/0}function rD(n){return typeof n=="number"&&Number.isInteger(n)&&!jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="";function iD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=J_(e)),e=sD(n.get(t),e);return J_(e)}function sD(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case Ux:t+="";break;default:t+=a}}return t}function J_(n){return n+Ux+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=a??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Yt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ew(this.data.getIterator())}getIteratorFrom(e){return new ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Mt(Jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Bx("Invalid base64 string: "+a):a}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const oD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=oD.exec(n);if(Qe(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xs(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="server_timestamp",$x="__type__",Wx="__previous_value__",Hx="__local_write_time__";function ug(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$x])===null||t===void 0?void 0:t.stringValue)===zx}function md(n){const e=n.mapValue.fields[Wx];return ug(e)?md(e):e}function lu(n){const e=Es(n.mapValue.fields[Hx].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t,r,s,a,l,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const Uh="(default)";class uu{constructor(e,t){this.projectId=e,this.database=t||Uh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="__type__",lD="__max__",sh={mapValue:{}},Kx="__vector__",Fh="value";function Is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ug(n)?4:cD(n)?9007199254740991:uD(n)?10:11:ke()}function Jr(n,e){if(n===e)return!0;const t=Is(n);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lu(n).isEqual(lu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Es(s.timestampValue),h=Es(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return xs(s.bytesValue).isEqual(xs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return kt(s.geoPointValue.latitude)===kt(a.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return kt(s.integerValue)===kt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=kt(s.doubleValue),h=kt(a.doubleValue);return l===h?jh(l)===jh(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Da(n.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(Z_(l)!==Z_(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!Jr(l[f],h[f])))return!1;return!0}(n,e);default:return ke()}}function cu(n,e){return(n.values||[]).find(t=>Jr(t,e))!==void 0}function Va(n,e){if(n===e)return 0;const t=Is(n),r=Is(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(a,l){const h=kt(a.integerValue||a.doubleValue),f=kt(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return tw(n.timestampValue,e.timestampValue);case 4:return tw(lu(n),lu(e));case 5:return lm(n.stringValue,e.stringValue);case 6:return function(a,l){const h=xs(a),f=xs(l);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=Ue(h[p],f[p]);if(g!==0)return g}return Ue(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const h=Ue(kt(a.latitude),kt(l.latitude));return h!==0?h:Ue(kt(a.longitude),kt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return nw(n.arrayValue,e.arrayValue);case 10:return function(a,l){var h,f,p,g;const _=a.fields||{},E=l.fields||{},I=(h=_[Fh])===null||h===void 0?void 0:h.arrayValue,N=(f=E[Fh])===null||f===void 0?void 0:f.arrayValue,L=Ue(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0);return L!==0?L:nw(I,N)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===sh.mapValue&&l===sh.mapValue)return 0;if(a===sh.mapValue)return 1;if(l===sh.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=lm(f[_],g[_]);if(E!==0)return E;const I=Va(h[f[_]],p[g[_]]);if(I!==0)return I}return Ue(f.length,g.length)}(n.mapValue,e.mapValue);default:throw ke()}}function tw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Es(n),r=Es(e),s=Ue(t.seconds,r.seconds);return s!==0?s:Ue(t.nanos,r.nanos)}function nw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Va(t[s],r[s]);if(a)return a}return Ue(t.length,r.length)}function La(n){return um(n)}function um(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Es(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=um(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${um(t.fields[l])}`;return s+"}"}(n.mapValue):ke()}function wh(n){switch(Is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(n);return e?16+wh(e):16;case 5:return 2*n.stringValue.length;case 6:return xs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+wh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return bs(r.fields,(a,l)=>{s+=a.length+wh(l)}),s}(n.mapValue);default:throw ke()}}function rw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cm(n){return!!n&&"integerValue"in n}function cg(n){return!!n&&"arrayValue"in n}function iw(n){return!!n&&"nullValue"in n}function sw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Th(n){return!!n&&"mapValue"in n}function uD(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qx])===null||t===void 0?void 0:t.stringValue)===Kx}function ql(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ql(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ql(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(t)}setAll(e){let t=Jt.emptyPath(),r={},s=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}l?r[h.lastSegment()]=ql(l):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Th(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){bs(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Cn(ql(this.value))}}function Gx(n){const e=[];return bs(n.fields,(t,r)=>{const s=new Jt([t]);if(Th(r)){const a=Gx(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,r,s,a,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new un(e,0,Ne.min(),Ne.min(),Ne.min(),Cn.empty(),0)}static newFoundDocument(e,t,r,s){return new un(e,1,t,Ne.min(),r,s,0)}static newNoDocument(e,t){return new un(e,2,t,Ne.min(),Ne.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Ne.min(),Ne.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t){this.position=e,this.inclusive=t}}function ow(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(l.referenceValue),t.key):r=Va(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function aw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t="asc"){this.field=e,this.dir=t}}function hD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{}class Nt extends Qx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new fD(e,t,r):t==="array-contains"?new gD(e,r):t==="in"?new yD(e,r):t==="not-in"?new vD(e,r):t==="array-contains-any"?new _D(e,r):new Nt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new pD(e,r):new mD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Va(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(Va(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends Qx{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Pr(e,t)}matches(e){return Xx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Xx(n){return n.op==="and"}function Yx(n){return dD(n)&&Xx(n)}function dD(n){for(const e of n.filters)if(e instanceof Pr)return!1;return!0}function hm(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+La(n.value);if(Yx(n))return n.filters.map(e=>hm(e)).join(",");{const e=n.filters.map(t=>hm(t)).join(",");return`${n.op}(${e})`}}function Jx(n,e){return n instanceof Nt?function(r,s){return s instanceof Nt&&r.op===s.op&&r.field.isEqual(s.field)&&Jr(r.value,s.value)}(n,e):n instanceof Pr?function(r,s){return s instanceof Pr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,h)=>a&&Jx(l,s.filters[h]),!0):!1}(n,e):void ke()}function Zx(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${La(t.value)}`}(n):n instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(Zx).join(" ,")+"}"}(n):"Filter"}class fD extends Nt{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class pD extends Nt{constructor(e,t){super(e,"in",t),this.keys=eI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mD extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=eI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class gD extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cg(t)&&cu(t.arrayValue,this.value)}}class yD extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cu(this.value.arrayValue,t)}}class vD extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cu(this.value.arrayValue,t)}}class _D extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t=null,r=[],s=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.le=null}}function lw(n,e=null,t=[],r=[],s=null,a=null,l=null){return new wD(n,e,t,r,s,a,l)}function hg(n){const e=Ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>hm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),pd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>La(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>La(r)).join(",")),e.le=t}return e.le}function dg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Jx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aw(n.startAt,e.startAt)&&aw(n.endAt,e.endAt)}function dm(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t=null,r=[],s=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function TD(n,e,t,r,s,a,l,h){return new qa(n,e,t,r,s,a,l,h)}function gd(n){return new qa(n)}function uw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tI(n){return n.collectionGroup!==null}function Kl(n){const e=Ve(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Mt(Jt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new hu(a,r))}),t.has(Jt.keyField().canonicalString())||e.he.push(new hu(Jt.keyField(),r))}return e.he}function qr(n){const e=Ve(n);return e.Pe||(e.Pe=ED(e,Kl(n))),e.Pe}function ED(n,e){if(n.limitType==="F")return lw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new hu(s.field,a)});const t=n.endAt?new Bh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Bh(n.startAt.position,n.startAt.inclusive):null;return lw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function fm(n,e){const t=n.filters.concat([e]);return new qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function pm(n,e,t){return new qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yd(n,e){return dg(qr(n),qr(e))&&n.limitType===e.limitType}function nI(n){return`${hg(qr(n))}|lt:${n.limitType}`}function ya(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>Zx(s)).join(", ")}]`),pd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>La(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>La(s)).join(",")),`Target(${r})`}(qr(n))}; limitType=${n.limitType})`}function vd(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Kl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,h,f){const p=ow(l,h,f);return l.inclusive?p<=0:p<0}(r.startAt,Kl(r),s)||r.endAt&&!function(l,h,f){const p=ow(l,h,f);return l.inclusive?p>=0:p>0}(r.endAt,Kl(r),s))}(n,e)}function xD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rI(n){return(e,t)=>{let r=!1;for(const s of Kl(n)){const a=ID(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function ID(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Va(f,p):ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Fx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new pt(Ee.comparator);function Pi(){return SD}const iI=new pt(Ee.comparator);function Fl(...n){let e=iI;for(const t of n)e=e.insert(t.key,t);return e}function sI(n){let e=iI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function uo(){return Gl()}function oI(){return Gl()}function Gl(){return new Ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const AD=new pt(Ee.comparator),PD=new Mt(Ee.comparator);function ze(...n){let e=PD;for(const t of n)e=e.add(t);return e}const kD=new Mt(Ue);function RD(){return kD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function aI(n){return{integerValue:""+n}}function CD(n,e){return rD(e)?aI(e):fg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function bD(n,e,t){return n instanceof du?function(s,a){const l={fields:{[$x]:{stringValue:zx},[Hx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ug(a)&&(a=md(a)),a&&(l.fields[Wx]=a),{mapValue:l}}(t,e):n instanceof fu?uI(n,e):n instanceof pu?cI(n,e):function(s,a){const l=lI(s,a),h=cw(l)+cw(s.Ie);return cm(l)&&cm(s.Ie)?aI(h):fg(s.serializer,h)}(n,e)}function ND(n,e,t){return n instanceof fu?uI(n,e):n instanceof pu?cI(n,e):t}function lI(n,e){return n instanceof zh?function(r){return cm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class du extends _d{}class fu extends _d{constructor(e){super(),this.elements=e}}function uI(n,e){const t=hI(e);for(const r of n.elements)t.some(s=>Jr(s,r))||t.push(r);return{arrayValue:{values:t}}}class pu extends _d{constructor(e){super(),this.elements=e}}function cI(n,e){let t=hI(e);for(const r of n.elements)t=t.filter(s=>!Jr(s,r));return{arrayValue:{values:t}}}class zh extends _d{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function cw(n){return kt(n.integerValue||n.doubleValue)}function hI(n){return cg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t){this.field=e,this.transform=t}}function VD(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof fu&&s instanceof fu||r instanceof pu&&s instanceof pu?Da(r.elements,s.elements,Jr):r instanceof zh&&s instanceof zh?Jr(r.Ie,s.Ie):r instanceof du&&s instanceof du}(n.transform,e.transform)}class LD{constructor(e,t){this.version=e,this.transformResults=t}}class tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class wd{}function dI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pg(n.key,tr.none()):new bu(n.key,n.data,tr.none());{const t=n.data,r=Cn.empty();let s=new Mt(Jt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Ns(n.key,r,new Fn(s.toArray()),tr.none())}}function OD(n,e,t){n instanceof bu?function(s,a,l){const h=s.value.clone(),f=dw(s.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ns?function(s,a,l){if(!Eh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=dw(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(fI(s)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Ql(n,e,t,r){return n instanceof bu?function(a,l,h,f){if(!Eh(a.precondition,l))return h;const p=a.value.clone(),g=fw(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ns?function(a,l,h,f){if(!Eh(a.precondition,l))return h;const p=fw(a.fieldTransforms,f,l),g=l.data;return g.setAll(fI(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,h){return Eh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(n,e,t)}function MD(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=lI(r.transform,s||null);a!=null&&(t===null&&(t=Cn.empty()),t.set(r.field,a))}return t||null}function hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Da(r,s,(a,l)=>VD(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bu extends wd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ns extends wd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function dw(n,e,t){const r=new Map;Qe(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,h=e.data.field(a.field);r.set(a.field,ND(l,h,t[s]))}return r}function fw(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,bD(a,l,e))}return r}class pg extends wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jD extends wd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&OD(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ql(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ql(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=oI();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=t.has(s.key)?null:h;const f=dI(l,h);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(t,r)=>hw(t,r))&&Da(this.baseMutations,e.baseMutations,(t,r)=>hw(t,r))}}class mg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Qe(e.mutations.length===r.length);let s=function(){return AD}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new mg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,qe;function zD(n){switch(n){case X.OK:return ke();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ke()}}function pI(n){if(n===void 0)return Ai("GRPC error has no .code"),X.UNKNOWN;switch(n){case bt.OK:return X.OK;case bt.CANCELLED:return X.CANCELLED;case bt.UNKNOWN:return X.UNKNOWN;case bt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case bt.INTERNAL:return X.INTERNAL;case bt.UNAVAILABLE:return X.UNAVAILABLE;case bt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case bt.NOT_FOUND:return X.NOT_FOUND;case bt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case bt.ABORTED:return X.ABORTED;case bt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case bt.DATA_LOSS:return X.DATA_LOSS;default:return ke()}}(qe=bt||(bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new vs([4294967295,4294967295],0);function pw(n){const e=Mx().encode(n),t=new Cx;return t.update(e),new Uint8Array(t.digest())}function mw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new vs([t,r],0),new vs([s,a],0)]}class gg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bl(`Invalid padding: ${t}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=vs.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(vs.fromNumber(r)));return s.compare($D)===1&&(s=new vs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=pw(e),[r,s]=mw(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new gg(a,s,t);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.Ee===0)return;const t=pw(e),[r,s]=mw(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Td(Ne.min(),s,new pt(Ue),Pi(),ze())}}class Nu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nu(r,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class mI{constructor(e,t){this.targetId=e,this.ge=t}}class gI{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class gw{constructor(){this.pe=0,this.ye=yw(),this.we=Zt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ze(),t=ze(),r=ze();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ke()}}),new Nu(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=yw()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class WD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pi(),this.$e=oh(),this.Ue=oh(),this.Ke=new pt(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const a=s.target;if(dm(a))if(r===0){const l=new Ee(a.path);this.ze(t,l,un.newNoDocument(l,Ne.min()))}else Qe(r===1);else{const l=this.et(t);if(l!==r){const h=this.tt(e),f=h?this.nt(h,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,h;try{l=xs(r).toUint8Array()}catch(f){if(f instanceof Bx)return Na("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new gg(l,s,a)}catch(f){return Na(f instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const l=this.ke.it(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,a,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const h=this.Xe(l);if(h){if(a.current&&dm(h.target)){const f=new Ee(h.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,un.newNoDocument(f,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=ze();this.Ue.forEach((a,l)=>{let h=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new Td(e,t,this.Ke,this.Qe,r);return this.Qe=Pi(),this.$e=oh(),this.Ue=oh(),this.Ke=new pt(Ue),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new gw,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Mt(Ue),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gw),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function oh(){return new pt(Ee.comparator)}function yw(){return new pt(Ee.comparator)}const HD={asc:"ASCENDING",desc:"DESCENDING"},qD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KD={and:"AND",or:"OR"};class GD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mm(n,e){return n.useProto3Json||pd(e)?e:{value:e}}function $h(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QD(n,e){return $h(n,e.toTimestamp())}function Kr(n){return Qe(!!n),Ne.fromTimestamp(function(t){const r=Es(t);return new vt(r.seconds,r.nanos)}(n))}function yg(n,e){return gm(n,e).canonicalString()}function gm(n,e){const t=function(s){return new it(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function vI(n){const e=it.fromString(n);return Qe(xI(e)),e}function ym(n,e){return yg(n.databaseId,e.path)}function kp(n,e){const t=vI(e);if(t.get(1)!==n.databaseId.projectId)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(wI(t))}function _I(n,e){return yg(n.databaseId,e)}function XD(n){const e=vI(n);return e.length===4?it.emptyPath():wI(e)}function vm(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wI(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function vw(n,e,t){return{name:ym(n,e),fields:t.value.mapValue.fields}}function YD(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Qe(g===void 0||typeof g=="string"),Zt.fromBase64String(g||"")):(Qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Zt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=p.code===void 0?X.UNKNOWN:pI(p.code);return new me(g,p.message||"")}(l);t=new gI(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=kp(n,r.document.name),a=Kr(r.document.updateTime),l=r.document.createTime?Kr(r.document.createTime):Ne.min(),h=new Cn({mapValue:{fields:r.document.fields}}),f=un.newFoundDocument(s,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];t=new xh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=kp(n,r.document),a=r.readTime?Kr(r.readTime):Ne.min(),l=un.newNoDocument(s,a),h=r.removedTargetIds||[];t=new xh([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=kp(n,r.document),a=r.removedTargetIds||[];t=new xh([],a,s,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new BD(s,a),h=r.targetId;t=new mI(h,l)}}return t}function JD(n,e){let t;if(e instanceof bu)t={update:vw(n,e.key,e.value)};else if(e instanceof pg)t={delete:ym(n,e.key)};else if(e instanceof Ns)t={update:vw(n,e.key,e.data),updateMask:a2(e.fieldMask)};else{if(!(e instanceof jD))return ke();t={verify:ym(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof du)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof fu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zh)return{fieldPath:l.field.canonicalString(),increment:h.Ie};throw ke()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:QD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke()}(n,e.precondition)),t}function ZD(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(s,a){let l=s.updateTime?Kr(s.updateTime):Kr(a);return l.isEqual(Ne.min())&&(l=Kr(a)),new LD(l,s.transformResults||[])}(t,e))):[]}function e2(n,e){return{documents:[_I(n,e.path)]}}function t2(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_I(n,s);const a=function(p){if(p.length!==0)return EI(Pr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:va(E.field),direction:i2(E.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=mm(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:s}}function n2(n){let e=XD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Qe(r===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const E=TI(_);return E instanceof Pr&&Yx(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(E=>function(N){return new hu(_a(N.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,pd(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(_){const E=!!_.before,I=_.values||[];return new Bh(I,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,I=_.values||[];return new Bh(I,E)}(t.endAt)),TD(e,s,l,a,h,"F",f,p)}function r2(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function TI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_a(t.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_a(t.unaryFilter.field);return Nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_a(t.unaryFilter.field);return Nt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_a(t.unaryFilter.field);return Nt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(_a(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pr.create(t.compositeFilter.filters.map(r=>TI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function i2(n){return HD[n]}function s2(n){return qD[n]}function o2(n){return KD[n]}function va(n){return{fieldPath:n.canonicalString()}}function _a(n){return Jt.fromServerFormat(n.fieldPath)}function EI(n){return n instanceof Nt?function(t){if(t.op==="=="){if(sw(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NAN"}};if(iw(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sw(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NOT_NAN"}};if(iw(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(t.field),op:s2(t.op),value:t.value}}}(n):n instanceof Pr?function(t){const r=t.getFilters().map(s=>EI(s));return r.length===1?r[0]:{compositeFilter:{op:o2(t.op),filters:r}}}(n):ke()}function a2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,t,r,s,a=Ne.min(),l=Ne.min(),h=Zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.Tt=e}}function u2(n){const e=n2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.Tn=new h2}addToCollectionParentIndex(e,t){return this.Tn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Ts.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class h2{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Mt(it.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},II=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(II,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Oa(0)}static Kn(){return new Oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="LruGarbageCollector",d2=1048576;function Tw([n,e],[t,r]){const s=Ue(n,t);return s===0?Ue(e,r):s}class f2{constructor(e){this.Hn=e,this.buffer=new Mt(Tw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Tw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class p2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(ww,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ha(t)?pe(ww,"Ignoring IndexedDB error during garbage collection: ",t):await Wa(t)}await this.er(3e5)})}}class m2{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(fd.ae);const r=new f2(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(_w)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_w):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,a,l,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),ga()<=Be.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function g2(n,e){return new m2(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.changes=new Ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ql(r.mutation,s,Fn.empty(),vt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ze()){const s=uo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let l=Fl();return a.forEach((h,f)=>{l=l.insert(h,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=uo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ze()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,r,s){let a=Pi();const l=Gl(),h=function(){return Gl()}();return t.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Ns)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Ql(g.mutation,p,g.mutation.getFieldMask(),vt.now())):l.set(p.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return h.set(p,new v2(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Gl();let s=new pt((l,h)=>l-h),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Fn.empty();g=h.applyToLocalView(p,g),r.set(f,g);const _=(s.get(h.batchId)||ze()).add(f);s=s.insert(h.batchId,_)})}).next(()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,_=oI();g.forEach(E=>{if(!a.has(E)){const I=dI(t.get(E),r.get(E));I!==null&&_.set(E,I),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Y.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Y.resolve(uo());let h=au,f=a;return l.next(p=>Y.forEach(p,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,ze())).next(g=>({batchId:h,changes:sI(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let s=Fl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=Fl();return this.indexManager.getCollectionParents(e,a).next(h=>Y.forEach(h,f=>{const p=function(_,E){return new qa(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,un.newInvalidDocument(g)))});let h=Fl();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Ql(g.mutation,p,Fn.empty(),vt.now()),vd(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Y.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Kr(s.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:u2(s.bundledQuery),readTime:Kr(s.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.overlays=new pt(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=uo();return Y.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Et(e,t,a)}),Y.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const s=uo(),a=t.length+1,l=new Ee(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new pt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=uo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=uo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return Y.resolve(h)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new FD(t,r));let a=this.Rr.get(t);a===void 0&&(a=ze(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.Vr=new Mt($t.mr),this.gr=new Mt($t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new $t(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new $t(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ee(new it([])),r=new $t(t,e),s=new $t(t,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new it([])),r=new $t(t,e),s=new $t(t,e+1);let a=ze();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new $t(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt($t.mr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new UD(a,t,r,s);this.mutationQueue.push(l);for(const h of s)this.Mr=this.Mr.add(new $t(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,t){return Y.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),a=s<0?0:s;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?lg:this.Fr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),s=new $t(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const h=this.Or(l.Cr);a.push(h)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mt(Ue);return t.forEach(s=>{const a=new $t(s,0),l=new $t(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],h=>{r=r.add(h.Cr)})}),Y.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const l=new $t(new Ee(a),0);let h=new Mt(Ue);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Cr)),!0)},l),Y.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Qe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Y.forEach(t.mutations,s=>{const a=new $t(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new $t(t,0),s=this.Mr.firstAfterOrEqual(r);return Y.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.kr=e,this.docs=function(){return new pt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=Pi();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():un.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Pi();const l=t.path,h=new Ee(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||ZN(JN(g),r)<=0||(s.has(g.key)||vd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,t,r,s){ke()}qr(e,t){return Y.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new S2(this)}getSize(e){return Y.resolve(this.size)}}class S2 extends y2{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Y.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.persistence=e,this.Qr=new Ao(t=>hg(t),dg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vg,this.targetCount=0,this.Kr=Oa.Un()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Y.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Oa(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.zn(t),Y.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Qr.forEach((l,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),Y.waitFor(a).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new fd(0),this.zr=!1,this.zr=!0,this.jr=new E2,this.referenceDelegate=e(this),this.Hr=new A2(this),this.indexManager=new c2,this.remoteDocumentCache=function(s){return new I2(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new l2(t),this.Yr=new w2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new x2(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const s=new P2(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,t){return Y.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class P2 extends tD{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.ti=new vg,this.ni=null}static ri(e){return new _g(e)}get ii(){if(this.ni)return this.ni;throw ke()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Y.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,r=>{const s=Ee.fromPath(r);return this.si(e,s).next(a=>{a||t.removeEntry(s,Ne.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Y.or([()=>Y.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Wh{constructor(e,t){this.persistence=e,this.oi=new Ao(r=>iD(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=g2(this,t)}static ri(e,t){return new Wh(e,t)}Zr(){}Xr(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Y.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?Y.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,t).next(h=>{h||(r++,a.removeEntry(l,Ne.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Y.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wh(e.data.value)),t}ar(e,t,r){return Y.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return Y.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=ze(),s=ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new wg(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return uR()?8:nD(dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new k2;return this._s(e,t,l).next(h=>{if(a.result=h,this.Xi)return this.us(e,t,l,h.size)})}).next(()=>a.result)}us(e,t,r,s){return r.documentReadCount<this.es?(ga()<=Be.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(ga()<=Be.DEBUG&&pe("QueryEngine","Query:",ya(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(ga()<=Be.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):Y.resolve())}rs(e,t){if(uw(t))return Y.resolve(null);let r=qr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=pm(t,null,"F"),r=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=ze(...a);return this.ns.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,h);return this.ls(t,p,l,f.readTime)?this.rs(e,pm(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,s){return uw(t)||s.isEqual(Ne.min())?Y.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,s)?Y.resolve(null):(ga()<=Be.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ya(t)),this.hs(e,l,t,YN(s,au)).next(h=>h))})}cs(e,t){let r=new Mt(rI(e));return t.forEach((s,a)=>{vd(e,a)&&(r=r.add(a))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,t,r){return ga()<=Be.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ya(t)),this.ns.getDocumentsMatchingQuery(e,t,Ts.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="LocalStore",C2=3e8;class b2{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new pt(Ue),this.Is=new Ao(a=>hg(a),dg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function N2(n,e,t,r){return new b2(n,e,t,r)}async function AI(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let f=ze();for(const p of s){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:h}))})})}function D2(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,p,g){const _=p.batch,E=_.keys();let I=Y.resolve();return E.forEach(N=>{I=I.next(()=>g.getEntry(f,N)).next(L=>{const C=p.docVersions.get(N);Qe(C!==null),L.version.compareTo(C)<0&&(_.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),g.addEntry(L)))})}),I.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=ze();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function PI(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function V2(n,e){const t=Ve(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const E=s.get(_);if(!E)return;h.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken(Zt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(_,I),function(L,C,j){return L.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=C2?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,I,g)&&h.push(t.Hr.updateTargetData(a,I))});let f=Pi(),p=ze();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(L2(a,l,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(Ne.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return Y.waitFor(h).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ts=s,a))}function L2(n,e,t){let r=ze(),s=ze();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Pi();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):pe(Tg,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:s}})}function O2(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=lg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M2(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(a=>a?(s=a,Y.resolve(s)):t.Hr.allocateTargetId(r).next(l=>(s=new fs(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function _m(n,e,t){const r=Ve(n),s=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Ha(l))throw l;pe(Tg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function Ew(n,e,t){const r=Ve(n);let s=Ne.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=Ve(f),E=_.Is.get(g);return E!==void 0?Y.resolve(_.Ts.get(E)):_.Hr.getTargetData(p,g)}(r,l,qr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,h.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?s:Ne.min(),t?a:ze())).next(h=>(j2(r,xD(e),h),{documents:h,gs:a})))}function j2(n,e,t){let r=n.Es.get(e)||Ne.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class xw{constructor(){this.activeTargetIds=RD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U2{constructor(){this.ho=new xw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new xw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="ConnectivityMonitor";class Sw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(Iw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(Iw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function wm(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="RestConnection",B2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Uh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,a){const l=wm(),h=this.bo(e,t.toUriEncodedString());pe(Rp,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,s,a),this.vo(e,h,f,r).then(p=>(pe(Rp,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Na(Rp,`RPC '${e}' ${l} failed with error: `,p,"url: ",h,"request:",r),p})}Co(e,t,r,s,a,l){return this.So(e,t,r,s,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,t){const r=B2[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class W2 extends z2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const a=wm();return new Promise((l,h)=>{const f=new bx;f.setWithCredentials(!0),f.listenOnce(Nx.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case _h.NO_ERROR:const g=f.getResponseJson();pe(on,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case _h.TIMEOUT:pe(on,`RPC '${e}' ${a} timed out`),h(new me(X.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const _=f.getStatus();if(pe(on,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const N=function(C){const j=C.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(j)>=0?j:X.UNKNOWN}(I.status);h(new me(N,I.message))}else h(new me(X.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new me(X.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{pe(on,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);pe(on,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const s=wm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Lx(),h=Vx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");pe(on,`Creating RPC '${e}' stream ${s}: ${g}`,f);const _=l.createWebChannel(g,f);let E=!1,I=!1;const N=new $2({Fo:C=>{I?pe(on,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(E||(pe(on,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),pe(on,`RPC '${e}' stream ${s} sending:`,C),_.send(C))},Mo:()=>_.close()}),L=(C,j,G)=>{C.listen(j,q=>{try{G(q)}catch(Z){setTimeout(()=>{throw Z},0)}})};return L(_,Ul.EventType.OPEN,()=>{I||(pe(on,`RPC '${e}' stream ${s} transport opened.`),N.Qo())}),L(_,Ul.EventType.CLOSE,()=>{I||(I=!0,pe(on,`RPC '${e}' stream ${s} transport closed`),N.Uo())}),L(_,Ul.EventType.ERROR,C=>{I||(I=!0,Na(on,`RPC '${e}' stream ${s} transport errored:`,C),N.Uo(new me(X.UNAVAILABLE,"The operation could not be completed")))}),L(_,Ul.EventType.MESSAGE,C=>{var j;if(!I){const G=C.data[0];Qe(!!G);const q=G,Z=(q==null?void 0:q.error)||((j=q[0])===null||j===void 0?void 0:j.error);if(Z){pe(on,`RPC '${e}' stream ${s} received error:`,Z);const ee=Z.status;let se=function(k){const D=bt[k];if(D!==void 0)return pI(D)}(ee),b=Z.message;se===void 0&&(se=X.INTERNAL,b="Unknown error status: "+ee+" with message "+Z.message),I=!0,N.Uo(new me(se,b)),_.close()}else pe(on,`RPC '${e}' stream ${s} received:`,G),N.Ko(G)}}),L(h,Dx.STAT_EVENT,C=>{C.stat===am.PROXY?pe(on,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===am.NOPROXY&&pe(on,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(n){return new GD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="PersistentStream";class RI{constructor(e,t,r,s,a,l,h,f){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new kI(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new me(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(Aw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(Aw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H2 extends RI{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=YD(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ne.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ne.min():l.readTime?Kr(l.readTime):Ne.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=vm(this.serializer),t.addTarget=function(a,l){let h;const f=l.target;if(h=dm(f)?{documents:e2(a,f)}:{query:t2(a,f).ht},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=yI(a,l.resumeToken);const p=mm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ne.min())>0){h.readTime=$h(a,l.snapshotVersion.toTimestamp());const p=mm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=r2(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=vm(this.serializer),t.removeTarget=e,this.I_(t)}}class q2 extends RI{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=ZD(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=vm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>JD(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{}class G2 extends K2{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,gm(t,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(X.UNKNOWN,a.toString())})}Co(e,t,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Co(e,gm(t,r),s,l,h,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(X.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Q2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ai(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class X2{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Po(this)&&(pe(wo,"Restarting streams for network reachability change."),await async function(f){const p=Ve(f);p.W_.add(4),await Du(p),p.j_.set("Unknown"),p.W_.delete(4),await xd(p)}(this))})}),this.j_=new Q2(r,s)}}async function xd(n){if(Po(n))for(const e of n.G_)await e(!0)}async function Du(n){for(const e of n.G_)await e(!1)}function CI(n,e){const t=Ve(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Sg(t)?Ig(t):Ka(t).c_()&&xg(t,e))}function Eg(n,e){const t=Ve(n),r=Ka(t);t.K_.delete(e),r.c_()&&bI(t,e),t.K_.size===0&&(r.c_()?r.P_():Po(t)&&t.j_.set("Unknown"))}function xg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ka(n).y_(e)}function bI(n,e){n.H_.Ne(e),Ka(n).w_(e)}function Ig(n){n.H_=new WD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ka(n).start(),n.j_.B_()}function Sg(n){return Po(n)&&!Ka(n).u_()&&n.K_.size>0}function Po(n){return Ve(n).W_.size===0}function NI(n){n.H_=void 0}async function Y2(n){n.j_.set("Online")}async function J2(n){n.K_.forEach((e,t)=>{xg(n,e)})}async function Z2(n,e){NI(n),Sg(n)?(n.j_.q_(e),Ig(n)):n.j_.set("Unknown")}async function eV(n,e,t){if(n.j_.set("Online"),e instanceof gI&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const h of a.targetIds)s.K_.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.K_.delete(h),s.H_.removeTarget(h))}(n,e)}catch(r){pe(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hh(n,r)}else if(e instanceof xh?n.H_.We(e):e instanceof mI?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ne.min()))try{const r=await PI(n.localStore);t.compareTo(r)>=0&&await function(a,l){const h=a.H_.ot(l);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.K_.get(p);g&&a.K_.set(p,g.withResumeToken(f.resumeToken,l))}}),h.targetMismatches.forEach((f,p)=>{const g=a.K_.get(f);if(!g)return;a.K_.set(f,g.withResumeToken(Zt.EMPTY_BYTE_STRING,g.snapshotVersion)),bI(a,f);const _=new fs(g.target,f,p,g.sequenceNumber);xg(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(wo,"Failed to raise snapshot:",r),await Hh(n,r)}}async function Hh(n,e,t){if(!Ha(e))throw e;n.W_.add(1),await Du(n),n.j_.set("Offline"),t||(t=()=>PI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(wo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await xd(n)})}function DI(n,e){return e().catch(t=>Hh(n,t,e))}async function Id(n){const e=Ve(n),t=Ss(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:lg;for(;tV(e);)try{const s=await O2(e.localStore,r);if(s===null){e.U_.length===0&&t.P_();break}r=s.batchId,nV(e,s)}catch(s){await Hh(e,s)}VI(e)&&LI(e)}function tV(n){return Po(n)&&n.U_.length<10}function nV(n,e){n.U_.push(e);const t=Ss(n);t.c_()&&t.S_&&t.b_(e.mutations)}function VI(n){return Po(n)&&!Ss(n).u_()&&n.U_.length>0}function LI(n){Ss(n).start()}async function rV(n){Ss(n).C_()}async function iV(n){const e=Ss(n);for(const t of n.U_)e.b_(t.mutations)}async function sV(n,e,t){const r=n.U_.shift(),s=mg.from(r,e,t);await DI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Id(n)}async function oV(n,e){e&&Ss(n).S_&&await async function(r,s){if(function(l){return zD(l)&&l!==X.ABORTED}(s.code)){const a=r.U_.shift();Ss(r).h_(),await DI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Id(r)}}(n,e),VI(n)&&LI(n)}async function Pw(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),pe(wo,"RemoteStore received new credentials");const r=Po(t);t.W_.add(3),await Du(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await xd(t)}async function aV(n,e){const t=Ve(n);e?(t.W_.delete(2),await xd(t)):e||(t.W_.add(2),await Du(t),t.j_.set("Unknown"))}function Ka(n){return n.J_||(n.J_=function(t,r,s){const a=Ve(t);return a.M_(),new H2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:Y2.bind(null,n),No:J2.bind(null,n),Lo:Z2.bind(null,n),p_:eV.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Sg(n)?Ig(n):n.j_.set("Unknown")):(await n.J_.stop(),NI(n))})),n.J_}function Ss(n){return n.Y_||(n.Y_=function(t,r,s){const a=Ve(t);return a.M_(),new q2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:rV.bind(null,n),Lo:oV.bind(null,n),D_:iV.bind(null,n),v_:sV.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Id(n)):(await n.Y_.stop(),n.U_.length>0&&(pe(wo,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,h=new Ag(e,t,l,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),Ha(n))return new me(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{static emptySet(e){return new Ca(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Fl(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.Z_=new pt(Ee.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ke():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ma{constructor(e,t,r,s,a,l,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Ma(e,t,Ca.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class uV{constructor(){this.queries=Rw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=Ve(t),a=s.queries;s.queries=Rw(),a.forEach((l,h)=>{for(const f of h.ta)f.onError(r)})})(this,new me(X.ABORTED,"Firestore shutting down"))}}function Rw(){return new Ao(n=>nI(n),yd)}async function kg(n,e){const t=Ve(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new lV,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(s,!0);break;case 1:a.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const h=Pg(l,`Initialization of query '${ya(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Cg(t)}async function Rg(n,e){const t=Ve(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function cV(n,e){const t=Ve(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const h of l.ta)h.oa(s)&&(r=!0);l.ea=s}}r&&Cg(t)}function hV(n,e,t){const r=Ve(n),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(t);r.queries.delete(e)}function Cg(n){n.ia.forEach(e=>{e.next()})}var Tm,Cw;(Cw=Tm||(Tm={}))._a="default",Cw.Cache="cache";class bg{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.key=e}}class MI{constructor(e){this.key=e}}class dV{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=rI(e),this.wa=new Ca(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new kw,s=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const E=s.get(g),I=vd(this.query,_)?_:null,N=!!E&&this.mutatedKeys.has(E.key),L=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let C=!1;E&&I?E.data.isEqual(I.data)?N!==L&&(r.track({type:3,doc:I}),C=!0):this.va(E,I)||(r.track({type:2,doc:I}),C=!0,(f&&this.ya(I,f)>0||p&&this.ya(I,p)<0)&&(h=!0)):!E&&I?(r.track({type:0,doc:I}),C=!0):E&&!I&&(r.track({type:1,doc:E}),C=!0,(f||p)&&(h=!0)),C&&(I?(l=l.add(I),a=L?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:h,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(I,N){const L=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return L(I)-L(N)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),s=s!=null&&s;const h=t&&!s?this.Fa():[],f=this.pa.size===0&&this.current&&!s?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new Ma(this.query,e.wa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new kw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new MI(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new OI(r))}),t}Oa(e){this.fa=e.gs,this.pa=ze();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ma.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ng="SyncEngine";class fV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pV{constructor(e){this.key=e,this.Ba=!1}}class mV{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Ao(h=>nI(h),yd),this.qa=new Map,this.Qa=new Set,this.$a=new pt(Ee.comparator),this.Ua=new Map,this.Ka=new vg,this.Wa={},this.Ga=new Map,this.za=Oa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function gV(n,e,t=!0){const r=$I(n);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await jI(r,e,t,!0),s}async function yV(n,e){const t=$I(n);await jI(t,e,!0,!1)}async function jI(n,e,t,r){const s=await M2(n.localStore,qr(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await vV(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&CI(n.remoteStore,s),h}async function vV(n,e,t,r,s){n.Ha=(_,E,I)=>async function(L,C,j,G){let q=C.view.ba(j);q.ls&&(q=await Ew(L.localStore,C.query,!1).then(({documents:b})=>C.view.ba(b,q)));const Z=G&&G.targetChanges.get(C.targetId),ee=G&&G.targetMismatches.get(C.targetId)!=null,se=C.view.applyChanges(q,L.isPrimaryClient,Z,ee);return Nw(L,C.targetId,se.Ma),se.snapshot}(n,_,E,I);const a=await Ew(n.localStore,e,!0),l=new dV(e,a.gs),h=l.ba(a.documents),f=Nu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=l.applyChanges(h,n.isPrimaryClient,f);Nw(n,t,p.Ma);const g=new fV(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function _V(n,e,t){const r=Ve(n),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!yd(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _m(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Eg(r.remoteStore,s.targetId),Em(r,s.targetId)}).catch(Wa)):(Em(r,s.targetId),await _m(r.localStore,s.targetId,!0))}async function wV(n,e){const t=Ve(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Eg(t.remoteStore,r.targetId))}async function TV(n,e,t){const r=kV(n);try{const s=await function(l,h){const f=Ve(l),p=vt.now(),g=h.reduce((I,N)=>I.add(N.key),ze());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let N=Pi(),L=ze();return f.ds.getEntries(I,g).next(C=>{N=C,N.forEach((j,G)=>{G.isValidDocument()||(L=L.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,N)).next(C=>{_=C;const j=[];for(const G of h){const q=MD(G,_.get(G.key).overlayedDocument);q!=null&&j.push(new Ns(G.key,q,Gx(q.value.mapValue),tr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,j,h)}).next(C=>{E=C;const j=C.applyToLocalDocumentSet(_,L);return f.documentOverlayCache.saveOverlays(I,C.batchId,j)})}).then(()=>({batchId:E.batchId,changes:sI(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,h,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new pt(Ue)),p=p.insert(h,f),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,t),await Vu(r,s.changes),await Id(r.remoteStore)}catch(s){const a=Pg(s,"Failed to persist write");t.reject(a)}}async function UI(n,e){const t=Ve(n);try{const r=await V2(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t.Ua.get(a);l&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?Qe(l.Ba):s.removedDocuments.size>0&&(Qe(l.Ba),l.Ba=!1))}),await Vu(t,r,e)}catch(r){await Wa(r)}}function bw(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((a,l)=>{const h=l.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(l,h){const f=Ve(l);f.onlineState=h;let p=!1;f.queries.forEach((g,_)=>{for(const E of _.ta)E.sa(h)&&(p=!0)}),p&&Cg(f)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EV(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ua.get(e),a=s&&s.key;if(a){let l=new pt(Ee.comparator);l=l.insert(a,un.newNoDocument(a,Ne.min()));const h=ze().add(a),f=new Td(Ne.min(),new Map,new pt(Ue),l,h);await UI(r,f),r.$a=r.$a.remove(a),r.Ua.delete(e),Dg(r)}else await _m(r.localStore,e,!1).then(()=>Em(r,e,t)).catch(Wa)}async function xV(n,e){const t=Ve(n),r=e.batch.batchId;try{const s=await D2(t.localStore,e);BI(t,r,null),FI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Vu(t,s)}catch(s){await Wa(s)}}async function IV(n,e,t){const r=Ve(n);try{const s=await function(l,h){const f=Ve(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(Qe(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);BI(r,e,t),FI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Vu(r,s)}catch(s){await Wa(s)}}function FI(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function BI(n,e,t){const r=Ve(n);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Em(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||zI(n,r)})}function zI(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Eg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Dg(n))}function Nw(n,e,t){for(const r of t)r instanceof OI?(n.Ka.addReference(r.key,e),SV(n,r)):r instanceof MI?(pe(Ng,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||zI(n,r.key)):ke()}function SV(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(Ng,"New document in limbo: "+t),n.Qa.add(r),Dg(n))}function Dg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ee(it.fromString(e)),r=n.za.next();n.Ua.set(r,new pV(t)),n.$a=n.$a.insert(t,r),CI(n.remoteStore,new fs(qr(gd(t.path)),r,"TargetPurposeLimboResolution",fd.ae))}}async function Vu(n,e,t){const r=Ve(n),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((h,f)=>{l.push(r.Ha(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){s.push(p);const _=wg.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(s),await async function(f,p){const g=Ve(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Y.forEach(p,E=>Y.forEach(E.Hi,I=>g.persistence.referenceDelegate.addReference(_,E.targetId,I)).next(()=>Y.forEach(E.Ji,I=>g.persistence.referenceDelegate.removeReference(_,E.targetId,I)))))}catch(_){if(!Ha(_))throw _;pe(Tg,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const I=g.Ts.get(E),N=I.snapshotVersion,L=I.withLastLimboFreeSnapshotVersion(N);g.Ts=g.Ts.insert(E,L)}}}(r.localStore,a))}async function AV(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){pe(Ng,"User change. New user:",e.toKey());const r=await AI(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(h=>{h.forEach(f=>{f.reject(new me(X.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vu(t,r.Rs)}}function PV(n,e){const t=Ve(n),r=t.Ua.get(e);if(r&&r.Ba)return ze().add(r.key);{let s=ze();const a=t.qa.get(e);if(!a)return s;for(const l of a){const h=t.ka.get(l);s=s.unionWith(h.view.Sa)}return s}}function $I(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EV.bind(null,e),e.La.p_=cV.bind(null,e.eventManager),e.La.Ja=hV.bind(null,e.eventManager),e}function kV(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IV.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return N2(this.persistence,new R2,e.initialUser,this.serializer)}Xa(e){return new SI(_g.ri,this.serializer)}Za(e){return new U2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class RV extends qh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Qe(this.persistence.referenceDelegate instanceof Wh);const r=this.persistence.referenceDelegate.garbageCollector;return new p2(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new SI(r=>Wh.ri(r,t),this.serializer)}}class xm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AV.bind(null,this.syncEngine),await aV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uV}()}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),r=function(a){return new W2(a)}(e.databaseInfo);return function(a,l,h,f){return new G2(a,l,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,l,h){return new X2(r,s,a,l,h)}(this.localStore,this.datastore,e.asyncQueue,t=>bw(this.syncEngine,t,0),function(){return Sw.D()?new Sw:new F2}())}createSyncEngine(e,t){return function(s,a,l,h,f,p,g){const _=new mV(s,a,l,h,f,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ve(s);pe(wo,"RemoteStore shutting down."),a.W_.add(5),await Du(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class CV{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=ln.UNAUTHENTICATED,this.clientId=jx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{pe(As,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(pe(As,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Pg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bp(n,e){n.asyncQueue.verifyOperationInProgress(),pe(As,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await AI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Dw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bV(n);pe(As,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Pw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Pw(e.remoteStore,s)),n._onlineComponents=e}async function bV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(As,"Using user provided OfflineComponentProvider");try{await bp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Na("Error using user provided cache. Falling back to memory cache: "+t),await bp(n,new qh)}}else pe(As,"Using default OfflineComponentProvider"),await bp(n,new RV(void 0));return n._offlineComponents}async function WI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(As,"Using user provided OnlineComponentProvider"),await Dw(n,n._uninitializedComponentsProvider._online)):(pe(As,"Using default OnlineComponentProvider"),await Dw(n,new xm))),n._onlineComponents}function NV(n){return WI(n).then(e=>e.syncEngine)}async function Kh(n){const e=await WI(n),t=e.eventManager;return t.onListen=gV.bind(null,e.syncEngine),t.onUnlisten=_V.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wV.bind(null,e.syncEngine),t}function DV(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,h,f,p){const g=new Vg({next:E=>{g.su(),l.enqueueAndForget(()=>Rg(a,_));const I=E.docs.has(h);!I&&E.fromCache?p.reject(new me(X.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?p.reject(new me(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new bg(gd(h.path),g,{includeMetadataChanges:!0,Ta:!0});return kg(a,_)}(await Kh(n),n.asyncQueue,e,t,r)),r.promise}function VV(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,h,f,p){const g=new Vg({next:E=>{g.su(),l.enqueueAndForget(()=>Rg(a,_)),E.fromCache&&f.source==="server"?p.reject(new me(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new bg(h,g,{includeMetadataChanges:!0,Ta:!0});return kg(a,_)}(await Kh(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n,e,t){if(!t)throw new me(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LV(n,e,t,r){if(e===!0&&r===!0)throw new me(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Lw(n){if(!Ee.isDocumentKey(n))throw new me(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ow(n){if(Ee.isDocumentKey(n))throw new me(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sd(n);throw new me(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="firestore.googleapis.com",Mw=!0;class jw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KI,this.ssl=Mw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Mw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=II;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d2)throw new me(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zN;switch(r.type){case"firstParty":return new qN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Vw.get(t);r&&(pe("ComponentProvider","Removing Datastore"),Vw.delete(t),r.terminate())}(this),Promise.resolve()}}function OV(n,e,t,r={}){var s;const a=(n=bn(n,Ad))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;a.host!==KI&&a.host!==h&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:r});if(!mo(f,l)&&(n._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=ln.MOCK_USER;else{p=zE(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new me(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ln(_)}n._authCredentials=new $N(new Ox(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class _s extends Ds{constructor(e,t,r){super(e,t,gd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Ee(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function yi(n,e,...t){if(n=ft(n),qI("collection","path",e),n instanceof Ad){const r=it.fromString(e,...t);return Ow(r),new _s(n,null,r)}{if(!(n instanceof hn||n instanceof _s))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return Ow(r),new _s(n.firestore,null,r)}}function vi(n,e,...t){if(n=ft(n),arguments.length===1&&(e=jx.newId()),qI("doc","path",e),n instanceof Ad){const r=it.fromString(e,...t);return Lw(r),new hn(n,null,new Ee(r))}{if(!(n instanceof hn||n instanceof _s))throw new me(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return Lw(r),new hn(n.firestore,n instanceof _s?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="AsyncQueue";class Fw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new kI(this,"async_queue_retry"),this.Su=()=>{const r=Cp();r&&pe(Uw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Cp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Cp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new xi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ha(e))throw e;pe(Uw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(r);throw Ai("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Ag.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Bw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ki extends Ad{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Fw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fw(e),this._firestoreClient=void 0,await e}}}function MV(n,e){const t=typeof n=="object"?n:Ym(),r=typeof n=="string"?n:Uh,s=ud(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=UE("firestore");a&&OV(s,...a)}return s}function Pd(n){if(n._terminated)throw new me(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jV(n),n._firestoreClient}function jV(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,p,g){return new aD(h,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,HI(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new CV(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(Zt.fromBase64String(e))}catch(t){throw new me(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ja(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=/^__.*__$/;class FV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new bu(e,this.data,t,this.fieldTransforms)}}class GI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Mg{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Gh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(QI(this.Lu)&&UV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class BV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ed(e)}ju(e,t,r,s=!1){return new Mg({Lu:e,methodName:t,zu:r,path:Jt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cd(n){const e=n._freezeSettings(),t=Ed(n._databaseId);return new BV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XI(n,e,t,r,s,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,s);Ug("Data must be an object, but it was:",l,r);const h=YI(r,l);let f,p;if(a.merge)f=new Fn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=Im(e,_,t);if(!l.contains(E))throw new me(X.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);ZI(g,E)||g.push(E)}f=new Fn(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new FV(new Cn(h),f,p)}class bd extends Rd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}class jg extends Rd{_toFieldTransform(e){return new DD(e.path,new du)}isEqual(e){return e instanceof jg}}function zV(n,e,t,r){const s=n.ju(1,e,t);Ug("Data must be an object, but it was:",s,r);const a=[],l=Cn.empty();bs(r,(f,p)=>{const g=Fg(e,f,t);p=ft(p);const _=s.Uu(g);if(p instanceof bd)a.push(g);else{const E=Lu(p,_);E!=null&&(a.push(g),l.set(g,E))}});const h=new Fn(a);return new GI(l,h,s.fieldTransforms)}function $V(n,e,t,r,s,a){const l=n.ju(1,e,t),h=[Im(e,r,t)],f=[s];if(a.length%2!=0)throw new me(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(Im(e,a[E])),f.push(a[E+1]);const p=[],g=Cn.empty();for(let E=h.length-1;E>=0;--E)if(!ZI(p,h[E])){const I=h[E];let N=f[E];N=ft(N);const L=l.Uu(I);if(N instanceof bd)p.push(I);else{const C=Lu(N,L);C!=null&&(p.push(I),g.set(I,C))}}const _=new Fn(p);return new GI(g,_,l.fieldTransforms)}function WV(n,e,t,r=!1){return Lu(t,n.ju(r?4:3,e))}function Lu(n,e){if(JI(n=ft(n)))return Ug("Unsupported field value:",e,n),YI(n,e);if(n instanceof Rd)return function(r,s){if(!QI(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const h of r){let f=Lu(h,s.Ku(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=vt.fromDate(r);return{timestampValue:$h(s.serializer,a)}}if(r instanceof vt){const a=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$h(s.serializer,a)}}if(r instanceof Lg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ja)return{bytesValue:yI(s.serializer,r._byteString)};if(r instanceof hn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:yg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Og)return function(l,h){return{mapValue:{fields:{[qx]:{stringValue:Kx},[Fh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return fg(h.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Sd(r)}`)}(n,e)}function YI(n,e){const t={};return Fx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(n,(r,s)=>{const a=Lu(s,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function JI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof Lg||n instanceof ja||n instanceof hn||n instanceof Rd||n instanceof Og)}function Ug(n,e,t){if(!JI(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Sd(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Im(n,e,t){if((e=ft(e))instanceof kd)return e._internalPath;if(typeof e=="string")return Fg(n,e);throw Gh("Field path arguments must be of type string or ",n,!1,void 0,t)}const HV=new RegExp("[~\\*/\\[\\]]");function Fg(n,e,t){if(e.search(HV)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kd(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gh(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new me(X.INVALID_ARGUMENT,h+n+f)}function ZI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qV extends eS{data(){return super.data()}}function Nd(n,e){return typeof e=="string"?Fg(n,e):e instanceof kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class nS extends Bg{}function Ta(n,e,...t){let r=[];e instanceof Bg&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof zg).length,h=a.filter(f=>f instanceof Dd).length;if(l>1||l>0&&h>0)throw new me(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Dd extends nS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Dd(e,t,r)}_apply(e){const t=this._parse(e);return iS(e._query,t),new Ds(e.firestore,e.converter,fm(e._query,t))}_parse(e){const t=Cd(e.firestore);return function(a,l,h,f,p,g,_){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){$w(_,g);const N=[];for(const L of _)N.push(zw(f,a,L));E={arrayValue:{values:N}}}else E=zw(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||$w(_,g),E=WV(h,l,_,g==="in"||g==="not-in");return Nt.create(p,g,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function cs(n,e,t){const r=e,s=Nd("where",n);return Dd._create(s,r,t)}class zg extends Bg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let l=s;const h=a.getFlattenedFilters();for(const f of h)iS(l,f),l=fm(l,f)}(e._query,t),new Ds(e.firestore,e.converter,fm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $g extends nS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $g(e,t)}_apply(e){const t=function(s,a,l){if(s.startAt!==null)throw new me(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new me(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(a,l)}(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new qa(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function rS(n,e="asc"){const t=e,r=Nd("orderBy",n);return $g._create(r,t)}function zw(n,e,t){if(typeof(t=ft(t))=="string"){if(t==="")throw new me(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tI(e)&&t.indexOf("/")!==-1)throw new me(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(it.fromString(t));if(!Ee.isDocumentKey(r))throw new me(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rw(n,new Ee(r))}if(t instanceof hn)return rw(n,t._key);throw new me(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sd(t)}.`)}function $w(n,e){if(!Array.isArray(n)||n.length===0)throw new me(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iS(n,e){const t=function(s,a){for(const l of s)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KV{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bs(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Fh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>kt(l.doubleValue));return new Og(a)}convertGeoPoint(e){return new Lg(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=md(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const t=Es(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=it.fromString(e);Qe(xI(r));const s=new uu(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return s.isEqual(t)||Ai(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oS extends eS{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Nd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ih extends oS{data(e={}){return super.data(e)}}class aS{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new zl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ih(this._firestore,this._userDataWriter,r.key,r,new zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>{const f=new Ih(s._firestore,s._userDataWriter,h.doc.key,h.doc,new zl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Ih(s._firestore,s._userDataWriter,h.doc.key,h.doc,new zl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:GV(h.type),doc:f,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(n){n=bn(n,hn);const e=bn(n.firestore,ki);return DV(Pd(e),n._key).then(t=>cS(e,n,t))}class Wg extends KV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}function Sm(n){n=bn(n,Ds);const e=bn(n.firestore,ki),t=Pd(e),r=new Wg(e);return tS(n._query),VV(t,n._query).then(s=>new aS(e,r,n,s))}function QV(n,e,t){n=bn(n,hn);const r=bn(n.firestore,ki),s=sS(n.converter,e);return Vd(r,[XI(Cd(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,tr.none())])}function lS(n,e,t,...r){n=bn(n,hn);const s=bn(n.firestore,ki),a=Cd(s);let l;return l=typeof(e=ft(e))=="string"||e instanceof kd?$V(a,"updateDoc",n._key,e,t,r):zV(a,"updateDoc",n._key,e),Vd(s,[l.toMutation(n._key,tr.exists(!0))])}function XV(n){return Vd(bn(n.firestore,ki),[new pg(n._key,tr.none())])}function uS(n,e){const t=bn(n.firestore,ki),r=vi(n),s=sS(n.converter,e);return Vd(t,[XI(Cd(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}function lh(n,...e){var t,r,s;n=ft(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Bw(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Bw(e[l])){const _=e[l];e[l]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let f,p,g;if(n instanceof hn)p=bn(n.firestore,ki),g=gd(n._key.path),f={next:_=>{e[l]&&e[l](cS(p,n,_))},error:e[l+1],complete:e[l+2]};else{const _=bn(n,Ds);p=bn(_.firestore,ki),g=_._query;const E=new Wg(p);f={next:I=>{e[l]&&e[l](new aS(p,E,_,I))},error:e[l+1],complete:e[l+2]},tS(n._query)}return function(E,I,N,L){const C=new Vg(L),j=new bg(I,C,N);return E.asyncQueue.enqueueAndForget(async()=>kg(await Kh(E),j)),()=>{C.su(),E.asyncQueue.enqueueAndForget(async()=>Rg(await Kh(E),j))}}(Pd(p),g,h,f)}function Vd(n,e){return function(r,s){const a=new xi;return r.asyncQueue.enqueueAndForget(async()=>TV(await NV(r),s,a)),a.promise}(Pd(n),e)}function cS(n,e,t){const r=t.docs.get(e._key),s=new Wg(n);return new oS(n,s,e._key,r,new zl(t.hasPendingWrites,t.fromCache),e.converter)}function YV(){return new jg("serverTimestamp")}(function(e,t=!0){(function(s){$a=s})(Io),go(new ws("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new ki(new WN(r.getProvider("auth-internal")),new KN(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),$r(H_,q_,e),$r(H_,q_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="firebasestorage.googleapis.com",dS="storageBucket",JV=2*60*1e3,ZV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends Zr{constructor(e,t,r=0){super(Np(e),`Firebase Storage: ${t} (${Np(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Np(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Np(n){return"storage/"+n}function Hg(){const n="An unknown error occurred, please check the error payload for server response.";return new wt(_t.UNKNOWN,n)}function eL(n){return new wt(_t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function tL(n){return new wt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(_t.UNAUTHENTICATED,n)}function rL(){return new wt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function iL(n){return new wt(_t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function sL(){return new wt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oL(){return new wt(_t.CANCELED,"User canceled the upload/download.")}function aL(n){return new wt(_t.INVALID_URL,"Invalid URL '"+n+"'.")}function lL(n){return new wt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function uL(){return new wt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dS+"' property when initializing the app?")}function cL(){return new wt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hL(){return new wt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dL(n){return new wt(_t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Am(n){return new wt(_t.INVALID_ARGUMENT,n)}function fS(){return new wt(_t.APP_DELETED,"The Firebase app was deleted.")}function fL(n){return new wt(_t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xl(n,e){return new wt(_t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ll(n){throw new wt(_t.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Bn.makeFromUrl(e,t)}catch{return new Bn(e,"")}if(r.path==="")return r;throw lL(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function p(Z){Z.path_=decodeURIComponent(Z.path)}const g="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",I=new RegExp(`^https?://${_}/${g}/b/${s}/o${E}`,"i"),N={bucket:1,path:3},L=t===hS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",j=new RegExp(`^https?://${L}/${s}/${C}`,"i"),q=[{regex:h,indices:f,postModify:a},{regex:I,indices:N,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let Z=0;Z<q.length;Z++){const ee=q[Z],se=ee.regex.exec(e);if(se){const b=se[ee.indices.bucket];let A=se[ee.indices.path];A||(A=""),r=new Bn(b,A),ee.postModify(r);break}}if(r==null)throw aL(e);return r}}class pL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n,e,t){let r=1,s=null,a=null,l=!1,h=0;function f(){return h===2}let p=!1;function g(...C){p||(p=!0,e.apply(null,C))}function _(C){s=setTimeout(()=>{s=null,n(I,f())},C)}function E(){a&&clearTimeout(a)}function I(C,...j){if(p){E();return}if(C){E(),g.call(null,C,...j);return}if(f()||l){E(),g.call(null,C,...j);return}r<64&&(r*=2);let q;h===1?(h=2,q=0):q=(r+Math.random())*1e3,_(q)}let N=!1;function L(C){N||(N=!0,E(),!p&&(s!==null?(C||(h=2),clearTimeout(s),_(0)):C||(h=1)))}return _(0),a=setTimeout(()=>{l=!0,L(!0)},t),L}function gL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(n){return n!==void 0}function vL(n){return typeof n=="object"&&!Array.isArray(n)}function qg(n){return typeof n=="string"||n instanceof String}function Ww(n){return Kg()&&n instanceof Blob}function Kg(){return typeof Blob<"u"}function Hw(n,e,t,r){if(r<e)throw Am(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Am(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function pS(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var fo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(fo||(fo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,t,r,s,a,l,h,f,p,g,_,E=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,N)=>{this.resolve_=I,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new uh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const h=a.getErrorCode()===fo.NO_ERROR,f=a.getStatus();if(!h||_L(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===fo.ABORT;r(!1,new uh(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new uh(p,a))})},t=(r,s)=>{const a=this.resolve_,l=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());yL(f)?a(f):a()}catch(f){l(f)}else if(h!==null){const f=Hg();f.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,f)):l(f)}else if(s.canceled){const f=this.appDelete_?fS():oL();l(f)}else{const f=sL();l(f)}};this.canceled_?t(!1,new uh(!1,null,!0)):this.backoffId_=mL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function TL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function EL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function IL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function SL(n,e,t,r,s,a,l=!0){const h=pS(n.urlParams),f=n.url+h,p=Object.assign({},n.headers);return xL(p,e),TL(p,t),EL(p,a),IL(p,r),new wL(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PL(...n){const e=AL();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Kg())return new Blob(n);throw new wt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(n){if(typeof atob>"u")throw dL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dp{constructor(e,t){this.data=e,this.contentType=t||null}}function CL(n,e){switch(n){case zr.RAW:return new Dp(mS(e));case zr.BASE64:case zr.BASE64URL:return new Dp(gS(n,e));case zr.DATA_URL:return new Dp(NL(e),DL(e))}throw Hg()}function mS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bL(n){let e;try{e=decodeURIComponent(n)}catch{throw Xl(zr.DATA_URL,"Malformed data URL.")}return mS(e)}function gS(n,e){switch(n){case zr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Xl(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case zr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Xl(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=RL(e)}catch(s){throw s.message.includes("polyfill")?s:Xl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class yS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Xl(zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=VL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function NL(n){const e=new yS(n);return e.base64?gS(zr.BASE64,e.rest):bL(e.rest)}function DL(n){return new yS(n).contentType}function VL(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t){let r=0,s="";Ww(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ww(this.data_)){const r=this.data_,s=kL(r,e,t);return s===null?null:new hs(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new hs(r,!0)}}static getBlob(...e){if(Kg()){const t=e.map(r=>r instanceof hs?r.data_:r);return new hs(PL.apply(null,t))}else{const t=e.map(l=>qg(l)?CL(zr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let h=0;h<l.length;h++)s[a++]=l[h]}),new hs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(n){let e;try{e=JSON.parse(n)}catch{return null}return vL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function OL(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function _S(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(n,e){return e}class _n{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||ML}}let ch=null;function jL(n){return!qg(n)||n.length<2?n:_S(n)}function wS(){if(ch)return ch;const n=[];n.push(new _n("bucket")),n.push(new _n("generation")),n.push(new _n("metageneration")),n.push(new _n("name","fullPath",!0));function e(a,l){return jL(l)}const t=new _n("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const s=new _n("size");return s.xform=r,n.push(s),n.push(new _n("timeCreated")),n.push(new _n("updated")),n.push(new _n("md5Hash",null,!0)),n.push(new _n("cacheControl",null,!0)),n.push(new _n("contentDisposition",null,!0)),n.push(new _n("contentEncoding",null,!0)),n.push(new _n("contentLanguage",null,!0)),n.push(new _n("contentType",null,!0)),n.push(new _n("metadata","customMetadata",!0)),ch=n,ch}function UL(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new Bn(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function FL(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return UL(r,n),r}function TS(n,e,t){const r=vS(e);return r===null?null:FL(n,r,t)}function BL(n,e,t,r){const s=vS(e);if(s===null||!qg(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const g=n.bucket,_=n.fullPath,E="/b/"+l(g)+"/o/"+l(_),I=Gg(E,t,r),N=pS({alt:"media",token:p});return I+N})[0]}function zL(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class ES{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){if(!n)throw Hg()}function $L(n,e){function t(r,s){const a=TS(n,s,e);return xS(a!==null),a}return t}function WL(n,e){function t(r,s){const a=TS(n,s,e);return xS(a!==null),BL(a,s,n.host,n._protocol)}return t}function IS(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=rL():s=nL():t.getStatus()===402?s=tL(n.bucket):t.getStatus()===403?s=iL(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function HL(n){const e=IS(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=eL(n.path)),a.serverResponse=s.serverResponse,a}return t}function qL(n,e,t){const r=e.fullServerUrl(),s=Gg(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,h=new ES(s,a,WL(n,t),l);return h.errorHandler=HL(e),h}function KL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function GL(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=KL(null,e)),r}function QL(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function h(){let q="";for(let Z=0;Z<2;Z++)q=q+Math.random().toString().slice(2);return q}const f=h();l["Content-Type"]="multipart/related; boundary="+f;const p=GL(e,r,s),g=zL(p,t),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",I=hs.getBlob(_,r,E);if(I===null)throw cL();const N={name:p.fullPath},L=Gg(a,n.host,n._protocol),C="POST",j=n.maxUploadRetryTime,G=new ES(L,C,$L(n,t),j);return G.urlParams=N,G.headers=l,G.body=I.uploadData(),G.errorHandler=IS(e),G}class XL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw Ll("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ll("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ll("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ll("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ll("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class YL extends XL{initXhr(){this.xhr_.responseType="text"}}function SS(){return new YL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){this._service=e,t instanceof Bn?this._location=t:this._location=Bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new To(e,t)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _S(this._location.path)}get storage(){return this._service}get parent(){const e=LL(this._location.path);if(e===null)return null;const t=new Bn(this._location.bucket,e);return new To(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw fL(e)}}function JL(n,e,t){n._throwIfRoot("uploadBytes");const r=QL(n.storage,n._location,wS(),new hs(e,!0),t);return n.storage.makeRequestWithTokens(r,SS).then(s=>({metadata:s,ref:n}))}function ZL(n){n._throwIfRoot("getDownloadURL");const e=qL(n.storage,n._location,wS());return n.storage.makeRequestWithTokens(e,SS).then(t=>{if(t===null)throw hL();return t})}function eO(n,e){const t=OL(n._location.path,e),r=new Bn(n._location.bucket,t);return new To(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n){return/^[A-Za-z]+:\/\//.test(n)}function nO(n,e){return new To(n,e)}function AS(n,e){if(n instanceof Qg){const t=n;if(t._bucket==null)throw uL();const r=new To(t,t._bucket);return e!=null?AS(r,e):r}else return e!==void 0?eO(n,e):n}function rO(n,e){if(e&&tO(e)){if(n instanceof Qg)return nO(n,e);throw Am("To use ref(service, url), the first argument must be a Storage instance.")}else return AS(n,e)}function qw(n,e){const t=e==null?void 0:e[dS];return t==null?null:Bn.makeFromBucketSpec(t,n)}function iO(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:zE(s,n.app.options.projectId))}class Qg{constructor(e,t,r,s,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=hS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JV,this._maxUploadRetryTime=ZV,this._requests=new Set,s!=null?this._bucket=Bn.makeFromBucketSpec(s,this._host):this._bucket=qw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=qw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new To(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new pL(fS());{const l=SL(e,this._appId,r,s,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Kw="@firebase/storage",Gw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="storage";function sO(n,e,t){return n=ft(n),JL(n,e,t)}function oO(n){return n=ft(n),ZL(n)}function aO(n,e){return n=ft(n),rO(n,e)}function lO(n=Ym(),e){n=ft(n);const r=ud(n,PS).getImmediate({identifier:e}),s=UE("storage");return s&&uO(r,...s),r}function uO(n,e,t,r={}){iO(n,e,t,r)}function cO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Qg(t,r,s,e,Io)}function hO(){go(new ws(PS,cO,"PUBLIC").setMultipleInstances(!0)),$r(Kw,Gw,""),$r(Kw,Gw,"esm2017")}hO();const dO={apiKey:"AIzaSyBMGrCi02KlEzkijxEf8fH6GEZfkKUDbpA",authDomain:"ikpps-cleanify.firebaseapp.com",databaseURL:"https://ikpps-cleanify-default-rtdb.firebaseio.com",projectId:"ikpps-cleanify",storageBucket:"ikpps-cleanify.firebasestorage.app",messagingSenderId:"436494863043",appId:"1:436494863043:web:e0745b0b1a1d6ea202b076",measurementId:"G-XHW7XN0JK3"},Xg=HE(dO),ba=FN(Xg),Qt=MV(Xg),fO=lO(Xg),Yg=F.createContext({});function Jg(n){const e=F.useRef(null);return e.current===null&&(e.current=n()),e.current}const Zg=typeof window<"u",kS=Zg?F.useLayoutEffect:F.useEffect,Ld=F.createContext(null),ey=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class pO extends F.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,s=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mO({children:n,isPresent:e,anchorX:t}){const r=F.useId(),s=F.useRef(null),a=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=F.useContext(ey);return F.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:g,right:_}=a.current;if(e||!s.current||!h||!f)return;const E=t==="left"?`left: ${g}`:`right: ${_}`;s.current.dataset.motionPopId=r;const I=document.createElement("style");return l&&(I.nonce=l),document.head.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(I)}},[e]),T.jsx(pO,{isPresent:e,childRef:s,sizeRef:a,children:F.cloneElement(n,{ref:s})})}const gO=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:h})=>{const f=Jg(yO),p=F.useId();let g=!0,_=F.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:t,custom:s,onExitComplete:E=>{f.set(E,!0);for(const I of f.values())if(!I)return;r&&r()},register:E=>(f.set(E,!1),()=>f.delete(E))}),[t,f,r]);return a&&g&&(_={..._}),F.useMemo(()=>{f.forEach((E,I)=>f.set(I,!1))},[t]),F.useEffect(()=>{!t&&!f.size&&r&&r()},[t]),l==="popLayout"&&(n=T.jsx(mO,{isPresent:t,anchorX:h,children:n})),T.jsx(Ld.Provider,{value:_,children:n})};function yO(){return new Map}function RS(n=!0){const e=F.useContext(Ld);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=F.useId();F.useEffect(()=>{if(n)return s(a)},[n]);const l=F.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,l]:[!0]}const hh=n=>n.key||"";function Qw(n){const e=[];return F.Children.forEach(n,t=>{F.isValidElement(t)&&e.push(t)}),e}const gi=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:h="left"})=>{const[f,p]=RS(l),g=F.useMemo(()=>Qw(n),[n]),_=l&&!f?[]:g.map(hh),E=F.useRef(!0),I=F.useRef(g),N=Jg(()=>new Map),[L,C]=F.useState(g),[j,G]=F.useState(g);kS(()=>{E.current=!1,I.current=g;for(let ee=0;ee<j.length;ee++){const se=hh(j[ee]);_.includes(se)?N.delete(se):N.get(se)!==!0&&N.set(se,!1)}},[j,_.length,_.join("-")]);const q=[];if(g!==L){let ee=[...g];for(let se=0;se<j.length;se++){const b=j[se],A=hh(b);_.includes(A)||(ee.splice(se,0,b),q.push(b))}return a==="wait"&&q.length&&(ee=q),G(Qw(ee)),C(g),null}const{forceRender:Z}=F.useContext(Yg);return T.jsx(T.Fragment,{children:j.map(ee=>{const se=hh(ee),b=l&&!f?!1:g===j||_.includes(se),A=()=>{if(N.has(se))N.set(se,!0);else return;let k=!0;N.forEach(D=>{D||(k=!1)}),k&&(Z==null||Z(),G(I.current),l&&(p==null||p()),r&&r())};return T.jsx(gO,{isPresent:b,initial:!E.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:b?void 0:A,anchorX:h,children:ee},se)})})};function ty(n,e){n.indexOf(e)===-1&&n.push(e)}function ny(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let CS=()=>{};const Pm={useManualTiming:!1};function ry(n){let e;return()=>(e===void 0&&(e=n()),e)}const nr=n=>n,mu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class iy{constructor(){this.subscriptions=[]}add(e){return ty(this.subscriptions,e),()=>ny(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gr=n=>n*1e3,Qr=n=>n/1e3;function bS(n,e){return e?n*(1e3/e):0}const vO=ry(()=>window.ScrollTimeline!==void 0);class _O{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(vO()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wO extends _O{then(e,t){return this.finished.finally(e).then(()=>{})}}const Xw={value:null},sy=n=>Array.isArray(n)&&typeof n[0]=="number",TO={};function EO(n,e){const t=ry(n);return()=>TO[e]??t()}const gu=EO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),NS=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=n(a/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},$l=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,km={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$l([0,.65,.55,1]),circOut:$l([.55,0,1,.45]),backIn:$l([.31,.01,.66,-.59]),backOut:$l([.33,1.53,.69,.99])};function DS(n,e){if(n)return typeof n=="function"&&gu()?NS(n,e):sy(n)?$l(n):Array.isArray(n)?n.map(t=>DS(t,e)||km.easeOut):km[n]}function xO(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:h="easeInOut",times:f}={},p=void 0){const g={[e]:t};f&&(g.offset=f);const _=DS(h,s);return Array.isArray(_)&&(g.easing=_),n.animate(g,{delay:r,duration:s,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:p})}function oy(n){return typeof n=="function"&&"applyToOptions"in n}function ay(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const Xh=2e4;function ly(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Xh;)e+=t,r=n.next(e);return e>=Xh?1/0:e}function IO(n,e=100,t){const r=t({...n,keyframes:[0,e]}),s=Math.min(ly(r),Xh);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Qr(s)}}function VS(n){return!!(typeof n=="function"&&gu()||!n||typeof n=="string"&&(n in km||gu())||sy(n)||Array.isArray(n)&&n.every(VS))}function Yw(n,e){n.timeline=e,n.onfinish=null}const dh=["read","resolveKeyframes","update","preRender","render","postRender"];function SO(n,e){let t=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function p(_){l.has(_)&&(g.schedule(_),n()),f++,_(h)}const g={schedule:(_,E=!1,I=!1)=>{const L=I&&s?t:r;return E&&l.add(_),L.has(_)||L.add(_),_},cancel:_=>{r.delete(_),l.delete(_)},process:_=>{if(h=_,s){a=!0;return}s=!0,[t,r]=[r,t],t.forEach(p),e&&Xw.value&&Xw.value.frameloop[e].push(f),f=0,t.clear(),s=!1,a&&(a=!1,g.process(_))}};return g}const AO=40;function LS(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=dh.reduce((j,G)=>(j[G]=SO(a,e?G:void 0),j),{}),{read:h,resolveKeyframes:f,update:p,preRender:g,render:_,postRender:E}=l,I=()=>{const j=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,AO),1),s.timestamp=j,s.isProcessing=!0,h.process(s),f.process(s),p.process(s),g.process(s),_.process(s),E.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(I))},N=()=>{t=!0,r=!0,s.isProcessing||n(I)};return{schedule:dh.reduce((j,G)=>{const q=l[G];return j[G]=(Z,ee=!1,se=!1)=>(t||N(),q.schedule(Z,ee,se)),j},{}),cancel:j=>{for(let G=0;G<dh.length;G++)l[dh[G]].cancel(j)},state:s,steps:l}}const{schedule:uy}=LS(queueMicrotask,!1),{schedule:tt,cancel:Ps,state:Xt,steps:Vp}=LS(typeof requestAnimationFrame<"u"?requestAnimationFrame:nr,!0);let Sh;function PO(){Sh=void 0}const Xr={now:()=>(Sh===void 0&&Xr.set(Xt.isProcessing||Pm.useManualTiming?Xt.timestamp:performance.now()),Sh),set:n=>{Sh=n,queueMicrotask(PO)}},xr={x:!1,y:!1};function OS(){return xr.x||xr.y}function kO(n){return n==="x"||n==="y"?xr[n]?null:(xr[n]=!0,()=>{xr[n]=!1}):xr.x||xr.y?null:(xr.x=xr.y=!0,()=>{xr.x=xr.y=!1})}function RO(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const s=(t==null?void 0:t[n])??r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function MS(n,e){const t=RO(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function Jw(n){return!(n.pointerType==="touch"||OS())}function CO(n,e,t={}){const[r,s,a]=MS(n,t),l=h=>{if(!Jw(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=_=>{Jw(_)&&(p(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return r.forEach(h=>{h.addEventListener("pointerenter",l,s)}),a}const jS=(n,e)=>e?n===e?!0:jS(n,e.parentElement):!1,cy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,bO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NO(n){return bO.has(n.tagName)||n.tabIndex!==-1}const Wl=new WeakSet;function Zw(n){return e=>{e.key==="Enter"&&n(e)}}function Lp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const DO=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=Zw(()=>{if(Wl.has(t))return;Lp(t,"down");const s=Zw(()=>{Lp(t,"up")}),a=()=>Lp(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function eT(n){return cy(n)&&!OS()}function VO(n,e,t={}){const[r,s,a]=MS(n,t),l=h=>{const f=h.currentTarget;if(!eT(h)||Wl.has(f))return;Wl.add(f);const p=e(f,h),g=(I,N)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),!(!eT(I)||!Wl.has(f))&&(Wl.delete(f),typeof p=="function"&&p(I,{success:N}))},_=I=>{g(I,f===window||f===document||t.useGlobalTarget||jS(f,I.target))},E=I=>{g(I,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",E,s)};return r.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",l,s),h instanceof HTMLElement&&(h.addEventListener("focus",p=>DO(p,s)),!NO(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}const tT=30,LO=n=>!isNaN(parseFloat(n));class OO{constructor(e,t={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Xr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Xr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=LO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new iy);const r=this.events[e].add(t);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tT)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,tT);return bS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yu(n,e){return new OO(n,e)}const US=F.createContext({strict:!1}),nT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ua={};for(const n in nT)Ua[n]={isEnabled:e=>nT[n].some(t=>!!e[t])};function MO(n){for(const e in n)Ua[e]={...Ua[e],...n[e]}}const jO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||jO.has(n)}let FS=n=>!Yh(n);function UO(n){n&&(FS=e=>e.startsWith("on")?!Yh(e):n(e))}try{UO(require("@emotion/is-prop-valid").default)}catch{}function FO(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(FS(s)||t===!0&&Yh(s)||!e&&!Yh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function BO(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Od=F.createContext({});function Md(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function vu(n){return typeof n=="string"||Array.isArray(n)}const hy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dy=["initial",...hy];function jd(n){return Md(n.animate)||dy.some(e=>vu(n[e]))}function BS(n){return!!(jd(n)||n.variants)}function zO(n,e){if(jd(n)){const{initial:t,animate:r}=n;return{initial:t===!1||vu(t)?t:void 0,animate:vu(r)?r:void 0}}return n.inherit!==!1?e:{}}function $O(n){const{initial:e,animate:t}=zO(n,F.useContext(Od));return F.useMemo(()=>({initial:e,animate:t}),[rT(e),rT(t)])}function rT(n){return Array.isArray(n)?n.join(" "):n}const WO=Symbol.for("motionComponentSymbol");function Ea(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function HO(n,e,t){return F.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Ea(t)&&(t.current=r))},[e])}const fy=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qO="framerAppearId",zS="data-"+fy(qO),$S=F.createContext({});function KO(n,e,t,r,s){var L,C;const{visualElement:a}=F.useContext(Od),l=F.useContext(US),h=F.useContext(Ld),f=F.useContext(ey).reducedMotion,p=F.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:a,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,_=F.useContext($S);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&GO(p.current,t,s,_);const E=F.useRef(!1);F.useInsertionEffect(()=>{g&&E.current&&g.update(t,h)});const I=t[zS],N=F.useRef(!!I&&!((L=window.MotionHandoffIsComplete)!=null&&L.call(window,I))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,I)));return kS(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),uy.render(g.render),N.current&&g.animationState&&g.animationState.animateChanges())}),F.useEffect(()=>{g&&(!N.current&&g.animationState&&g.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,I)}),N.current=!1))}),g}function GO(n,e,t,r){const{layoutId:s,layout:a,drag:l,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:WS(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||h&&Ea(h),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function WS(n){if(n)return n.options.allowProjection!==!1?n.projection:WS(n.parent)}function QO({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&MO(n);function a(h,f){let p;const g={...F.useContext(ey),...h,layoutId:XO(h)},{isStatic:_}=g,E=$O(h),I=r(h,_);if(!_&&Zg){YO();const N=JO(g);p=N.MeasureLayout,E.visualElement=KO(s,I,g,e,N.ProjectionNode)}return T.jsxs(Od.Provider,{value:E,children:[p&&E.visualElement?T.jsx(p,{visualElement:E.visualElement,...g}):null,t(s,h,HO(I,E.visualElement,f),I,_,E.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=F.forwardRef(a);return l[WO]=s,l}function XO({layoutId:n}){const e=F.useContext(Yg).id;return e&&n!==void 0?e+"-"+n:n}function YO(n,e){F.useContext(US).strict}function JO(n){const{drag:e,layout:t}=Ua;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const HS=n=>e=>typeof e=="string"&&e.startsWith(n),py=HS("--"),ZO=HS("var(--"),my=n=>ZO(n)?eM.test(n.split("/*")[0].trim()):!1,eM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_u={};function tM(n){for(const e in n)_u[e]=n[e],py(e)&&(_u[e].isCSSVariable=!0)}const Ga=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ko=new Set(Ga);function qS(n,{layout:e,layoutId:t}){return ko.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!_u[n]||n==="opacity")}const cn=n=>!!(n&&n.getVelocity),KS=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ri=(n,e,t)=>t>e?e:t<n?n:t,Qa={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},wu={...Qa,transform:n=>Ri(0,1,n)},fh={...Qa,default:1},Ou=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ss=Ou("deg"),Yr=Ou("%"),Se=Ou("px"),nM=Ou("vh"),rM=Ou("vw"),iT={...Yr,parse:n=>Yr.parse(n)/100,transform:n=>Yr.transform(n*100)},iM={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},sM={rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:fh,scaleX:fh,scaleY:fh,scaleZ:fh,skew:ss,skewX:ss,skewY:ss,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:wu,originX:iT,originY:iT,originZ:Se},sT={...Qa,transform:Math.round},gy={...iM,...sM,zIndex:sT,size:Se,fillOpacity:wu,strokeOpacity:wu,numOctaves:sT},oM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aM=Ga.length;function lM(n,e,t){let r="",s=!0;for(let a=0;a<aM;a++){const l=Ga[a],h=n[l];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(l.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const p=KS(h,gy[l]);if(!f){s=!1;const g=oM[l]||l;r+=`${g}(${p}) `}t&&(e[l]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function yy(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let l=!1,h=!1;for(const f in e){const p=e[f];if(ko.has(f)){l=!0;continue}else if(py(f)){s[f]=p;continue}else{const g=KS(p,gy[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(l||t?r.transform=lM(e,n.transform,t):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const vy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GS(n,e,t){for(const r in e)!cn(e[r])&&!qS(r,t)&&(n[r]=e[r])}function uM({transformTemplate:n},e){return F.useMemo(()=>{const t=vy();return yy(t,e,n),Object.assign({},t.vars,t.style)},[e])}function cM(n,e){const t=n.style||{},r={};return GS(r,t,n),Object.assign(r,uM(n,e)),r}function hM(n,e){const t={},r=cM(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const dM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _y(n){return typeof n!="string"||n.includes("-")?!1:!!(dM.indexOf(n)>-1||/[A-Z]/u.test(n))}const fM={offset:"stroke-dashoffset",array:"stroke-dasharray"},pM={offset:"strokeDashoffset",array:"strokeDasharray"};function mM(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?fM:pM;n[a.offset]=Se.transform(-r);const l=Se.transform(e),h=Se.transform(t);n[a.array]=`${l} ${h}`}function oT(n,e,t){return typeof n=="string"?n:Se.transform(e+t*n)}function gM(n,e,t){const r=oT(e,n.x,n.width),s=oT(t,n.y,n.height);return`${r} ${s}`}function wy(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:h=1,pathOffset:f=0,...p},g,_){if(yy(n,p,_),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:I,dimensions:N}=n;E.transform&&(N&&(I.transform=E.transform),delete E.transform),N&&(s!==void 0||a!==void 0||I.transform)&&(I.transformOrigin=gM(N,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),r!==void 0&&(E.scale=r),l!==void 0&&mM(E,l,h,f,!1)}const QS=()=>({...vy(),attrs:{}}),Ty=n=>typeof n=="string"&&n.toLowerCase()==="svg";function yM(n,e,t,r){const s=F.useMemo(()=>{const a=QS();return wy(a,e,Ty(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};GS(a,n.style,n),s.style={...a,...s.style}}return s}function vM(n=!1){return(t,r,s,{latestValues:a},l)=>{const f=(_y(t)?yM:hM)(r,a,l,t),p=FO(r,typeof t=="string",n),g=t!==F.Fragment?{...p,...f,ref:s}:{},{children:_}=r,E=F.useMemo(()=>cn(_)?_.get():_,[_]);return F.createElement(t,{...g,children:E})}}function aT(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Ey(n,e,t,r){if(typeof e=="function"){const[s,a]=aT(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=aT(r);e=e(t!==void 0?t:n.custom,s,a)}return e}const Rm=n=>Array.isArray(n),_M=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),wM=n=>Rm(n)?n[n.length-1]||0:n;function Ah(n){const e=cn(n)?n.get():n;return _M(e)?e.toValue():e}function TM({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,a){const l={latestValues:EM(r,s,a,n),renderState:e()};return t&&(l.onMount=h=>t({props:r,current:h,...l}),l.onUpdate=h=>t(h)),l}const XS=n=>(e,t)=>{const r=F.useContext(Od),s=F.useContext(Ld),a=()=>TM(n,e,r,s);return t?a():Jg(a)};function EM(n,e,t,r){const s={},a=r(n,{});for(const E in a)s[E]=Ah(a[E]);let{initial:l,animate:h}=n;const f=jd(n),p=BS(n);e&&p&&!f&&n.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const _=g?h:l;if(_&&typeof _!="boolean"&&!Md(_)){const E=Array.isArray(_)?_:[_];for(let I=0;I<E.length;I++){const N=Ey(n,E[I]);if(N){const{transitionEnd:L,transition:C,...j}=N;for(const G in j){let q=j[G];if(Array.isArray(q)){const Z=g?q.length-1:0;q=q[Z]}q!==null&&(s[G]=q)}for(const G in L)s[G]=L[G]}}}return s}function xy(n,e,t){var a;const{style:r}=n,s={};for(const l in r)(cn(r[l])||e.style&&cn(e.style[l])||qS(l,n)||((a=t==null?void 0:t.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=r[l]);return s}const xM={useVisualState:XS({scrapeMotionValuesFromProps:xy,createRenderState:vy})};function YS(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function JS(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const ZS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eA(n,e,t,r){JS(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(ZS.has(s)?s:fy(s),e.attrs[s])}function tA(n,e,t){const r=xy(n,e,t);for(const s in n)if(cn(n[s])||cn(e[s])){const a=Ga.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}const lT=["x","y","width","height","cx","cy","r"],IM={useVisualState:XS({scrapeMotionValuesFromProps:tA,createRenderState:QS,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let a=!!n.drag;if(!a){for(const h in s)if(ko.has(h)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let h=0;h<lT.length;h++){const f=lT[h];n[f]!==e[f]&&(l=!0)}l&&tt.read(()=>{YS(t,r),tt.render(()=>{wy(r,s,Ty(t.tagName),n.transformTemplate),eA(t,r)})})}})};function SM(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={..._y(r)?IM:xM,preloadedFeatures:n,useRender:vM(s),createVisualElement:e,Component:r};return QO(l)}}function Tu(n,e,t){const r=n.getProps();return Ey(r,e,t!==void 0?t:r.custom,n)}const nA=new Set(["width","height","top","left","right","bottom",...Ga]);function AM(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,yu(t))}function PM(n,e){const t=Tu(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const l in a){const h=wM(a[l]);AM(n,l,h)}}function kM(n){return!!(cn(n)&&n.add)}function Cm(n,e){const t=n.getValue("willChange");if(kM(t))return t.add(e);if(!t&&Pm.WillChange){const r=new Pm.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function rA(n){return n.props[zS]}const iA=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,RM=1e-7,CM=12;function bM(n,e,t,r,s){let a,l,h=0;do l=e+(t-e)/2,a=iA(l,r,s)-n,a>0?t=l:e=l;while(Math.abs(a)>RM&&++h<CM);return l}function Mu(n,e,t,r){if(n===e&&t===r)return nr;const s=a=>bM(a,0,1,n,t);return a=>a===0||a===1?a:iA(s(a),e,r)}const sA=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,oA=n=>e=>1-n(1-e),aA=Mu(.33,1.53,.69,.99),Iy=oA(aA),lA=sA(Iy),uA=n=>(n*=2)<1?.5*Iy(n):.5*(2-Math.pow(2,-10*(n-1))),Sy=n=>1-Math.sin(Math.acos(n)),cA=oA(Sy),hA=sA(Sy),dA=n=>/^0[^.\s]+$/u.test(n);function NM(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||dA(n):!0}const Yl=n=>Math.round(n*1e5)/1e5,Ay=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DM(n){return n==null}const VM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Py=(n,e)=>t=>!!(typeof t=="string"&&VM.test(t)&&t.startsWith(n)||e&&!DM(t)&&Object.prototype.hasOwnProperty.call(t,e)),fA=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,l,h]=r.match(Ay);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},LM=n=>Ri(0,255,n),Op={...Qa,transform:n=>Math.round(LM(n))},co={test:Py("rgb","red"),parse:fA("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Op.transform(n)+", "+Op.transform(e)+", "+Op.transform(t)+", "+Yl(wu.transform(r))+")"};function OM(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const bm={test:Py("#"),parse:OM,transform:co.transform},xa={test:Py("hsl","hue"),parse:fA("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Yr.transform(Yl(e))+", "+Yr.transform(Yl(t))+", "+Yl(wu.transform(r))+")"},an={test:n=>co.test(n)||bm.test(n)||xa.test(n),parse:n=>co.test(n)?co.parse(n):xa.test(n)?xa.parse(n):bm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?co.transform(n):xa.transform(n)},MM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jM(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Ay))==null?void 0:e.length)||0)+(((t=n.match(MM))==null?void 0:t.length)||0)>0}const pA="number",mA="color",UM="var",FM="var(",uT="${}",BM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Eu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(BM,f=>(an.test(f)?(r.color.push(a),s.push(mA),t.push(an.parse(f))):f.startsWith(FM)?(r.var.push(a),s.push(UM),t.push(f)):(r.number.push(a),s.push(pA),t.push(parseFloat(f))),++a,uT)).split(uT);return{values:t,split:h,indexes:r,types:s}}function gA(n){return Eu(n).values}function yA(n){const{split:e,types:t}=Eu(n),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const h=t[l];h===pA?a+=Yl(s[l]):h===mA?a+=an.transform(s[l]):a+=s[l]}return a}}const zM=n=>typeof n=="number"?0:n;function $M(n){const e=gA(n);return yA(n)(e.map(zM))}const ks={test:jM,parse:gA,createTransformer:yA,getAnimatableNone:$M},WM=new Set(["brightness","contrast","saturate","opacity"]);function HM(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Ay)||[];if(!r)return n;const s=t.replace(r,"");let a=WM.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const qM=/\b([a-z-]*)\(.*?\)/gu,Nm={...ks,getAnimatableNone:n=>{const e=n.match(qM);return e?e.map(HM).join(" "):n}},KM={...gy,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:Nm,WebkitFilter:Nm},vA=n=>KM[n];function _A(n,e){let t=vA(n);return t!==Nm&&(t=ks),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const GM=new Set(["auto","none","0"]);function QM(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!GM.has(a)&&Eu(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=_A(t,s)}const ho=n=>n*180/Math.PI,Dm=n=>{const e=ho(Math.atan2(n[1],n[0]));return Vm(e)},XM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Dm,rotateZ:Dm,skewX:n=>ho(Math.atan(n[1])),skewY:n=>ho(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Vm=n=>(n=n%360,n<0&&(n+=360),n),cT=Dm,hT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),dT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),YM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hT,scaleY:dT,scale:n=>(hT(n)+dT(n))/2,rotateX:n=>Vm(ho(Math.atan2(n[6],n[5]))),rotateY:n=>Vm(ho(Math.atan2(-n[2],n[0]))),rotateZ:cT,rotate:cT,skewX:n=>ho(Math.atan(n[4])),skewY:n=>ho(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function fT(n){return n.includes("scale")?1:0}function Lm(n,e){if(!n||n==="none")return fT(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(t)r=YM,s=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=XM,s=h}if(!s)return fT(e);const a=r[e],l=s[1].split(",").map(ZM);return typeof a=="function"?a(l):l[a]}const JM=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Lm(t,e)};function ZM(n){return parseFloat(n.trim())}const pT=n=>n===Qa||n===Se,ej=new Set(["x","y","z"]),tj=Ga.filter(n=>!ej.has(n));function nj(n){const e=[];return tj.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Fa={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Lm(e,"x"),y:(n,{transform:e})=>Lm(e,"y")};Fa.translateX=Fa.x;Fa.translateY=Fa.y;const po=new Set;let Om=!1,Mm=!1;function wA(){if(Mm){const n=Array.from(po).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=nj(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,l])=>{var h;(h=r.getValue(a))==null||h.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Mm=!1,Om=!1,po.forEach(n=>n.complete()),po.clear()}function TA(){po.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Mm=!0)})}function rj(){TA(),wA()}class ky{constructor(e,t,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(po.add(this),Om||(Om=!0,tt.read(TA),tt.resolveKeyframes(wA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),h=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const f=r.readValue(t,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),po.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,po.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const EA=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),ij=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sj(n){const e=ij.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function xA(n,e,t=1){const[r,s]=sj(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return EA(l)?parseFloat(l):l}return my(s)?xA(s,e,t+1):s}const IA=n=>e=>e.test(n),oj={test:n=>n==="auto",parse:n=>n},SA=[Qa,Se,Yr,ss,rM,nM,oj],mT=n=>SA.find(IA(n));class AA extends ky{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),my(p))){const g=xA(p,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!nA.has(r)||e.length!==2)return;const[s,a]=e,l=mT(s),h=mT(a);if(l!==h)if(pT(l)&&pT(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)NM(e[s])&&r.push(s);r.length&&QM(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Fa[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const gT=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ks.test(n)||n==="0")&&!n.startsWith("url("));function aj(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function lj(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=gT(s,e),h=gT(a,e);return!l||!h?!1:aj(n)||(t==="spring"||oy(t))&&r}const uj=n=>n!==null;function Ud(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(uj),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const cj=40;class PA{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xr.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:l,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>cj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&rj(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Xr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!lj(e,r,s,a))if(l)this.options.duration=0;else{f&&f(Ud(e,this.options,t)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dt=(n,e,t)=>n+(e-n)*t;function Mp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function hj({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;s=Mp(f,h,n+1/3),a=Mp(f,h,n),l=Mp(f,h,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Jh(n,e){return t=>t>0?e:n}const jp=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},dj=[bm,co,xa],fj=n=>dj.find(e=>e.test(n));function yT(n){const e=fj(n);if(!e)return!1;let t=e.parse(n);return e===xa&&(t=hj(t)),t}const vT=(n,e)=>{const t=yT(n),r=yT(e);if(!t||!r)return Jh(n,e);const s={...t};return a=>(s.red=jp(t.red,r.red,a),s.green=jp(t.green,r.green,a),s.blue=jp(t.blue,r.blue,a),s.alpha=dt(t.alpha,r.alpha,a),co.transform(s))},pj=(n,e)=>t=>e(n(t)),ju=(...n)=>n.reduce(pj),jm=new Set(["none","hidden"]);function mj(n,e){return jm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function gj(n,e){return t=>dt(n,e,t)}function Ry(n){return typeof n=="number"?gj:typeof n=="string"?my(n)?Jh:an.test(n)?vT:_j:Array.isArray(n)?kA:typeof n=="object"?an.test(n)?vT:yj:Jh}function kA(n,e){const t=[...n],r=t.length,s=n.map((a,l)=>Ry(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=s[l](a);return t}}function yj(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=Ry(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function vj(n,e){const t=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=n.indexes[a][r[a]],h=n.values[l]??0;t[s]=h,r[a]++}return t}const _j=(n,e)=>{const t=ks.createTransformer(e),r=Eu(n),s=Eu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?jm.has(n)&&!s.values.length||jm.has(e)&&!r.values.length?mj(n,e):ju(kA(vj(r,s),s.values),t):Jh(n,e)};function RA(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?dt(n,e,t):Ry(n)(n,e)}const wj=5;function CA(n,e,t){const r=Math.max(e-wj,0);return bS(t-n(r),e-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_T=.001;function Tj({duration:n=yt.duration,bounce:e=yt.bounce,velocity:t=yt.velocity,mass:r=yt.mass}){let s,a,l=1-e;l=Ri(yt.minDamping,yt.maxDamping,l),n=Ri(yt.minDuration,yt.maxDuration,Qr(n)),l<1?(s=p=>{const g=p*l,_=g*n,E=g-t,I=Um(p,l),N=Math.exp(-_);return _T-E/I*N},a=p=>{const _=p*l*n,E=_*t+t,I=Math.pow(l,2)*Math.pow(p,2)*n,N=Math.exp(-_),L=Um(Math.pow(p,2),l);return(-s(p)+_T>0?-1:1)*((E-I)*N)/L}):(s=p=>{const g=Math.exp(-p*n),_=(p-t)*n+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*n),_=(t-p)*(n*n);return g*_});const h=5/n,f=xj(s,a,h);if(n=Gr(n),isNaN(f))return{stiffness:yt.stiffness,damping:yt.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:n}}}const Ej=12;function xj(n,e,t){let r=t;for(let s=1;s<Ej;s++)r=r-n(r)/e(r);return r}function Um(n,e){return n*Math.sqrt(1-e*e)}const Ij=["duration","bounce"],Sj=["stiffness","damping","mass"];function wT(n,e){return e.some(t=>n[t]!==void 0)}function Aj(n){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...n};if(!wT(n,Sj)&&wT(n,Ij))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*Ri(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:yt.mass,stiffness:s,damping:a}}else{const t=Tj(n);e={...e,...t,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function Zh(n=yt.visualDuration,e=yt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:I}=Aj({...t,velocity:-Qr(t.velocity||0)}),N=E||0,L=p/(2*Math.sqrt(f*g)),C=l-a,j=Qr(Math.sqrt(f/g)),G=Math.abs(C)<5;r||(r=G?yt.restSpeed.granular:yt.restSpeed.default),s||(s=G?yt.restDelta.granular:yt.restDelta.default);let q;if(L<1){const ee=Um(j,L);q=se=>{const b=Math.exp(-L*j*se);return l-b*((N+L*j*C)/ee*Math.sin(ee*se)+C*Math.cos(ee*se))}}else if(L===1)q=ee=>l-Math.exp(-j*ee)*(C+(N+j*C)*ee);else{const ee=j*Math.sqrt(L*L-1);q=se=>{const b=Math.exp(-L*j*se),A=Math.min(ee*se,300);return l-b*((N+L*j*C)*Math.sinh(A)+ee*C*Math.cosh(A))/ee}}const Z={calculatedDuration:I&&_||null,next:ee=>{const se=q(ee);if(I)h.done=ee>=_;else{let b=0;L<1&&(b=ee===0?Gr(N):CA(q,ee,se));const A=Math.abs(b)<=r,k=Math.abs(l-se)<=s;h.done=A&&k}return h.value=h.done?l:se,h},toString:()=>{const ee=Math.min(ly(Z),Xh),se=NS(b=>Z.next(ee*b).value,ee,30);return ee+"ms "+se},toTransition:()=>{}};return Z}Zh.applyToOptions=n=>{const e=IO(n,100,Zh);return n.ease=gu()?e.ease:"easeOut",n.duration=Gr(e.duration),n.type="keyframes",n};function TT({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:f,restDelta:p=.5,restSpeed:g}){const _=n[0],E={done:!1,value:_},I=A=>h!==void 0&&A<h||f!==void 0&&A>f,N=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let L=t*e;const C=_+L,j=l===void 0?C:l(C);j!==C&&(L=j-_);const G=A=>-L*Math.exp(-A/r),q=A=>j+G(A),Z=A=>{const k=G(A),D=q(A);E.done=Math.abs(k)<=p,E.value=E.done?j:D};let ee,se;const b=A=>{I(E.value)&&(ee=A,se=Zh({keyframes:[E.value,N(E.value)],velocity:CA(q,A,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return b(0),{calculatedDuration:null,next:A=>{let k=!1;return!se&&ee===void 0&&(k=!0,Z(A),b(A)),ee!==void 0&&A>=ee?se.next(A-ee):(!k&&Z(A),E)}}}const Pj=Mu(.42,0,1,1),kj=Mu(0,0,.58,1),bA=Mu(.42,0,.58,1),Rj=n=>Array.isArray(n)&&typeof n[0]!="number",Cj={linear:nr,easeIn:Pj,easeInOut:bA,easeOut:kj,circIn:Sy,circInOut:hA,circOut:cA,backIn:Iy,backInOut:lA,backOut:aA,anticipate:uA},ET=n=>{if(sy(n)){CS(n.length===4);const[e,t,r,s]=n;return Mu(e,t,r,s)}else if(typeof n=="string")return Cj[n];return n};function bj(n,e,t){const r=[],s=t||RA,a=n.length-1;for(let l=0;l<a;l++){let h=s(n[l],n[l+1]);if(e){const f=Array.isArray(e)?e[l]||nr:e;h=ju(f,h)}r.push(h)}return r}function Nj(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(CS(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=bj(e,r,s),f=h.length,p=g=>{if(l&&g<n[0])return e[0];let _=0;if(f>1)for(;_<n.length-2&&!(g<n[_+1]);_++);const E=mu(n[_],n[_+1],g);return h[_](E)};return t?g=>p(Ri(n[0],n[a-1],g)):p}function Dj(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=mu(0,e,r);n.push(dt(t,1,s))}}function Vj(n){const e=[0];return Dj(e,n.length-1),e}function Lj(n,e){return n.map(t=>t*e)}function Oj(n,e){return n.map(()=>e||bA).splice(0,n.length-1)}function ed({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=Rj(r)?r.map(ET):ET(r),a={done:!1,value:e[0]},l=Lj(t&&t.length===e.length?t:Vj(e),n),h=Nj(l,e,{ease:Array.isArray(s)?s:Oj(e,s)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}const Mj=n=>{const e=({timestamp:t})=>n(t);return{start:()=>tt.update(e,!0),stop:()=>Ps(e),now:()=>Xt.isProcessing?Xt.timestamp:Xr.now()}},jj={decay:TT,inertia:TT,tween:ed,keyframes:ed,spring:Zh},Uj=n=>n/100;class Cy extends PA{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||ky,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new l(a,h,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,h=oy(t)?t:jj[t]||ed;let f,p;h!==ed&&typeof e[0]!="number"&&(f=ju(Uj,RA(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=ly(g));const{calculatedDuration:_}=g,E=_+s,I=E*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:E,totalDuration:I}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:I,repeatType:N,repeatDelay:L,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-E*(this.speed>=0?1:-1),G=this.speed>=0?j<0:j>g;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let q=this.currentTime,Z=a;if(I){const A=Math.min(this.currentTime,g)/_;let k=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&k--,k=Math.min(k,I+1),!!(k%2)&&(N==="reverse"?(D=1-D,L&&(D-=L/_)):N==="mirror"&&(Z=l)),q=Ri(0,1,D)*_}const ee=G?{done:!1,value:f[0]}:Z.next(q);h&&(ee.value=h(ee.value));let{done:se}=ee;!G&&p!==null&&(se=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return b&&s!==void 0&&(ee.value=Ud(f,this.options,s)),C&&C(ee.value),b&&this.finish(),ee}get duration(){const{resolved:e}=this;return e?Qr(e.calculatedDuration):0}get time(){return Qr(this.currentTime)}set time(e){e=Gr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Mj,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const Fj=new Set(["opacity","clipPath","filter","transform"]),Bj=ry(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),td=10,zj=2e4;function $j(n){return oy(n.type)||n.type==="spring"||!VS(n.ease)}function Wj(n,e){const t=new Cy({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let a=0;for(;!r.done&&a<zj;)r=t.sample(a),s.push(r.value),a+=td;return{times:void 0,keyframes:s,duration:a-td,ease:"linear"}}const NA={anticipate:uA,backInOut:lA,circInOut:hA};function Hj(n){return n in NA}class xT extends PA{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new AA(a,(l,h)=>this.onKeyframesResolved(l,h),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:s,ease:a,type:l,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&gu()&&Hj(a)&&(a=NA[a]),$j(this.options)){const{onComplete:_,onUpdate:E,motionValue:I,element:N,...L}=this.options,C=Wj(e,L);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,s=C.times,a=C.ease,l="keyframes"}const g=xO(h.owner.current,f,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(Yw(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;h.set(Ud(e,this.options,t)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Qr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Qr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Gr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return nr;const{animation:r}=t;Yw(r,e)}return nr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:a,ease:l,times:h}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:E,...I}=this.options,N=new Cy({...I,keyframes:r,duration:s,type:a,ease:l,times:h,isGenerator:!0}),L=Gr(this.time);p.setWithVelocity(N.sample(L-td).value,N.sample(L).value,td)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:l,type:h}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=t.owner.getProps();return Bj()&&r&&Fj.has(r)&&(r!=="transform"||!p)&&!f&&!s&&a!=="mirror"&&l!==0&&h!=="inertia"}}const qj={type:"spring",stiffness:500,damping:25,restSpeed:10},Kj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Gj={type:"keyframes",duration:.8},Qj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xj=(n,{keyframes:e})=>e.length>2?Gj:ko.has(n)?n.startsWith("scale")?Kj(e[1]):qj:Qj;function Yj({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const by=(n,e,t,r={},s,a)=>l=>{const h=ay(r,n)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Gr(f);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:a?void 0:s};Yj(h)||(g={...g,...Xj(n,g)}),g.duration&&(g.duration=Gr(g.duration)),g.repeatDelay&&(g.repeatDelay=Gr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),g.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const E=Ud(g.keyframes,h);if(E!==void 0)return tt.update(()=>{g.onUpdate(E),g.onComplete()}),new wO([])}return!a&&xT.supports(g)?new xT(g):new Cy(g)};function Jj({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function DA(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...h}=e;r&&(a=r);const f=[],p=s&&n.animationState&&n.animationState.getState()[s];for(const g in h){const _=n.getValue(g,n.latestValues[g]??null),E=h[g];if(E===void 0||p&&Jj(p,g))continue;const I={delay:t,...ay(a||{},g)};let N=!1;if(window.MotionHandoffAnimation){const C=rA(n);if(C){const j=window.MotionHandoffAnimation(C,g,tt);j!==null&&(I.startTime=j,N=!0)}}Cm(n,g),_.start(by(g,_,E,n.shouldReduceMotion&&nA.has(g)?{type:!1}:I,n,N));const L=_.animation;L&&f.push(L)}return l&&Promise.all(f).then(()=>{tt.update(()=>{l&&PM(n,l)})}),f}function Fm(n,e,t={}){var f;const r=Tu(n,e,t.type==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(DA(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=s;return Zj(n,e,g+p,_,E,t)}:()=>Promise.resolve(),{when:h}=s;if(h){const[p,g]=h==="beforeChildren"?[a,l]:[l,a];return p().then(()=>g())}else return Promise.all([a(),l(t.delay)])}function Zj(n,e,t=0,r=0,s=1,a){const l=[],h=(n.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(n.variantChildren).sort(eU).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Fm(p,e,{...a,delay:t+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function eU(n,e){return n.sortNodePosition(e)}function tU(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Fm(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=Fm(n,e,t);else{const s=typeof e=="function"?Tu(n,e,t.custom):e;r=Promise.all(DA(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function VA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const nU=dy.length;function LA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?LA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<nU;t++){const r=dy[t],s=n.props[r];(vu(s)||s===!1)&&(e[r]=s)}return e}const rU=[...hy].reverse(),iU=hy.length;function sU(n){return e=>Promise.all(e.map(({animation:t,options:r})=>tU(n,t,r)))}function oU(n){let e=sU(n),t=IT(),r=!0;const s=f=>(p,g)=>{var E;const _=Tu(n,g,f==="exit"?(E=n.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:I,transitionEnd:N,...L}=_;p={...p,...L,...N}}return p};function a(f){e=f(n)}function l(f){const{props:p}=n,g=LA(n.parent)||{},_=[],E=new Set;let I={},N=1/0;for(let C=0;C<iU;C++){const j=rU[C],G=t[j],q=p[j]!==void 0?p[j]:g[j],Z=vu(q),ee=j===f?G.isActive:null;ee===!1&&(N=C);let se=q===g[j]&&q!==p[j]&&Z;if(se&&r&&n.manuallyAnimateOnMount&&(se=!1),G.protectedKeys={...I},!G.isActive&&ee===null||!q&&!G.prevProp||Md(q)||typeof q=="boolean")continue;const b=aU(G.prevProp,q);let A=b||j===f&&G.isActive&&!se&&Z||C>N&&Z,k=!1;const D=Array.isArray(q)?q:[q];let O=D.reduce(s(j),{});ee===!1&&(O={});const{prevResolvedValues:B={}}=G,R={...B,...O},Ye=Ae=>{A=!0,E.has(Ae)&&(k=!0,E.delete(Ae)),G.needsAnimating[Ae]=!0;const ie=n.getValue(Ae);ie&&(ie.liveStyle=!1)};for(const Ae in R){const ie=O[Ae],ye=B[Ae];if(I.hasOwnProperty(Ae))continue;let ue=!1;Rm(ie)&&Rm(ye)?ue=!VA(ie,ye):ue=ie!==ye,ue?ie!=null?Ye(Ae):E.add(Ae):ie!==void 0&&E.has(Ae)?Ye(Ae):G.protectedKeys[Ae]=!0}G.prevProp=q,G.prevResolvedValues=O,G.isActive&&(I={...I,...O}),r&&n.blockInitialAnimation&&(A=!1),A&&(!(se&&b)||k)&&_.push(...D.map(Ae=>({animation:Ae,options:{type:j}})))}if(E.size){const C={};if(typeof p.initial!="boolean"){const j=Tu(n,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(C.transition=j.transition)}E.forEach(j=>{const G=n.getBaseTarget(j),q=n.getValue(j);q&&(q.liveStyle=!0),C[j]=G??null}),_.push({animation:C})}let L=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(L=!1),r=!1,L?e(_):Promise.resolve()}function h(f,p){var _;if(t[f].isActive===p)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(E=>{var I;return(I=E.animationState)==null?void 0:I.setActive(f,p)}),t[f].isActive=p;const g=l(f);for(const E in t)t[E].protectedKeys={};return g}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>t,reset:()=>{t=IT(),r=!0}}}function aU(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!VA(e,n):!1}function oo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IT(){return{animate:oo(!0),whileInView:oo(),whileHover:oo(),whileTap:oo(),whileDrag:oo(),whileFocus:oo(),exit:oo()}}class Vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lU extends Vs{constructor(e){super(e),e.animationState||(e.animationState=oU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Md(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let uU=0;class cU extends Vs{constructor(){super(...arguments),this.id=uU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hU={animation:{Feature:lU},exit:{Feature:cU}};function xu(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Uu(n){return{point:{x:n.pageX,y:n.pageY}}}const dU=n=>e=>cy(e)&&n(e,Uu(e));function Jl(n,e,t,r){return xu(n,e,dU(t),r)}function OA({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function fU({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function pU(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const MA=1e-4,mU=1-MA,gU=1+MA,jA=.01,yU=0-jA,vU=0+jA;function wn(n){return n.max-n.min}function _U(n,e,t){return Math.abs(n-e)<=t}function ST(n,e,t,r=.5){n.origin=r,n.originPoint=dt(e.min,e.max,n.origin),n.scale=wn(t)/wn(e),n.translate=dt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=mU&&n.scale<=gU||isNaN(n.scale))&&(n.scale=1),(n.translate>=yU&&n.translate<=vU||isNaN(n.translate))&&(n.translate=0)}function Zl(n,e,t,r){ST(n.x,e.x,t.x,r?r.originX:void 0),ST(n.y,e.y,t.y,r?r.originY:void 0)}function AT(n,e,t){n.min=t.min+e.min,n.max=n.min+wn(e)}function wU(n,e,t){AT(n.x,e.x,t.x),AT(n.y,e.y,t.y)}function PT(n,e,t){n.min=e.min-t.min,n.max=n.min+wn(e)}function eu(n,e,t){PT(n.x,e.x,t.x),PT(n.y,e.y,t.y)}const kT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ia=()=>({x:kT(),y:kT()}),RT=()=>({min:0,max:0}),Pt=()=>({x:RT(),y:RT()});function er(n){return[n("x"),n("y")]}function Up(n){return n===void 0||n===1}function Bm({scale:n,scaleX:e,scaleY:t}){return!Up(n)||!Up(e)||!Up(t)}function lo(n){return Bm(n)||UA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function UA(n){return CT(n.x)||CT(n.y)}function CT(n){return n&&n!=="0%"}function nd(n,e,t){const r=n-t,s=e*r;return t+s}function bT(n,e,t,r,s){return s!==void 0&&(n=nd(n,s,r)),nd(n,t,r)+e}function zm(n,e=0,t=1,r,s){n.min=bT(n.min,e,t,r,s),n.max=bT(n.max,e,t,r,s)}function FA(n,{x:e,y:t}){zm(n.x,e.translate,e.scale,e.originPoint),zm(n.y,t.translate,t.scale,t.originPoint)}const NT=.999999999999,DT=1.0000000000001;function TU(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let h=0;h<s;h++){a=t[h],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Aa(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,FA(n,l)),r&&lo(a.latestValues)&&Aa(n,a.latestValues))}e.x<DT&&e.x>NT&&(e.x=1),e.y<DT&&e.y>NT&&(e.y=1)}function Sa(n,e){n.min=n.min+e,n.max=n.max+e}function VT(n,e,t,r,s=.5){const a=dt(n.min,n.max,s);zm(n,e,t,a,r)}function Aa(n,e){VT(n.x,e.x,e.scaleX,e.scale,e.originX),VT(n.y,e.y,e.scaleY,e.scale,e.originY)}function BA(n,e){return OA(pU(n.getBoundingClientRect(),e))}function EU(n,e,t){const r=BA(n,t),{scroll:s}=e;return s&&(Sa(r.x,s.offset.x),Sa(r.y,s.offset.y)),r}const zA=({current:n})=>n?n.ownerDocument.defaultView:null,LT=(n,e)=>Math.abs(n-e);function xU(n,e){const t=LT(n.x,e.x),r=LT(n.y,e.y);return Math.sqrt(t**2+r**2)}class $A{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Bp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=xU(_.offset,{x:0,y:0})>=3;if(!E&&!I)return;const{point:N}=_,{timestamp:L}=Xt;this.history.push({...N,timestamp:L});const{onStart:C,onMove:j}=this.handlers;E||(C&&C(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Fp(E,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:I,onSessionEnd:N,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Bp(_.type==="pointercancel"?this.lastMoveEventInfo:Fp(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(_,C),N&&N(_,C)},!cy(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const l=Uu(e),h=Fp(l,this.transformPagePoint),{point:f}=h,{timestamp:p}=Xt;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,Bp(h,this.history)),this.removeListeners=ju(Jl(this.contextWindow,"pointermove",this.handlePointerMove),Jl(this.contextWindow,"pointerup",this.handlePointerUp),Jl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ps(this.updatePoint)}}function Fp(n,e){return e?{point:e(n.point)}:n}function OT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Bp({point:n},e){return{point:n,delta:OT(n,WA(e)),offset:OT(n,IU(e)),velocity:SU(e,.1)}}function IU(n){return n[0]}function WA(n){return n[n.length-1]}function SU(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=WA(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Gr(e)));)t--;if(!r)return{x:0,y:0};const a=Qr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function AU(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?dt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?dt(t,n,r.max):Math.min(n,t)),n}function MT(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function PU(n,{top:e,left:t,bottom:r,right:s}){return{x:MT(n.x,t,s),y:MT(n.y,e,r)}}function jT(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function kU(n,e){return{x:jT(n.x,e.x),y:jT(n.y,e.y)}}function RU(n,e){let t=.5;const r=wn(n),s=wn(e);return s>r?t=mu(e.min,e.max-r,n.min):r>s&&(t=mu(n.min,n.max-s,e.min)),Ri(0,1,t)}function CU(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const $m=.35;function bU(n=$m){return n===!1?n=0:n===!0&&(n=$m),{x:UT(n,"left","right"),y:UT(n,"top","bottom")}}function UT(n,e,t){return{min:FT(n,e),max:FT(n,t)}}function FT(n,e){return typeof n=="number"?n:n[e]||0}const NU=new WeakMap;class DU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Uu(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:I,onDragStart:N}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=kO(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(C=>{let j=this.getAxisMotionValue(C).get()||0;if(Yr.test(j)){const{projection:G}=this.visualElement;if(G&&G.layout){const q=G.layout.layoutBox[C];q&&(j=wn(q)*(parseFloat(j)/100))}}this.originPoint[C]=j}),N&&tt.postRender(()=>N(g,_)),Cm(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:N,onDrag:L}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:C}=_;if(I&&this.currentDirection===null){this.currentDirection=VU(C),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",_.point,C),this.updateAxis("y",_.point,C),this.visualElement.render(),L&&L(g,_)},h=(g,_)=>this.stop(g,_),f=()=>er(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new $A(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:zA(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&tt.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!ph(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=AU(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&Ea(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=PU(r.layoutBox,e):this.constraints=!1,this.elastic=bU(t),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&er(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=CU(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ea(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=EU(r,s.root,this.visualElement.getTransformPagePoint());let l=kU(s.layout.layoutBox,a);if(t){const h=t(fU(l));this.hasMutatedConstraints=!!h,h&&(l=OA(h))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=er(g=>{if(!ph(g,t,this.currentDirection))return;let _=f&&f[g]||{};l&&(_={min:0,max:0});const E=s?200:1e6,I=s?40:1e7,N={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,N)});return Promise.all(p).then(h)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Cm(this.visualElement,e),r.start(by(e,r,0,t,this.visualElement,!1))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){er(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){er(t=>{const{drag:r}=this.getProps();if(!ph(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:h}=s.layout.layoutBox[t];a.set(e[t]-dt(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Ea(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};er(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const f=h.get();s[l]=RU({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),er(l=>{if(!ph(l,e,null))return;const h=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];h.set(dt(f,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;NU.set(this.visualElement,this);const e=this.visualElement.current,t=Jl(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ea(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),tt.read(r);const l=xu(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(er(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=$m,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function ph(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function VU(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class LU extends Vs{constructor(e){super(e),this.removeGroupControls=nr,this.removeListeners=nr,this.controls=new DU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nr}unmount(){this.removeGroupControls(),this.removeListeners()}}const BT=n=>(e,t)=>{n&&tt.postRender(()=>n(e,t))};class OU extends Vs{constructor(){super(...arguments),this.removePointerDownListener=nr}onPointerDown(e){this.session=new $A(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:BT(e),onStart:BT(t),onMove:r,onEnd:(a,l)=>{delete this.session,s&&tt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Jl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ol={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Se.test(n))n=parseFloat(n);else return n;const t=zT(n,e.target.x),r=zT(n,e.target.y);return`${t}% ${r}%`}},MU={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=ks.parse(n);if(s.length>5)return r;const a=ks.createTransformer(n),l=typeof s[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;s[0+l]/=h,s[1+l]/=f;const p=dt(h,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class jU extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;tM(UU),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==t||t===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||tt.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HA(n){const[e,t]=RS(),r=F.useContext(Yg);return T.jsx(jU,{...n,layoutGroup:r,switchLayoutGroup:F.useContext($S),isPresent:e,safeToRemove:t})}const UU={borderRadius:{...Ol,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ol,borderTopRightRadius:Ol,borderBottomLeftRadius:Ol,borderBottomRightRadius:Ol,boxShadow:MU};function FU(n,e,t){const r=cn(n)?n:yu(n);return r.start(by("",r,e,t)),r.animation}function BU(n){return n instanceof SVGElement&&n.tagName!=="svg"}const zU=(n,e)=>n.depth-e.depth;class $U{constructor(){this.children=[],this.isDirty=!1}add(e){ty(this.children,e),this.isDirty=!0}remove(e){ny(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zU),this.isDirty=!1,this.children.forEach(e)}}function WU(n,e){const t=Xr.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Ps(r),n(a-e))};return tt.read(r,!0),()=>Ps(r)}const qA=["TopLeft","TopRight","BottomLeft","BottomRight"],HU=qA.length,$T=n=>typeof n=="string"?parseFloat(n):n,WT=n=>typeof n=="number"||Se.test(n);function qU(n,e,t,r,s,a){s?(n.opacity=dt(0,t.opacity??1,KU(r)),n.opacityExit=dt(e.opacity??1,0,GU(r))):a&&(n.opacity=dt(e.opacity??1,t.opacity??1,r));for(let l=0;l<HU;l++){const h=`border${qA[l]}Radius`;let f=HT(e,h),p=HT(t,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||WT(f)===WT(p)?(n[h]=Math.max(dt($T(f),$T(p),r),0),(Yr.test(p)||Yr.test(f))&&(n[h]+="%")):n[h]=p}(e.rotate||t.rotate)&&(n.rotate=dt(e.rotate||0,t.rotate||0,r))}function HT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const KU=KA(0,.5,cA),GU=KA(.5,.95,nr);function KA(n,e,t){return r=>r<n?0:r>e?1:t(mu(n,e,r))}function qT(n,e){n.min=e.min,n.max=e.max}function Zn(n,e){qT(n.x,e.x),qT(n.y,e.y)}function KT(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function GT(n,e,t,r,s){return n-=e,n=nd(n,1/t,r),s!==void 0&&(n=nd(n,1/s,r)),n}function QU(n,e=0,t=1,r=.5,s,a=n,l=n){if(Yr.test(e)&&(e=parseFloat(e),e=dt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=dt(a.min,a.max,r);n===a&&(h-=e),n.min=GT(n.min,e,t,h,s),n.max=GT(n.max,e,t,h,s)}function QT(n,e,[t,r,s],a,l){QU(n,e[t],e[r],e[s],e.scale,a,l)}const XU=["x","scaleX","originX"],YU=["y","scaleY","originY"];function XT(n,e,t,r){QT(n.x,e,XU,t?t.x:void 0,r?r.x:void 0),QT(n.y,e,YU,t?t.y:void 0,r?r.y:void 0)}function YT(n){return n.translate===0&&n.scale===1}function GA(n){return YT(n.x)&&YT(n.y)}function JT(n,e){return n.min===e.min&&n.max===e.max}function JU(n,e){return JT(n.x,e.x)&&JT(n.y,e.y)}function ZT(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function QA(n,e){return ZT(n.x,e.x)&&ZT(n.y,e.y)}function eE(n){return wn(n.x)/wn(n.y)}function tE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class ZU{constructor(){this.members=[]}add(e){ty(this.members,e),e.scheduleRender()}remove(e){if(ny(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function e4(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:I,skewY:N}=t;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),I&&(r+=`skewX(${I}deg) `),N&&(r+=`skewY(${N}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const zp=["","X","Y","Z"],t4={visibility:"hidden"},nE=1e3;let n4=0;function $p(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function XA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=rA(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",tt,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&XA(r)}function YA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},h=e==null?void 0:e()){this.id=n4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s4),this.nodes.forEach(c4),this.nodes.forEach(h4),this.nodes.forEach(o4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new $U)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new iy),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const f=this.eventHandlers.get(l);f&&f.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=BU(l),this.instance=l;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),n){let _;const E=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=WU(E,250),Ph.hasAnimatedSinceResize&&(Ph.hasAnimatedSinceResize=!1,this.nodes.forEach(iE))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:I,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||g4,{onLayoutAnimationStart:C,onLayoutAnimationComplete:j}=g.getProps(),G=!this.targetLayout||!QA(this.targetLayout,N),q=!E&&I;if(this.options.layoutRoot||this.resumeFrom||q||E&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,q);const Z={...ay(L,"layout"),onPlay:C,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else E||iE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ps(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d4),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rE);return}this.isUpdating||this.nodes.forEach(l4),this.isUpdating=!1,this.nodes.forEach(u4),this.nodes.forEach(r4),this.nodes.forEach(i4),this.clearAllSnapshots();const h=Xr.now();Xt.delta=Ri(0,1e3/60,h-Xt.timestamp),Xt.timestamp=h,Xt.isProcessing=!0,Vp.update.process(Xt),Vp.preRender.process(Xt),Vp.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(a4),this.sharedNodes.forEach(f4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wn(this.snapshot.measuredBox.x)&&!wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!GA(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(h||lo(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return l&&(f=this.removeTransform(f)),y4(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return Pt();const h=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(v4))){const{scroll:g}=this.root;g&&(Sa(h.x,g.offset.x),Sa(h.y,g.offset.y))}return h}removeElementScroll(l){var f;const h=Pt();if(Zn(h,l),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Zn(h,l),Sa(h.x,_.offset.x),Sa(h.y,_.offset.y))}return h}applyTransform(l,h=!1){const f=Pt();Zn(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Aa(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),lo(g.latestValues)&&Aa(f,g.latestValues)}return lo(this.latestValues)&&Aa(f,this.latestValues),f}removeTransform(l){const h=Pt();Zn(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!lo(p.latestValues))continue;Bm(p.latestValues)&&p.updateSnapshot();const g=Pt(),_=p.measurePageBox();Zn(g,_),XT(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return lo(this.latestValues)&&XT(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),eu(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),FA(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),eu(this.relativeTargetOrigin,this.target,I.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bm(this.parent.latestValues)||UA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const l=this.getLead(),h=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Zn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;TU(this.layoutCorrected,this.treeScale,this.path,h),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Pt());const{target:I}=l;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KT(this.prevProjectionDelta.x,this.projectionDelta.x),KT(this.prevProjectionDelta.y,this.projectionDelta.y)),Zl(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!tE(this.projectionDelta.x,this.prevProjectionDelta.x)||!tE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ia(),this.projectionDelta=Ia(),this.projectionDeltaWithTransform=Ia()}setAnimationOrigin(l,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=Ia();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Pt(),I=f?f.source:void 0,N=this.layout?this.layout.source:void 0,L=I!==N,C=this.getStack(),j=!C||C.members.length<=1,G=!!(L&&!j&&this.options.crossfade===!0&&!this.path.some(m4));this.animationProgress=0;let q;this.mixTargetDelta=Z=>{const ee=Z/1e3;sE(_.x,l.x,ee),sE(_.y,l.y,ee),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p4(this.relativeTarget,this.relativeTargetOrigin,E,ee),q&&JU(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Pt()),Zn(q,this.relativeTarget)),L&&(this.animationValues=g,qU(g,p,this.latestValues,ee,G,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ps(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{Ph.hasAnimatedSinceResize=!0,this.currentAnimation=FU(0,nE,{...l,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=l;if(!(!h||!f||!p)){if(this!==l&&this.layout&&p&&JA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Pt();const _=wn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const E=wn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+E}Zn(h,f),Aa(h,g),Zl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ZU),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var h;const{layoutId:l}=this.options;return l?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:l}=this.options;return l?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&$p("z",l,p,this.animationValues);for(let g=0;g<zp.length;g++)$p(`rotate${zp[g]}`,l,p,this.animationValues),$p(`skew${zp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return t4;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ah(l==null?void 0:l.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=Ah(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!lo(this.latestValues)&&(I.transform=f?f({},""):"none",this.hasProjected=!1),I}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=e4(this.projectionDeltaWithTransform,this.treeScale,g),f&&(h.transform=f(g,h.transform));const{x:_,y:E}=this.projectionDelta;h.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,p.animationValues?h.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const I in _u){if(g[I]===void 0)continue;const{correct:N,applyTo:L,isCSSVariable:C}=_u[I],j=h.transform==="none"?g[I]:N(g[I],p);if(L){const G=L.length;for(let q=0;q<G;q++)h[L[q]]=j}else C?this.options.visualElement.renderState.vars[I]=j:h[I]=j}return this.options.layoutId&&(h.pointerEvents=p===this?Ah(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var h;return(h=l.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(rE),this.root.sharedNodes.clear()}}}function r4(n){n.updateLayout()}function i4(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,l=e.source!==n.layout.source;a==="size"?er(_=>{const E=l?e.measuredBox[_]:e.layoutBox[_],I=wn(E);E.min=r[_].min,E.max=E.min+I}):JA(a,e.layoutBox,r)&&er(_=>{const E=l?e.measuredBox[_]:e.layoutBox[_],I=wn(r[_]);E.max=E.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+I)});const h=Ia();Zl(h,r,e.layoutBox);const f=Ia();l?Zl(f,n.applyTransform(s,!0),e.measuredBox):Zl(f,r,e.layoutBox);const p=!GA(h);let g=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:I}=_;if(E&&I){const N=Pt();eu(N,e.layoutBox,E.layoutBox);const L=Pt();eu(L,r,I.layoutBox),QA(N,L)||(g=!0),_.options.layoutRoot&&(n.relativeTarget=L,n.relativeTargetOrigin=N,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function s4(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function o4(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function a4(n){n.clearSnapshot()}function rE(n){n.clearMeasurements()}function l4(n){n.isLayoutDirty=!1}function u4(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function iE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function c4(n){n.resolveTargetDelta()}function h4(n){n.calcProjection()}function d4(n){n.resetSkewAndRotation()}function f4(n){n.removeLeadSnapshot()}function sE(n,e,t){n.translate=dt(e.translate,0,t),n.scale=dt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function oE(n,e,t,r){n.min=dt(e.min,t.min,r),n.max=dt(e.max,t.max,r)}function p4(n,e,t,r){oE(n.x,e.x,t.x,r),oE(n.y,e.y,t.y,r)}function m4(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const g4={duration:.45,ease:[.4,0,.1,1]},aE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),lE=aE("applewebkit/")&&!aE("chrome/")?Math.round:nr;function uE(n){n.min=lE(n.min),n.max=lE(n.max)}function y4(n){uE(n.x),uE(n.y)}function JA(n,e,t){return n==="position"||n==="preserve-aspect"&&!_U(eE(e),eE(t),.2)}function v4(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const _4=YA({attachResizeListener:(n,e)=>xu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wp={current:void 0},ZA=YA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Wp.current){const n=new _4({});n.mount(window),n.setOptions({layoutScroll:!0}),Wp.current=n}return Wp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),w4={pan:{Feature:OU},drag:{Feature:LU,ProjectionNode:ZA,MeasureLayout:HA}};function cE(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&tt.postRender(()=>a(e,Uu(e)))}class T4 extends Vs{mount(){const{current:e}=this.node;e&&(this.unmount=CO(e,(t,r)=>(cE(this.node,r,"Start"),s=>cE(this.node,s,"End"))))}unmount(){}}class E4 extends Vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ju(xu(this.node.current,"focus",()=>this.onFocus()),xu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hE(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&tt.postRender(()=>a(e,Uu(e)))}class x4 extends Vs{mount(){const{current:e}=this.node;e&&(this.unmount=VO(e,(t,r)=>(hE(this.node,r,"Start"),(s,{success:a})=>hE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wm=new WeakMap,Hp=new WeakMap,I4=n=>{const e=Wm.get(n.target);e&&e(n)},S4=n=>{n.forEach(I4)};function A4({root:n,...e}){const t=n||document;Hp.has(t)||Hp.set(t,{});const r=Hp.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(S4,{root:n,...e})),r[s]}function P4(n,e,t){const r=A4(e);return Wm.set(n,t),r.observe(n),()=>{Wm.delete(n),r.unobserve(n)}}const k4={some:0,all:1};class R4 extends Vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:k4[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return P4(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(C4(e,t))&&this.startObserver()}unmount(){}}function C4({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const b4={inView:{Feature:R4},tap:{Feature:x4},focus:{Feature:E4},hover:{Feature:T4}},N4={layout:{ProjectionNode:ZA,MeasureLayout:HA}},Hm={current:null},eP={current:!1};function D4(){if(eP.current=!0,!!Zg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hm.current=n.matches;n.addListener(e),e()}else Hm.current=!1}const V4=[...SA,an,ks],L4=n=>V4.find(IA(n)),O4=new WeakMap;function M4(n,e,t){for(const r in e){const s=e[r],a=t[r];if(cn(s))n.addValue(r,s);else if(cn(a))n.addValue(r,yu(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=n.getStaticValue(r);n.addValue(r,yu(l!==void 0?l:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const dE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j4{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ky,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=Xr.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,tt.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=jd(t),this.isVariantNode=BS(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const I in E){const N=E[I];f[I]!==void 0&&cn(N)&&N.set(f[I],!1)}}mount(e){this.current=e,O4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),eP.current||D4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ps(this.notifyUpdate),Ps(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ko.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ua){const t=Ua[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<dE.length;r++){const s=dE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=M4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=yu(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(EA(r)||dA(r))?r=parseFloat(r):!L4(r)&&ks.test(t)&&(r=_A(e,t)),this.setBaseTarget(e,cn(r)?r.get():r)),cn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var a;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const l=Ey(this.props,t,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(t&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!cn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new iy),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class tP extends j4{constructor(){super(...arguments),this.KeyframeResolver=AA}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function U4(n){return window.getComputedStyle(n)}class F4 extends tP{constructor(){super(...arguments),this.type="html",this.renderInstance=JS}readValueFromInstance(e,t){if(ko.has(t))return JM(e,t);{const r=U4(e),s=(py(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return BA(e,t)}build(e,t,r){yy(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return xy(e,t,r)}}class B4 extends tP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&YS(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ko.has(t)){const r=vA(t);return r&&r.default||0}return t=ZS.has(t)?t:fy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return tA(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&tt.postRender(this.updateDimensions)}build(e,t,r){wy(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){eA(e,t,r,s)}mount(e){this.isSVGTag=Ty(e.tagName),super.mount(e)}}const z4=(n,e)=>_y(n)?new B4(e):new F4(e,{allowProjection:n!==F.Fragment}),$4=SM({...hU,...b4,...w4,...N4},z4),fe=BO($4);var nP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fE=Ti.createContext&&Ti.createContext(nP),W4=["attr","size","title"];function H4(n,e){if(n==null)return{};var t=q4(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function q4(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function rd(){return rd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rd.apply(this,arguments)}function pE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function id(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(t),!0).forEach(function(r){K4(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function K4(n,e,t){return e=G4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function G4(n){var e=Q4(n,"string");return typeof e=="symbol"?e:e+""}function Q4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rP(n){return n&&n.map((e,t)=>Ti.createElement(e.tag,id({key:t},e.attr),rP(e.child)))}function en(n){return e=>Ti.createElement(X4,rd({attr:id({},n.attr)},e),rP(n.child))}function X4(n){var e=t=>{var{attr:r,size:s,title:a}=n,l=H4(n,W4),h=s||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ti.createElement("svg",rd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:f,style:id(id({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&Ti.createElement("title",null,a),n.children)};return fE!==void 0?Ti.createElement(fE.Consumer,null,t=>e(t)):e(nP)}function Y4(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(n)}function iP(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(n)}function kh(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(n)}function sP(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function mE(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(n)}function J4(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(n)}function Z4(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(n)}function eF(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(n)}function oP(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(n)}function tF(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(n)}function aP(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(n)}function nF(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(n)}function ps(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(n)}function lP(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(n)}function rF(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(n)}function iF(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(n)}function Ir(n){return en({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}const sF=()=>{const n=ad(),[e,t]=F.useState(""),[r,s]=F.useState(T.jsx(ps,{})),[a,l]=F.useState(""),[h,f]=F.useState(""),[p,g]=F.useState(null),[_,E]=F.useState([]),[I,N]=F.useState(null),[L,C]=F.useState(null),[j,G]=F.useState(!1),[q,Z]=F.useState(!1),[ee,se]=F.useState(!1),[b,A]=F.useState(!1),[k,D]=F.useState(!1),[O,B]=F.useState([]),[R,Ye]=F.useState([]),[Tt,st]=F.useState(!0),[Ae,ie]=F.useState({show:!1,taskId:""}),[ye,ue]=F.useState({title:"",description:"",userId:"",deadline:""}),[U,Q]=F.useState({email:"",password:"",nama:"",nik:"",role:"user"}),[_e,be]=F.useState(null),[Le,Oe]=F.useState(null),[J,ce]=F.useState(null);F.useEffect(()=>{const oe=()=>{const Me=new Date,je=Me.getHours();je<12?(t("Selamat Pagi"),s(T.jsx(ps,{className:"text-yellow-400"}))):je<15?(t("Selamat Siang"),s(T.jsx(ps,{className:"text-yellow-500"}))):je<18?(t("Selamat Sore"),s(T.jsx(ps,{className:"text-orange-500"}))):(t("Selamat Malam"),s(T.jsx(aP,{className:"text-blue-300"})));const lt={weekday:"long",day:"numeric",month:"long",year:"numeric"},We=Me.toLocaleDateString("id-ID",lt),jt=We.charAt(0).toUpperCase()+We.slice(1);l(jt);const It=String(Me.getHours()).padStart(2,"0"),ut=String(Me.getMinutes()).padStart(2,"0");f(`${It}.${ut}`)};oe();const he=setInterval(oe,6e4);return()=>clearInterval(he)},[]),F.useEffect(()=>{const oe=vx(ba,async he=>{var Me;if(!he){n("/");return}try{const je=await Qh(vi(Qt,"users",he.uid));((Me=je.data())==null?void 0:Me.role)!=="admin"?n("/user-dashboard"):g({...je.data(),uid:he.uid})}catch(je){console.error("Error checking user role:",je),n("/")}finally{st(!1)}});return()=>oe()},[n]),F.useEffect(()=>{(async()=>{try{const he=Ta(yi(Qt,"users"),cs("role","==","user")),Me=lh(he,je=>{const lt=je.docs.map(We=>({id:We.id,...We.data(),name:We.data().nama||We.data().name||"Unknown User"}));console.log("Users data:",lt),Ye(lt)});return()=>Me()}catch(he){console.error("Error fetching users:",he)}})()},[]),F.useEffect(()=>{(async()=>{try{st(!0);const he=lh(Ta(yi(Qt,"users"),cs("role","==","user")),async Me=>{console.log("Users snapshot size:",Me.size);const je={};Me.forEach(We=>{const jt=We.data();je[We.id]={id:We.id,name:jt.nama||jt.name||"Unknown User",nik:jt.nik||"N/A",progress:0,tasks:[]}});const lt=lh(yi(Qt,"tasks"),We=>{console.log("Tasks snapshot size:",We.size),Object.keys(je).forEach(It=>{je[It].tasks=[]}),We.forEach(It=>{const ut=It.data(),Rr=ut.assignedTo;if(je[Rr]){let zn="Unknown Date";ut.timestamp&&(typeof ut.timestamp.toDate=="function"?zn=ut.timestamp.toDate().toLocaleString():typeof ut.timestamp=="string"&&(zn=new Date(ut.timestamp).toLocaleString())),je[Rr].tasks.push({id:It.id,title:ut.title,status:ut.status,timestamp:ut.timestamp,submissionId:ut.submissionId})}});const jt=Object.values(je).map(It=>{const ut=It.tasks.length,Rr=It.tasks.filter(Di=>Di.status==="selesai").length,zn=ut>0?Math.round(Rr/ut*100):0;return{...It,progress:zn}});if(console.log("Performance data calculated:",jt),E(jt),I){const It=jt.find(ut=>ut.id===I.id);It&&N(It)}st(!1)});return()=>{lt()}});return()=>{he()}}catch(he){console.error("Error setting up real-time data:",he),st(!1)}})()},[I==null?void 0:I.id]),F.useEffect(()=>{k&&(async()=>{try{const he=Ta(yi(Qt,"submissions"),cs("status","==","reviewed"),rS("submittedAt","desc")),Me=lh(he,je=>{const lt=je.docs.map(We=>({id:We.id,...We.data(),taskId:We.data().taskId||"",taskTitle:We.data().taskTitle||"Unknown Task",userId:We.data().userId||"",userName:We.data().userName||"Unknown User",images:We.data().images||[],caption:We.data().caption||"",submittedAt:We.data().submittedAt||new Date().toISOString(),status:We.data().status}));B(lt)});return()=>Me()}catch(he){console.error("Error fetching completed submissions:",he)}})()},[k]);const Re=oe=>{const{name:he,value:Me}=oe.target;ue(je=>({...je,[he]:Me}))},De=oe=>{const{name:he,value:Me}=oe.target;Q(je=>({...je,[he]:Me}))},mt=async oe=>{oe.preventDefault(),be(null);try{const{title:he,description:Me,userId:je,deadline:lt}=ye;if(!he||!je||!lt){be("Semua field harus diisi!");return}const We=Ta(yi(Qt,"tasks"),cs("assignedTo","==",je),cs("status","==","belum"));if((await Sm(We)).size>=10){be("User ini sudah memiliki 10 tugas aktif. Harap tunggu hingga beberapa tugas selesai.");return}const It=new Date(lt);await uS(yi(Qt,"tasks"),{title:he,description:Me||"",assignedTo:je,status:"belum",timestamp:vt.fromDate(It),createdAt:vt.now()}),ue({title:"",description:"",userId:"",deadline:""}),G(!1)}catch(he){console.error("Gagal menambahkan tugas:",he),be("Terjadi kesalahan saat menambahkan tugas")}},rr=async oe=>{oe.preventDefault(),Oe(null),ce(null);try{const{email:he,password:Me,nama:je,nik:lt}=U;if(!he||!Me||!je||!lt){Oe("Semua field harus diisi!");return}const jt=(await Ab(ba,he,Me)).user.uid;await QV(vi(Qt,"users",jt),{nama:je,nik:lt,email:he,role:"user",createdAt:YV()}),Q({email:"",password:"",nama:"",nik:"",role:"user"}),ce("Akun user berhasil dibuat!"),setTimeout(()=>{Z(!1),ce(null)},3e3)}catch(he){console.error("Gagal membuat user:",he),he.code==="auth/email-already-in-use"?Oe("Email sudah digunakan. Gunakan email lain."):he.code==="auth/invalid-email"?Oe("Format email tidak valid."):he.code==="auth/weak-password"?Oe("Password terlalu lemah. Gunakan minimal 6 karakter."):Oe("Terjadi kesalahan saat membuat akun.")}},Wt=async oe=>{try{await XV(vi(Qt,"tasks",oe)),ie({show:!1,taskId:""}),I&&N({...I,tasks:I.tasks.filter(he=>he.id!==oe)})}catch(he){console.error("Error deleting task:",he)}},fn=async oe=>{try{const he=await Qh(vi(Qt,"submissions",oe));if(he.exists()){const Me=he.data();C({id:he.id,taskId:Me.taskId||"",taskTitle:Me.taskTitle||"Tugas Kebersihan",userId:Me.userId||"",userName:Me.userName||"Unknown User",images:Me.images||[],caption:Me.caption||"",submittedAt:Me.submittedAt||new Date().toISOString(),status:Me.status||"submitted"}),A(!0)}else console.error("Submission not found")}catch(he){console.error("Error fetching submission:",he)}},ir=async oe=>{try{await lS(vi(Qt,"submissions",oe),{status:"reviewed",reviewedAt:new Date().toISOString()}),A(!1),C(null)}catch(he){console.error("Error updating submission status:",he)}},ei=async()=>{try{await _x(ba),n("/")}catch(oe){console.error("Error signing out:",oe)}},ti=oe=>{if(!oe)return"Tidak ada tanggal";try{let he;if(oe!=null&&oe.toDate&&typeof oe.toDate=="function")he=oe.toDate();else if(oe instanceof Date)he=oe;else if(typeof oe=="string")he=new Date(oe);else return"Format tanggal tidak valid";return he.toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(he){return console.error("Error formatting timestamp:",he),"Format tanggal tidak valid"}},Ci=oe=>oe>=80?"bg-green-500":oe>=50?"bg-yellow-400":"bg-red-500",sr=()=>{se(!ee),ee||(G(!1),Z(!1),D(!1))},or=()=>{G(!0),se(!1),Z(!1),D(!1)},ar=()=>{Z(!0),se(!1),G(!1),D(!1)},Ls=()=>{D(!0),se(!1),G(!1),Z(!1)},bi={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},Ni={hidden:{y:50,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},kr={hidden:{height:0,opacity:0},visible:{height:"auto",opacity:1,transition:{duration:.3}}},Et={hidden:{x:-300,opacity:0},visible:{x:0,opacity:1,transition:{duration:.3}}},xt=()=>T.jsx("div",{className:"particles-container absolute inset-0 z-0 overflow-hidden",children:Array.from({length:20}).map((oe,he)=>T.jsx(fe.div,{className:"absolute bg-purple-500 opacity-10 rounded-full",style:{width:Math.floor(Math.random()*10)+5,height:Math.floor(Math.random()*10)+5,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`},animate:{x:[0,Math.random()*100-50],y:[0,Math.random()*100-50],opacity:[.1,.3,.1]},transition:{duration:Math.random()*10+10,repeat:1/0,repeatType:"reverse"}},he))});return Tt?T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 flex items-center justify-center",children:T.jsxs("div",{className:"text-center text-white",children:[T.jsx("div",{className:"w-16 h-16 border-t-4 border-purple-500 border-solid rounded-full animate-spin mx-auto mb-4"}),T.jsx("p",{className:"text-purple-300",children:"Loading..."})]})}):T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 text-white p-6 relative",children:[T.jsx(xt,{}),T.jsxs(fe.div,{className:"z-10 relative flex justify-between items-start",initial:"hidden",animate:"visible",variants:bi,children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[T.jsx(fe.span,{className:"text-4xl",animate:{rotate:[0,15,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r}),T.jsx("h1",{className:"text-2xl font-bold text-purple-300",children:e})]}),T.jsxs("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-300",children:["Selamat Datang ",(p==null?void 0:p.nama)||"Admin"]})]}),T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:sr,className:`bg-purple-600/80 hover:bg-purple-700 p-3 rounded-lg flex items-center space-x-2 relative ${ee?"bg-purple-700":""}`,children:T.jsx(tF,{className:"text-white text-xl"})}),T.jsxs(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ei,className:"bg-red-500/80 hover:bg-red-600 px-4 py-2 rounded-lg flex items-center space-x-2 text-sm",children:[T.jsx(oP,{}),T.jsx("span",{children:"Logout"})]})]})]}),T.jsx(gi,{children:ee&&T.jsx(fe.div,{className:"fixed top-0 left-0 h-full w-64 bg-gray-900/95 backdrop-blur-md z-50 shadow-xl border-r border-purple-500/20 p-6",initial:"hidden",animate:"visible",exit:"hidden",variants:Et,children:T.jsxs("div",{className:"flex flex-col h-full",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8",children:[T.jsx("h2",{className:"text-lg font-semibold text-purple-300",children:"Menu Admin"}),T.jsx(fe.button,{whileTap:{scale:.9},onClick:sr,className:"text-gray-400 hover:text-white",children:T.jsx(Ir,{size:20})})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs(fe.button,{whileHover:{x:5},onClick:or,className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-purple-800/30 transition-colors",children:[T.jsx(nF,{className:"text-purple-400"}),T.jsx("span",{children:"Tambah Tugas Baru"})]}),T.jsxs(fe.button,{whileHover:{x:5},onClick:ar,className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-purple-800/30 transition-colors",children:[T.jsx(iF,{className:"text-purple-400"}),T.jsx("span",{children:"Tambah User Baru"})]}),T.jsxs(fe.button,{whileHover:{x:5},onClick:Ls,className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-purple-800/30 transition-colors",children:[T.jsx(eF,{className:"text-purple-400"}),T.jsx("span",{children:"Riwayat Tugas Selesai"})]})]}),T.jsx("div",{className:"mt-auto pt-4 border-t border-gray-700/50",children:T.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-400",children:[T.jsx(Z4,{}),T.jsx("span",{children:"IKPPs Cleanify v1.2.0"})]})})]})})}),T.jsxs(fe.div,{className:"mt-8 relative z-10",initial:"hidden",animate:"visible",variants:Ni,children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-purple-200",children:"Performa & Data Karyawan"}),T.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-purple-900 px-4 py-2 rounded-lg flex flex-col items-start shadow-lg",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(iP,{className:"text-purple-300"}),T.jsx("span",{className:"text-white text-sm font-medium",children:a})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(sP,{className:"text-purple-300"}),T.jsx("span",{className:"text-white text-sm font-medium",children:h})]})]})]}),_.length===0?T.jsx("div",{className:"text-center py-8 px-6 bg-gray-800/60 backdrop-blur-sm border border-purple-500/30 rounded-2xl",children:T.jsx("p",{className:"text-gray-400",children:"Belum ada data karyawan yang tersedia"})}):T.jsx("div",{className:"overflow-x-auto pb-4",children:T.jsx("div",{className:"flex gap-4 w-max py-2",children:_.map(oe=>{var he;return T.jsxs(fe.div,{whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(168, 85, 247, 0.4)"},whileTap:{scale:.95},onClick:()=>N((I==null?void 0:I.id)===oe.id?null:oe),className:"min-w-[250px] bg-gray-800/60 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-5 cursor-pointer transition-all duration-200",children:[T.jsx("p",{className:"text-lg font-medium text-white truncate",children:oe.name}),T.jsxs("p",{className:"text-sm text-gray-400",children:["NIK: ",oe.nik||"N/A"]}),T.jsx("div",{className:"w-full h-4 mt-3 bg-gray-700 rounded-full overflow-hidden",children:T.jsx("div",{className:`h-full ${Ci(oe.progress)}`,style:{width:`${oe.progress||0}%`}})}),T.jsxs("div",{className:"flex justify-between items-center mt-2",children:[T.jsxs("span",{className:`text-sm font-medium ${oe.progress>=80?"text-green-400":oe.progress>=50?"text-yellow-400":"text-red-400"}`,children:[oe.progress||0,"%"]}),T.jsxs("span",{className:"text-xs text-gray-400",children:[((he=oe.tasks)==null?void 0:he.length)||0," tugas"]})]})]},oe.id)})})})]}),T.jsx(gi,{children:j&&T.jsx(fe.div,{className:"mt-6 relative z-10",initial:"hidden",animate:"visible",exit:"hidden",variants:kr,children:T.jsxs("div",{className:"p-6 bg-gray-800/80 backdrop-blur-md border border-purple-500/30 rounded-2xl shadow-lg",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-purple-300",children:"Tambah Tugas Baru"}),T.jsx(fe.button,{whileTap:{scale:.9},onClick:()=>G(!1),className:"text-gray-400 hover:text-white",children:T.jsx(Ir,{size:20})})]}),T.jsxs("form",{onSubmit:mt,className:"space-y-5",children:[T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[T.jsx("label",{className:"block text-sm text-purple-300 mb-2",children:"Judul Tugas"}),T.jsx("input",{type:"text",name:"title",value:ye.title,onChange:Re,placeholder:"Contoh: Sapu Gudang 1",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:border-purple-500 focus:ring focus:ring-purple-500/30 text-white",required:!0})]}),T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[T.jsx("label",{className:"block text-sm text-purple-300 mb-2",children:"Deskripsi Tugas (Opsional)"}),T.jsx("textarea",{name:"description",value:ye.description,onChange:Re,placeholder:"Detil instruksi tugas...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:border-purple-500 focus:ring focus:ring-purple-500/30 text-white h-24 resize-none"})]}),T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[T.jsx("label",{className:"block text-sm text-purple-300 mb-2",children:"Pilih Karyawan"}),T.jsxs("select",{name:"userId",value:ye.userId,onChange:Re,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:border-purple-500 focus:ring focus:ring-purple-500/30 text-white",required:!0,children:[T.jsx("option",{value:"",children:"-- Pilih Karyawan --"}),R.map(oe=>T.jsx("option",{value:oe.id,children:oe.nama||oe.name||oe.id},oe.id))]})]}),T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[T.jsx("label",{className:"block text-sm text-purple-300 mb-2",children:"Deadline"}),T.jsx("input",{type:"datetime-local",name:"deadline",value:ye.deadline,onChange:Re,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:border-purple-500 focus:ring focus:ring-purple-500/30 text-white",required:!0})]}),_e&&T.jsx(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-900/30 border border-red-500/30 p-4 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(Ir,{className:"text-red-400 mr-2"}),T.jsx("p",{className:"text-red-400 text-sm",children:_e})]})}),T.jsx(fe.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 5px 15px rgba(168, 85, 247, 0.4)"},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-purple-600 to-pink-500 hover:from-purple-700 hover:to-pink-600 text-white py-3 px-6 rounded-lg font-medium shadow-lg transition-all duration-200",children:"Tambahkan Tugas"})]})]})})}),T.jsx(gi,{children:q&&T.jsx(fe.div,{className:"mt-6 relative z-10",initial:"hidden",animate:"visible",exit:"hidden",variants:kr,children:T.jsxs("div",{className:"p-6 bg-gray-800/80 backdrop-blur-md border border-purple-500/30 rounded-2xl shadow-lg",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-purple-300",children:"Tambah User Baru"}),T.jsx(fe.button,{whileTap:{scale:.9},onClick:()=>Z(!1),className:"text-gray-400 hover:text-white",children:T.jsx(Ir,{size:20})})]}),T.jsxs("form",{onSubmit:rr,className:"space-y-5",children:[T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[T.jsx("label",{className:"block text-sm text-purple-300 mb-2",children:"Nama Lengkap"}),T.jsx("input",{type:"text",name:"nama",value:U.nama,onChange:De,placeholder:"Nama lengkap karyawan",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:border-purple-500 focus:ring focus:ring-purple-500/30 text-white",required:!0})]}),T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[T.jsx("label",{className:"block text-sm text-purple-300 mb-2",children:"NIK"}),T.jsx("input",{type:"text",name:"nik",value:U.nik,onChange:De,placeholder:"Nomor Induk Karyawan",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:border-purple-500 focus:ring focus:ring-purple-500/30 text-white",required:!0})]}),T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[T.jsx("label",{className:"block text-sm text-purple-300 mb-2",children:"Email"}),T.jsx("input",{type:"email",name:"email",value:U.email,onChange:De,placeholder:"email@contoh.com",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:border-purple-500 focus:ring focus:ring-purple-500/30 text-white",required:!0})]}),T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[T.jsx("label",{className:"block text-sm text-purple-300 mb-2",children:"Password"}),T.jsx("input",{type:"password",name:"password",value:U.password,onChange:De,placeholder:"Minimal 6 karakter",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:border-purple-500 focus:ring focus:ring-purple-500/30 text-white",required:!0})]}),Le&&T.jsx(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-900/30 border border-red-500/30 p-4 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(Ir,{className:"text-red-400 mr-2"}),T.jsx("p",{className:"text-red-400 text-sm",children:Le})]})}),J&&T.jsx(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-green-900/30 border border-green-500/30 p-4 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(kh,{className:"text-green-400 mr-2"}),T.jsx("p",{className:"text-green-400 text-sm",children:J})]})}),T.jsx(fe.button,{type:"submit",whileHover:{scale:1.02,boxShadow:"0 5px 15px rgba(168, 85, 247, 0.4)"},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-purple-600 to-pink-500 hover:from-purple-700 hover:to-pink-600 text-white py-3 px-6 rounded-lg font-medium shadow-lg transition-all duration-200",children:"Buat Akun User"})]})]})})}),T.jsx(gi,{children:k&&T.jsx(fe.div,{className:"mt-6 relative z-10",initial:"hidden",animate:"visible",exit:"hidden",variants:kr,children:T.jsxs("div",{className:"p-6 bg-gray-800/80 backdrop-blur-md border border-purple-500/30 rounded-2xl shadow-lg",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-purple-300",children:"Riwayat Tugas Selesai"}),T.jsx(fe.button,{whileTap:{scale:.9},onClick:()=>D(!1),className:"text-gray-400 hover:text-white",children:T.jsx(Ir,{size:20})})]}),O.length===0?T.jsx("div",{className:"text-center py-12",children:T.jsx("p",{className:"text-gray-400",children:"Belum ada tugas yang diselesaikan"})}):T.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:O.map((oe,he)=>T.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.05},className:"p-4 bg-gray-700/30 rounded-lg border border-green-500/20 hover:border-green-500/40 transition-colors",children:T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"font-medium text-white",children:oe.taskTitle}),T.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Oleh: ",oe.userName]}),T.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selesai pada: ",new Date(oe.submittedAt).toLocaleString("id-ID")]})]}),T.jsxs(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>fn(oe.id),className:"px-3 py-2 bg-blue-600/40 hover:bg-blue-600/60 rounded-lg text-xs flex items-center space-x-1",children:[T.jsx(mE,{}),T.jsx("span",{children:"Detail"})]})]})},oe.id))})]})})}),T.jsx(gi,{children:I&&T.jsx(fe.div,{className:"mt-8 relative z-10",initial:"hidden",animate:"visible",exit:"hidden",variants:kr,children:T.jsxs("div",{className:"p-6 bg-gray-800/80 backdrop-blur-md border border-purple-500/30 rounded-2xl shadow-lg",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsxs("h2",{className:"text-xl font-semibold text-purple-300",children:["Detail Tugas: ",I.name]}),T.jsx(fe.button,{whileTap:{scale:.9},onClick:()=>N(null),className:"text-gray-400 hover:text-white",children:T.jsx(Ir,{size:20})})]}),I.tasks.length===0?T.jsx("p",{className:"text-gray-400 text-center py-4",children:"Belum ada tugas yang diberikan"}):T.jsx("div",{className:"space-y-3",children:I.tasks.map((oe,he)=>T.jsx(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:he*.1},className:`p-4 rounded-lg border ${oe.status==="selesai"?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsxs("div",{className:"flex-grow",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx(fe.span,{animate:oe.status==="selesai"?{scale:[1,1.2,1],rotate:[0,180,360]}:{rotate:[0,45,0]},transition:{duration:2,repeat:1/0,repeatType:"loop"},className:`flex items-center justify-center w-8 h-8 rounded-full ${oe.status==="selesai"?"bg-green-500":"bg-red-500"}`,children:oe.status==="selesai"?T.jsx(kh,{}):T.jsx(Ir,{})}),T.jsx("span",{className:"font-medium",children:oe.title})]}),T.jsxs("span",{className:"text-sm text-gray-400 ml-11 block mt-1",children:["Deadline: ",ti(oe.timestamp)]})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[oe.status==="selesai"&&oe.submissionId&&T.jsxs(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>fn(oe.submissionId),className:"px-3 py-2 bg-blue-600/40 hover:bg-blue-600/60 rounded-lg text-xs flex items-center space-x-1",children:[T.jsx(mE,{}),T.jsx("span",{children:"Lihat Bukti"})]}),T.jsx(fe.button,{whileHover:{scale:1.05,color:"#ff4c4c"},whileTap:{scale:.95},onClick:()=>ie({show:!0,taskId:oe.id}),className:"p-2 bg-red-600/30 hover:bg-red-600/50 rounded-lg text-white transition-all",children:T.jsx(lP,{size:16})})]})]})},oe.id))})]})})}),T.jsx(gi,{children:Ae.show&&T.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70",children:T.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-800 rounded-2xl max-w-md w-full p-6",onClick:oe=>oe.stopPropagation(),children:[T.jsxs("div",{className:"text-center mb-6",children:[T.jsx("div",{className:"mx-auto mb-4 flex items-center justify-center w-14 h-14 rounded-full bg-red-900/30 text-red-500",children:T.jsx(Y4,{size:30})}),T.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Konfirmasi Hapus Tugas"}),T.jsx("p",{className:"text-gray-400",children:"Anda yakin ingin menghapus tugas ini? Tindakan ini tidak dapat dibatalkan."})]}),T.jsxs("div",{className:"flex space-x-3",children:[T.jsx(fe.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ie({show:!1,taskId:""}),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium",children:"Batal"}),T.jsx(fe.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Wt(Ae.taskId),className:"flex-1 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-medium",children:"Hapus"})]})]})})}),T.jsx(gi,{children:b&&L&&T.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70",onClick:()=>{A(!1),C(null)},children:T.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-800 rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6",onClick:oe=>oe.stopPropagation(),children:[T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold text-purple-300",children:"Bukti Penyelesaian Tugas"}),T.jsx("p",{className:"text-gray-400",children:L.taskTitle})]}),T.jsx("button",{onClick:()=>{A(!1),C(null)},className:"text-gray-400 hover:text-white",children:T.jsx(Ir,{size:24})})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-gray-700/30 p-4 rounded-lg",children:[T.jsx("p",{className:"text-sm text-gray-300 mb-1",children:"Diselesaikan oleh:"}),T.jsx("p",{className:"font-medium text-white",children:L.userName}),T.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Tanggal: ",new Date(L.submittedAt).toLocaleString("id-ID")]})]}),L.caption&&T.jsxs("div",{className:"bg-gray-700/30 p-4 rounded-lg",children:[T.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Keterangan dari karyawan:"}),T.jsx("p",{className:"text-white",children:L.caption})]}),L.images&&L.images.length>0&&T.jsxs("div",{children:[T.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["Bukti Foto (",L.images.length,"):"]}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:L.images.map((oe,he)=>T.jsxs("a",{href:oe.fileURL,target:"_blank",rel:"noopener noreferrer",className:"block rounded-lg overflow-hidden border border-purple-500/30 hover:border-purple-400 transition-colors",children:[T.jsx("div",{className:"aspect-square w-full relative",children:T.jsx("img",{src:oe.fileURL,alt:`Bukti ${he+1}`,className:"absolute inset-0 w-full h-full object-cover",onError:Me=>{const je=Me.target;je.src="https://via.placeholder.com/150?text=Error"}})}),T.jsx("div",{className:"p-2 bg-gray-800",children:T.jsx("p",{className:"text-xs text-gray-400 truncate",children:oe.fileName})})]},he))})]}),L.status==="submitted"&&T.jsx("div",{className:"flex justify-end mt-4",children:T.jsxs(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ir(L.id),className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg flex items-center space-x-2",children:[T.jsx(kh,{}),T.jsx("span",{children:"Tandai Sudah Diperiksa"})]})})]})]})})})]})},oF=()=>T.jsx("div",{className:"bg-gray-100 min-h-screen",children:T.jsx(sF,{})}),aF=()=>{const n=ad(),[e,t]=F.useState(""),[r,s]=F.useState(T.jsx(ps,{})),[a,l]=F.useState(null),[h,f]=F.useState([]),[p,g]=F.useState([]),[_,E]=F.useState(!0),[I,N]=F.useState([]),[L,C]=F.useState(!1),[j,G]=F.useState(""),[q,Z]=F.useState(""),[ee,se]=F.useState(!1),[b,A]=F.useState(!1),[k,D]=F.useState(null),O=F.useRef(null);F.useEffect(()=>{const J=()=>{const De=new Date().getHours();De<12?(t("Selamat Pagi"),s(T.jsx(ps,{className:"text-yellow-400"}))):De<15?(t("Selamat Siang"),s(T.jsx(ps,{className:"text-yellow-500"}))):De<18?(t("Selamat Sore"),s(T.jsx(ps,{className:"text-orange-500"}))):(t("Selamat Malam"),s(T.jsx(aP,{className:"text-blue-300"})))};J();const ce=setInterval(J,6e4);return()=>clearInterval(ce)},[]),F.useEffect(()=>{const J=vx(ba,async ce=>{if(!ce){n("/");return}try{const Re=await Qh(vi(Qt,"users",ce.uid));if(Re.exists()){const De=Re.data();De.role==="user"?(l({...De,uid:ce.uid}),B(ce.uid),R(ce.uid)):n("/admin-dashboard")}else n("/")}catch(Re){console.error("Error checking user data:",Re),n("/")}finally{E(!1)}});return()=>J()},[n]);const B=async J=>{try{const ce=Ta(yi(Qt,"tasks"),cs("assignedTo","==",J),cs("status","==","belum")),De=(await Sm(ce)).docs.map(mt=>({id:mt.id,...mt.data()}));console.log("Fetched tasks:",De),f(De)}catch(ce){console.error("Error fetching tasks:",ce)}},R=async J=>{try{const ce=Ta(yi(Qt,"submissions"),cs("userId","==",J),rS("submittedAt","desc")),De=(await Sm(ce)).docs.map(mt=>({id:mt.id,...mt.data()}));console.log("Fetched completed tasks:",De),g(De)}catch(ce){console.error("Error fetching completed tasks:",ce)}},Ye=J=>{if(J.target.files){const ce=Array.from(J.target.files).map(De=>({file:De,preview:URL.createObjectURL(De)})),Re=[...I,...ce].slice(0,5);N(Re)}},Tt=J=>{const ce=[...I];URL.revokeObjectURL(ce[J].preview),ce.splice(J,1),N(ce)},st=J=>{G(J.target.value)},Ae=J=>{Z(J.target.value)},ie=()=>{I.forEach(J=>URL.revokeObjectURL(J.preview)),N([]),G(""),Z(""),O.current&&(O.current.value="")},ye=J=>J instanceof Error?J.message:J&&typeof J=="object"&&"message"in J?String(J.message):typeof J=="string"?J:"Terjadi kesalahan yang tidak diketahui",ue=async()=>{if(I.length===0||!j||!a){D("Harap pilih minimal 1 gambar dan tugas yang akan diselesaikan");return}C(!0),D(null);try{const J=h.find(Wt=>Wt.id===j);if(!J)throw new Error("Task tidak ditemukan");const ce=I.map(async(Wt,fn)=>{const ir=`${Date.now()}_${fn}_${Wt.file.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,ei=aO(fO,`submissions/${a.uid}/${j}/${ir}`),ti={contentType:Wt.file.type};console.log(`Uploading image ${fn+1}/${I.length}: ${ir}`);const Ci=await sO(ei,Wt.file,ti);console.log(`Image ${fn+1} uploaded successfully`);const sr=await oO(Ci.ref);return console.log(`Got download URL for image ${fn+1}`),{fileName:Wt.file.name,fileURL:sr}});console.log("Starting all uploads...");const Re=await Promise.all(ce);console.log("All images uploaded successfully:",Re);const De=new Date,mt=vt.fromDate(De);console.log("Creating submission document...");const rr=await uS(yi(Qt,"submissions"),{userId:a.uid,userName:a.nama||"User",taskId:j,taskTitle:J.title||"Tugas Kebersihan",images:Re,caption:q.trim(),submittedAt:De.toISOString(),timestamp:mt,status:"submitted"});console.log("Created submission:",rr.id),console.log("Updating task status..."),await lS(vi(Qt,"tasks",j),{status:"selesai",completedAt:mt,submissionId:rr.id}),console.log("Task marked as completed"),ie(),A(!0),setTimeout(()=>A(!1),3e3),B(a.uid),R(a.uid),se(!1)}catch(J){console.error("Error uploading files:",J);const ce=ye(J);D(`Terjadi kesalahan saat mengunggah file: ${ce}`)}finally{C(!1)}},U=async()=>{try{await _x(ba),n("/")}catch(J){console.error("Error signing out:",J)}},Q={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},_e={hidden:{y:50,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},be={hidden:{height:0,opacity:0},visible:{height:"auto",opacity:1,transition:{duration:.3}}},Le=J=>{if(!J)return"Tidak ada tanggal";try{let ce;if(J!=null&&J.toDate&&typeof J.toDate=="function")ce=J.toDate();else if(J instanceof Date)ce=J;else if(typeof J=="string")ce=new Date(J);else return"Format tanggal tidak valid";return ce.toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(ce){return console.error("Error formatting timestamp:",ce),"Format tanggal tidak valid"}},Oe=()=>T.jsx("div",{className:"particles-container absolute inset-0 z-0 overflow-hidden",children:Array.from({length:20}).map((J,ce)=>T.jsx(fe.div,{className:"absolute bg-purple-500 opacity-10 rounded-full",style:{width:Math.floor(Math.random()*10)+5,height:Math.floor(Math.random()*10)+5,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`},animate:{x:[0,Math.random()*100-50],y:[0,Math.random()*100-50],opacity:[.1,.3,.1]},transition:{duration:Math.random()*10+10,repeat:1/0,repeatType:"reverse"}},ce))});return _?T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 flex items-center justify-center",children:T.jsxs("div",{className:"text-center text-white",children:[T.jsx("div",{className:"w-16 h-16 border-t-4 border-purple-500 border-solid rounded-full animate-spin mx-auto mb-4"}),T.jsx("p",{className:"text-purple-300",children:"Loading..."})]})}):T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 text-white p-6 relative",children:[T.jsx(Oe,{}),T.jsxs(fe.div,{className:"z-10 relative flex justify-between items-start",initial:"hidden",animate:"visible",variants:Q,children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[T.jsx(fe.span,{className:"text-4xl",animate:{rotate:[0,15,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r}),T.jsx("h1",{className:"text-2xl font-bold text-purple-300",children:e})]}),T.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-300",children:(a==null?void 0:a.nama)||"Karyawan"})]}),T.jsxs("div",{className:"flex flex-col items-end",children:[T.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-purple-500/30 rounded-lg p-3 mb-2",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(iP,{className:"text-purple-400"}),T.jsx("span",{className:"text-sm text-gray-300",children:new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),T.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[T.jsx(sP,{className:"text-purple-400"}),T.jsx("span",{className:"text-sm text-gray-300",children:new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})]}),T.jsxs(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:U,className:"bg-red-500/80 hover:bg-red-600 px-4 py-2 rounded-lg flex items-center space-x-2 text-sm",children:[T.jsx(oP,{}),T.jsx("span",{children:"Logout"})]})]})]}),T.jsx(fe.div,{className:"mt-8 relative z-10",initial:"hidden",animate:"visible",variants:_e,children:T.jsxs("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-5 mb-6",children:[T.jsx("h2",{className:"text-xl font-semibold text-purple-300 mb-4",children:"Informasi Karyawan"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-400",children:"Nama Lengkap"}),T.jsx("p",{className:"font-medium text-white",children:a==null?void 0:a.nama})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-400",children:"NIK"}),T.jsx("p",{className:"font-medium text-white",children:(a==null?void 0:a.nik)||"N/A"})]}),(a==null?void 0:a.email)&&T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),T.jsx("p",{className:"font-medium text-white",children:a.email})]}),(a==null?void 0:a.phone)&&T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-400",children:"Nomor Telepon"}),T.jsx("p",{className:"font-medium text-white",children:a.phone})]})]})]})}),T.jsxs(fe.div,{className:"mt-6 relative z-10",initial:"hidden",animate:"visible",variants:_e,children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-purple-300",children:"Tugas Kebersihan"}),T.jsx(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-purple-600 hover:bg-purple-700 p-3 rounded-full shadow-lg flex items-center justify-center",onClick:()=>se(J=>!J),disabled:h.length===0,children:T.jsx(rF,{className:"text-white text-xl"})})]}),h.length===0?T.jsx("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-6 text-center",children:T.jsx("p",{className:"text-gray-400",children:"Tidak ada tugas yang perlu diselesaikan saat ini"})}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(J=>T.jsxs(fe.div,{whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(168, 85, 247, 0.4)"},className:"bg-gray-800/60 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-5",children:[T.jsx("h3",{className:"font-medium text-lg text-white",children:J.title}),J.description&&T.jsx("p",{className:"text-sm text-gray-400 mt-1",children:J.description}),T.jsxs("div",{className:"flex justify-between items-center mt-3",children:[T.jsx("span",{className:"px-2 py-1 bg-red-900/30 border border-red-500/30 rounded-full text-xs text-red-400",children:"Belum Selesai"}),J.timestamp&&T.jsxs("span",{className:"text-xs text-gray-400",children:["Deadline: ",Le(J.timestamp)]})]})]},J.id))})]}),T.jsx(gi,{children:ee&&T.jsx(fe.div,{className:"mt-6 relative z-10",initial:"hidden",animate:"visible",exit:"hidden",variants:be,children:T.jsxs("div",{className:"p-6 bg-gray-800/80 backdrop-blur-md border border-purple-500/30 rounded-2xl shadow-lg",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-purple-300",children:"Unggah Bukti Penyelesaian Tugas"}),T.jsx(fe.button,{whileTap:{scale:.9},onClick:()=>{se(!1),ie()},className:"text-gray-400 hover:text-white",children:T.jsx(Ir,{size:20})})]}),T.jsxs("div",{className:"space-y-5",children:[T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[T.jsx("label",{className:"block text-sm text-purple-300 mb-2",children:"Pilih Tugas"}),T.jsxs("select",{value:j,onChange:st,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:border-purple-500 focus:ring focus:ring-purple-500/30 text-white",children:[T.jsx("option",{value:"",children:"-- Pilih Tugas --"}),h.map(J=>T.jsx("option",{value:J.id,children:J.title},J.id))]})]}),T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("label",{className:"block text-sm text-purple-300",children:"Unggah Bukti Foto (Max 5)"}),T.jsxs("span",{className:"text-xs text-gray-400",children:[I.length,"/5 foto"]})]}),I.length>0&&T.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:I.map((J,ce)=>T.jsxs("div",{className:"relative h-24 rounded-lg overflow-hidden border border-purple-500/30",children:[T.jsx("img",{src:J.preview,alt:`Preview ${ce+1}`,className:"h-full w-full object-cover"}),T.jsx("button",{onClick:()=>Tt(ce),className:"absolute top-1 right-1 bg-red-500 rounded-full p-1 text-white text-xs",children:T.jsx(lP,{size:14})})]},ce))}),T.jsxs("div",{className:`border-2 border-dashed p-4 rounded-lg text-center 
                    ${I.length>=5?"border-gray-600 bg-gray-700/30":"border-purple-500/50 bg-purple-900/10"}`,children:[T.jsx("input",{type:"file",ref:O,onChange:Ye,accept:"image/*",multiple:!0,disabled:I.length>=5,className:"hidden",id:"image-upload"}),T.jsxs("label",{htmlFor:"image-upload",className:`flex flex-col items-center justify-center cursor-pointer 
                        ${I.length>=5?"opacity-50 cursor-not-allowed":""}`,children:[T.jsx(J4,{className:"text-purple-400 mb-2",size:30}),T.jsx("span",{className:"text-sm font-medium text-purple-300",children:I.length>=5?"Batas maksimal 5 foto tercapai":"Klik untuk memilih foto"}),T.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Format: JPG, PNG, JPEG (Max: 5MB per file)"})]})]})]}),T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[T.jsx("label",{className:"block text-sm text-purple-300 mb-2",children:"Keterangan / Komentar"}),T.jsx("textarea",{value:q,onChange:Ae,placeholder:"Tambahkan keterangan tentang tugas yang telah diselesaikan...",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:border-purple-500 focus:ring focus:ring-purple-500/30 text-white min-h-[100px]"})]}),k&&T.jsx(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-900/30 border border-red-500/30 p-4 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(Ir,{className:"text-red-400 mr-2"}),T.jsx("p",{className:"text-red-400 text-sm",children:k})]})}),T.jsx(fe.button,{onClick:ue,disabled:I.length===0||!j||L,whileHover:{scale:I.length===0||!j||L?1:1.02,boxShadow:"0 5px 15px rgba(168, 85, 247, 0.4)"},whileTap:{scale:I.length===0||!j||L?1:.98},className:`w-full py-3 px-6 rounded-lg font-medium shadow-lg transition-all duration-200 ${I.length===0||!j||L?"bg-gray-600 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-500 hover:from-purple-700 hover:to-pink-600"}`,children:L?T.jsxs("div",{className:"flex items-center justify-center",children:[T.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Mengunggah..."]}):"Kirim Bukti Penyelesaian"}),b&&T.jsx(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-green-900/30 border border-green-500/30 p-4 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(kh,{className:"text-green-400 mr-2"}),T.jsx("p",{className:"text-green-400 text-sm",children:"Bukti tugas berhasil diunggah!"})]})})]})]})})}),T.jsxs(fe.div,{className:"mt-8 relative z-10 mb-6",initial:"hidden",animate:"visible",variants:_e,children:[T.jsx("h2",{className:"text-xl font-semibold text-purple-300 mb-4",children:"Riwayat Penyelesaian Tugas"}),p.length===0?T.jsx("div",{className:"bg-gray-800/60 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-6 text-center",children:T.jsx("p",{className:"text-gray-400",children:"Belum ada riwayat tugas yang diselesaikan"})}):T.jsx("div",{className:"space-y-4",children:p.map(J=>T.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800/60 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-5",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"font-medium text-lg text-white",children:J.taskTitle||"Tugas Kebersihan"}),T.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Diselesaikan pada: ",new Date(J.submittedAt).toLocaleString("id-ID")]}),J.caption&&T.jsx("div",{className:"mt-3 bg-gray-700/40 p-3 rounded-lg",children:T.jsx("p",{className:"text-sm text-gray-300",children:J.caption})})]}),T.jsx("span",{className:`px-2 py-1 h-fit inline-flex text-xs leading-5 font-semibold rounded-full ${J.status==="reviewed"?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-blue-900/30 text-blue-400 border border-blue-500/30"}`,children:J.status==="reviewed"?"Diperiksa":"Terkirim"})]}),J.images&&J.images.length>0&&T.jsxs("div",{className:"mt-4",children:[T.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Bukti Foto:"}),T.jsx("div",{className:"grid grid-cols-3 gap-2",children:J.images.map((ce,Re)=>T.jsx("a",{href:ce.fileURL,target:"_blank",rel:"noopener noreferrer",className:"block h-20 rounded-lg overflow-hidden border border-purple-500/30 hover:border-purple-400 transition-colors",children:T.jsx("img",{src:ce.fileURL,alt:`Bukti ${Re+1}`,className:"h-full w-full object-cover",onError:De=>{const mt=De.target;mt.src="https://via.placeholder.com/80?text=Error"}})},Re))})]})]},J.id))})]})]})},lF=()=>T.jsx("div",{className:"bg-gray-100 min-h-screen",children:T.jsx(aF,{})}),uF=()=>{const[n,e]=F.useState(""),[t,r]=F.useState(""),[s,a]=F.useState(""),[l,h]=F.useState(!1),[f,p]=F.useState(!1),[g,_]=F.useState(!1),[E,I]=F.useState(!1),N=ad(),[L,C]=F.useState(!1);F.useEffect(()=>{C(!0)},[]);const j=async Z=>{Z.preventDefault(),a(""),_(!0);try{const se=(await Pb(ba,n,t)).user,b=await Qh(vi(Qt,"users",se.uid));if(b.exists()){const A=b.data().role;A==="admin"?N("/dashboard/admin"):A==="user"?N("/dashboard/user"):a("Role tidak dikenal.")}else a("Akun belum terdaftar di database.")}catch(ee){ee.code==="auth/user-not-found"?a("Email tidak ditemukan."):ee.code==="auth/wrong-password"?a("Password salah."):a("Gagal login. Coba lagi.")}finally{_(!1)}},G=()=>{I(!E)},q=()=>T.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0",children:Array.from({length:20}).map((Z,ee)=>T.jsx(fe.div,{className:"absolute bg-purple-500 opacity-10 rounded-full",style:{width:Math.floor(Math.random()*10)+5,height:Math.floor(Math.random()*10)+5,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`},animate:{x:[0,Math.random()*100-50],y:[0,Math.random()*100-50],opacity:[.1,.3,.1]},transition:{duration:Math.random()*10+10,repeat:1/0,repeatType:"reverse"}},ee))});return T.jsxs("div",{className:"flex items-center justify-center min-h-screen w-full bg-gradient-to-br from-gray-900 via-purple-900 to-gray-800 overflow-hidden relative px-4 py-6",children:[T.jsx("div",{className:"absolute w-1/3 h-1/3 max-w-md max-h-md rounded-full bg-purple-600 opacity-5 -top-10 -left-10 sm:-top-20 sm:-left-20 animate-pulse"}),T.jsx("div",{className:"absolute w-1/2 h-1/2 max-w-lg max-h-lg rounded-full bg-blue-500 opacity-5 -bottom-10 -right-10 sm:-bottom-20 sm:-right-20 animate-pulse",style:{animationDelay:"1.5s"}}),T.jsx("div",{className:"absolute w-1/4 h-1/4 max-w-sm max-h-sm rounded-full bg-indigo-400 opacity-5 top-1/4 left-1/4 animate-pulse",style:{animationDelay:"2.7s"}}),T.jsx(q,{}),T.jsxs(fe.div,{className:`bg-gray-800 bg-opacity-40 p-4 sm:p-6 md:p-8 rounded-2xl backdrop-blur-lg w-full max-w-xs sm:max-w-sm md:max-w-md z-10 transform transition-all duration-700 ${L?"scale-100 opacity-100":"scale-95 opacity-0"}`,style:{boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"},children:[T.jsxs("div",{className:"text-center mb-6 sm:mb-8 md:mb-10",children:[T.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-indigo-400 to-purple-300 bg-clip-text text-transparent",children:"IKPPs Cleanify"}),T.jsx("p",{className:"text-gray-400 mt-2 text-sm sm:text-base",children:"Sign in to your account"})]}),T.jsxs("form",{onSubmit:j,className:"space-y-6 sm:space-y-8",children:[T.jsxs("div",{className:"relative group",children:[T.jsx("input",{type:"email",id:"email",value:n,onChange:Z=>e(Z.target.value),onFocus:()=>h(!0),onBlur:()=>h(n!==""),className:"peer w-full h-10 sm:h-12 bg-transparent text-gray-300 border-b-2 border-gray-600 focus:border-indigo-400 outline-none px-2 pt-2 transition-all duration-300 font-light text-sm sm:text-base",placeholder:" ",style:{fontFamily:"'Segoe UI', 'Inter', sans-serif"}}),T.jsx("label",{htmlFor:"email",className:`absolute left-2 transition-all duration-300 pointer-events-none text-sm sm:text-base
                ${l||n?"text-xs text-indigo-400 -translate-y-5":"text-base text-gray-400 translate-y-0"}
              `,children:"Email"}),T.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400 to-purple-500 transition-all duration-300 group-hover:w-full peer-focus:w-full"})]}),T.jsxs("div",{className:"relative group",children:[T.jsx("input",{type:E?"text":"password",id:"password",value:t,onChange:Z=>r(Z.target.value),onFocus:()=>p(!0),onBlur:()=>p(t!==""),className:"peer w-full h-10 sm:h-12 bg-transparent text-gray-300 border-b-2 border-gray-600 focus:border-indigo-400 outline-none px-2 pt-2 pr-10 transition-all duration-300 font-light text-sm sm:text-base",placeholder:" ",style:{fontFamily:"'Segoe UI', 'Inter', sans-serif"}}),T.jsx("label",{htmlFor:"password",className:`absolute left-2 transition-all duration-300 pointer-events-none text-sm sm:text-base
                ${f||t?"text-xs text-indigo-400 -translate-y-5":"text-base text-gray-400 translate-y-0"}
              `,children:"Password"}),T.jsx("button",{type:"button",onClick:G,className:"absolute right-2 top-1/2 -translate-y-1/2 text-white bg-purple-600 px-2 py-1 rounded text-xs",children:E?"Hide":"Show"}),T.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400 to-purple-500 transition-all duration-300 group-hover:w-full peer-focus:w-full"})]}),T.jsx("button",{type:"submit",disabled:g,className:`w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-2.5 sm:py-3 rounded-lg font-medium text-base sm:text-lg transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-lg ${g?"opacity-70":""}`,children:g?T.jsxs("div",{className:"flex items-center justify-center",children:[T.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-3 sm:border-4 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):"Login"}),T.jsx(gi,{children:s&&T.jsx(fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-900 bg-opacity-20 border border-red-800 text-red-300 rounded-lg p-2 sm:p-3 text-xs sm:text-sm",children:s})})]}),T.jsx("div",{className:"mt-8 sm:mt-10 md:mt-12 text-center text-gray-500 text-xs opacity-60 font-light",children:T.jsx("p",{children:"© 2025 oleh ARW. All rights reserved"})})]})]})},cF=()=>T.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:T.jsx(uF,{})}),hF=()=>{const[n,e]=F.useState(""),[t,r]=F.useState(""),s=a=>{a.preventDefault(),console.log("Profile updated:",{name:n,nik:t})};return T.jsxs("form",{onSubmit:s,className:"bg-white p-6 rounded shadow-md",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Edit Profil"}),T.jsx("input",{type:"text",placeholder:"Nama Lengkap",className:"w-full p-2 border rounded mb-4",value:n,onChange:a=>e(a.target.value)}),T.jsx("input",{type:"text",placeholder:"NIK",className:"w-full p-2 border rounded mb-4",value:t,onChange:a=>r(a.target.value)}),T.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded",children:"Simpan"})]})},dF=()=>T.jsx("div",{className:"bg-gray-100 min-h-screen flex items-center justify-center",children:T.jsx(hF,{})}),fF=()=>T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:[T.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"SILAHKAN LOGIN ULANG"}),T.jsx("p",{className:"text-gray-600 mb-4",children:"Akun anda belum terdaftar."}),T.jsx(q1,{to:"/",className:"text-blue-500 underline",children:"Kembali ke login"})]}),pF=()=>T.jsx($1,{children:T.jsxs(O1,{children:[T.jsx(ma,{path:"/",element:T.jsx(cF,{})}),T.jsx(ma,{path:"/dashboard/admin",element:T.jsx(oF,{})}),T.jsx(ma,{path:"/dashboard/user",element:T.jsx(lF,{})}),T.jsx(ma,{path:"/profile",element:T.jsx(dF,{})}),T.jsx(ma,{path:"*",element:T.jsx(fF,{})})]})}),mF=Hk.createRoot(document.getElementById("root"));mF.render(T.jsx(Ti.StrictMode,{children:T.jsx(pF,{})}));
